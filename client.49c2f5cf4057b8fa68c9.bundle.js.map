{"version":3,"sources":["webpack:///./src/services/oni-save/state.ts","webpack:///./src/state/index.ts","webpack:///./src/services/oni-save/hooks/useBehavior.ts","webpack:///./src/services/oni-save/selectors/save-game.ts","webpack:///./src/services/oni-save/selectors/game-objects.ts","webpack:///./src/components/PageContainer.tsx","webpack:///./src/services/oni-save/reducer/utils.ts","webpack:///./src/components/RedirectIfNoSave/index.ts","webpack:///./src/utils.ts","webpack:///./src/services/oni-save/selectors/utils.ts","webpack:///./src/services/oni-save/actions/receive-onisave.ts","webpack:///./src/services/oni-save/selectors/loading-status.ts","webpack:///./src/services/oni-save/actions/import-behaviors.ts","webpack:///./src/services/oni-save/actions/parse-progress.ts","webpack:///./src/components/CommitTextField/index.ts","webpack:///./src/runtime-env.ts","webpack:///./src/history.ts","webpack:///./src/services/i18n/i18n.ts","webpack:///./src/services/oni-save/actions/modify-behavior.ts","webpack:///./src/services/oni-save/actions/load-onisave.ts","webpack:///./src/pages/RawEditorPage/editor-data.ts","webpack:///./src/store/store.ts","webpack:///./src/services/i18n/state.ts","webpack:///./src/services/i18n/actions/set-language.ts","webpack:///./src/services/oni-save/actions/change-geyser-parameter.ts","webpack:///./src/services/oni-save/utils.ts","webpack:///./src/services/oni-save/actions/change-geyser-type.ts","webpack:///./src/services/oni-save/actions/clone-duplicant.ts","webpack:///./src/services/oni-save/actions/copy-behaviors.ts","webpack:///./src/services/oni-save/actions/delete-loose-material.ts","webpack:///./src/services/oni-save/actions/load-example.ts","webpack:///./src/services/oni-save/actions/merge-behaviors.ts","webpack:///./src/services/oni-save/actions/modify-behavior-path.ts","webpack:///./src/services/oni-save/actions/modify-difficulty.ts","webpack:///./src/services/oni-save/actions/modify-planet.ts","webpack:///./src/services/oni-save/actions/modify-raw.ts","webpack:///./src/services/oni-save/actions/paste-behaviors.ts","webpack:///./src/services/oni-save/actions/export-behaviors.ts","webpack:///./src/services/oni-save/worker-instance.ts","webpack:///./src/services/oni-save/actions/save-onisave.ts","webpack:///./src/services/i18n/selectors/language.ts","webpack:///./src/components/utils.ts","webpack:///./src/components/AbstractLoadButton/index.ts","webpack:///./src/services/oni-save/hooks/useGameObjects.ts","webpack:///./src/exportable-behaviors.ts","webpack:///./src/components/BehaviorChooserDialog.tsx","webpack:///./src/components/DuplicantPortrait.tsx","webpack:///./src/services/oni-save/selectors/space-manager.ts","webpack:///./src/services/oni-save/hooks/usePlanet.ts","webpack:///./src/services/oni-save/hooks/useMaterials.ts","webpack:///./src/index.tsx","webpack:///./src/style.css?9819","webpack:///./src/style.css","webpack:///./src/debug.ts","webpack:///./src/state/utils.ts","webpack:///./src/store/reducer.ts","webpack:///./src/services/i18n/reducer/index.ts","webpack:///./src/services/i18n/reducer/set-language.ts","webpack:///./src/services/oni-save/reducer/index.ts","webpack:///./src/services/oni-save/reducer/change-geyser-parameter.ts","webpack:///./src/services/oni-save/reducer/change-geyser-type.ts","webpack:///./src/services/oni-save/reducer/clone-duplicant.ts","webpack:///./src/services/oni-save/reducer/copy-behaviors.ts","webpack:///./src/services/oni-save/reducer/delete-looe-material.ts","webpack:///./src/services/oni-save/reducer/import-warn-checksum.ts","webpack:///./src/services/oni-save/reducer/load-example.ts","webpack:///./src/services/oni-save/reducer/merge-behaviors.ts","webpack:///./src/services/oni-save/reducer/modify-behavior-path.ts","webpack:///./src/services/oni-save/reducer/modify-behavior.ts","webpack:///./src/services/oni-save/reducer/modify-difficulty.ts","webpack:///./src/services/oni-save/reducer/modify-planet.ts","webpack:///./src/services/oni-save/reducer/modify-raw.ts","webpack:///./src/services/oni-save/reducer/parse-progress.ts","webpack:///./src/services/oni-save/reducer/paste-behaviors.ts","webpack:///./src/services/oni-save/reducer/receive-onisave.ts","webpack:///./src/store/saga.ts","webpack:///./src/services/oni-save/saga/index.ts","webpack:///./src/services/oni-save/saga/export-behaviors.ts","webpack:///./src/services/oni-save/saga/import-behaviors.ts","webpack:///./src/services/oni-save/saga/load-onisave.ts","webpack:///./src/services/oni-save/worker-messages.ts","webpack:///./src/services/oni-save/save-serializer.worker.ts","webpack:///./src/services/oni-save/saga/save-onisave.ts","webpack:///./src/store/persist.ts","webpack:///./src/services/i18n/persist.ts","webpack:///./src/store/devtool-sanitizer.ts","webpack:///./src/root.tsx","webpack:///./src/theme.ts","webpack:///./src/store/components/StoreProvider.tsx","webpack:///./src/services/i18n/components/I18NProvider.tsx","webpack:///./src/components/LoadingDialog/index.ts","webpack:///./src/components/LoadingDialog/component.tsx","webpack:///./src/components/LoadingDialog/connector.ts","webpack:///./src/components/ImportWarningDialog/index.ts","webpack:///./src/components/ImportWarningDialog/component.tsx","webpack:///./src/components/ImportWarningDialog/connector.ts","webpack:///./src/services/oni-save/selectors/ui-state.ts","webpack:///./src/routes.tsx","webpack:///./src/pages/OverviewPage/index.ts","webpack:///./src/pages/OverviewPage/component.tsx","webpack:///./src/pages/OverviewPage/components/NoSave.tsx","webpack:///./src/components/Sidebar.tsx","webpack:///./src/components/Nav/index.ts","webpack:///./src/components/Nav/component.tsx","webpack:///./src/components/ListItemLink.tsx","webpack:///./src/components/Nav/nav-links.ts","webpack:///./src/components/Nav/connector.ts","webpack:///./src/components/GithubButton.tsx","webpack:///./src/components/Appbar.tsx","webpack:///./src/components/SettingsButton.tsx","webpack:///./src/components/SaveIconButton/index.ts","webpack:///./src/components/SaveIconButton/component.tsx","webpack:///./src/components/SaveIconButton/connector.ts","webpack:///./src/components/LoadIconButton/index.ts","webpack:///./src/components/LoadIconButton/component.tsx","webpack:///./src/components/AbstractLoadButton/component.tsx","webpack:///./src/services/oni-save/hooks/useLoadFile.ts","webpack:///./src/components/BackButton/index.ts","webpack:///./src/components/BackButton/component.tsx","webpack:///./src/components/BackButton/connector.ts","webpack:///./src/components/ModifiedChip/index.ts","webpack:///./src/components/ModifiedChip/component.tsx","webpack:///./src/components/ModifiedChip/connector.ts","webpack:///./src/components/ExampleChip/index.ts","webpack:///./src/components/ExampleChip/component.tsx","webpack:///./src/components/ExampleChip/connector.ts","webpack:///./src/components/LoadButton/index.ts","webpack:///./src/components/LoadButton/component.tsx","webpack:///./src/components/LoadExampleButton/index.ts","webpack:///./src/components/LoadExampleButton/component.tsx","webpack:///./src/components/LoadExampleButton/connector.ts","webpack:///./src/pages/OverviewPage/components/SaveOverview/index.ts","webpack:///./src/pages/OverviewPage/components/SaveOverview/SaveOverview.tsx","webpack:///./src/pages/OverviewPage/components/SaveOverview/components/Difficulty.tsx","webpack:///./src/services/oni-save/hooks/useDifficulty.ts","webpack:///./src/services/oni-save/selectors/settings.ts","webpack:///./src/pages/OverviewPage/components/SaveOverview/state-props.ts","webpack:///./src/pages/OverviewPage/components/SaveError/index.ts","webpack:///./src/pages/OverviewPage/components/SaveError/component.tsx","webpack:///./src/pages/OverviewPage/components/SaveError/connector.ts","webpack:///./src/pages/OverviewPage/connector.ts","webpack:///./src/pages/DuplicantsPage/index.ts","webpack:///./src/pages/DuplicantsPage/DuplicantsPage.tsx","webpack:///./src/components/RedirectIfNoSave/component.tsx","webpack:///./src/components/RedirectIfNoSave/connector.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantList.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/index.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/DuplicantListItem.tsx","webpack:///./src/components/DuplicantMenu/index.ts","webpack:///./src/components/DuplicantMenu/component.tsx","webpack:///./src/components/DuplicantMenu/components/CopyMenuItem/index.ts","webpack:///./src/components/DuplicantMenu/components/CopyMenuItem/component.tsx","webpack:///./src/components/DuplicantMenu/components/CopyMenuItem/connector.ts","webpack:///./src/components/DuplicantMenu/components/ImportMenuItem/index.ts","webpack:///./src/components/DuplicantMenu/components/ImportMenuItem/component.tsx","webpack:///./src/components/DuplicantMenu/components/ImportMenuItem/connector.ts","webpack:///./src/components/DuplicantMenu/components/ExportMenuItem/index.ts","webpack:///./src/components/DuplicantMenu/components/ExportMenuItem/component.tsx","webpack:///./src/components/DuplicantMenu/components/ExportMenuItem/connector.ts","webpack:///./src/components/DuplicantMenu/components/PasteMenuItem/index.ts","webpack:///./src/components/DuplicantMenu/components/PasteMenuItem/component.tsx","webpack:///./src/components/DuplicantMenu/components/PasteMenuItem/connector.ts","webpack:///./src/services/oni-save/selectors/copy-paste.ts","webpack:///./src/components/DuplicantMenu/components/CloneMenuItem/index.ts","webpack:///./src/components/DuplicantMenu/components/CloneMenuItem/component.tsx","webpack:///./src/components/DuplicantMenu/components/CloneMenuItem/connector.ts","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/hair sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/headshape sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/eyes sync \\.png$","webpack:///./node_modules/react-oni-duplicant/assets/duplicant/body sync \\.png$","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantName.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantTraits.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantAttributes/index.ts","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantAttributes/DuplicantAttributes.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/DuplicantAttributes/components/Attribute.tsx","webpack:///./src/pages/DuplicantsPage/components/DuplicantListItem/components/EditButton.tsx","webpack:///./src/components/ButtonLink.tsx","webpack:///./src/pages/DuplicantEditorPage/index.ts","webpack:///./src/pages/DuplicantEditorPage/DuplicantEditorPage.tsx","webpack:///./src/services/oni-save/hooks/useGameObject.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/DuplicantEditor.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/DuplicantName.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Traits/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Traits/Traits.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Traits/components/AddTraitButton.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Interests/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Interests/Interests.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Interests/components/AddAptitudeButton.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/Attributes.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/components/AttributeName.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Attributes/components/AttributeField.tsx","webpack:///./src/components/CommitTextField/component.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/Appearance.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/components/HeadPortrait.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Appearance/components/Portrait.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Skills/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Skills/Skills.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Skills/components/Experience/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Skills/components/Experience/component.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Skills/components/Experience/connector.ts","webpack:///./src/services/oni-save/selectors/behaviors.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Skills/components/Masteries.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/Effects.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/components/AddEffectButton.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Effects/components/AddEffectDialog.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Health/index.ts","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Health/Health.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantEditor/components/Health/components/Value.tsx","webpack:///./src/pages/DuplicantEditorPage/components/DuplicantNotFound.tsx","webpack:///./src/pages/GeysersPage/index.ts","webpack:///./src/pages/GeysersPage/GeysersPage.tsx","webpack:///./src/pages/GeysersPage/components/GeyserListItem.tsx","webpack:///./src/services/oni-save/hooks/useGeyser.ts","webpack:///./src/services/oni-save/selectors/geysers.ts","webpack:///./src/pages/PlanetsPage/index.ts","webpack:///./src/pages/PlanetsPage/PlanetsPage.tsx","webpack:///./src/pages/PlanetsPage/components/PlanetList.tsx","webpack:///./src/services/oni-save/hooks/usePlanets.ts","webpack:///./src/pages/PlanetsPage/components/PlanetListItem/index.ts","webpack:///./src/pages/PlanetsPage/components/PlanetListItem/PlanetListItem.tsx","webpack:///./src/pages/PlanetsPage/components/PlanetListItem/components/RecoverableElement.tsx","webpack:///./src/pages/MaterialsPage/index.ts","webpack:///./src/pages/MaterialsPage/MaterialsPage.tsx","webpack:///./src/pages/MaterialsPage/components/MaterialsTable.tsx","webpack:///./src/services/oni-save/selectors/material.ts","webpack:///./src/services/oni-save/materials.ts","webpack:///./src/pages/MaterialsPage/components/DeleteLooseButton.tsx","webpack:///./src/components/ConfirmationDialog.tsx","webpack:///./src/pages/RawEditorPage/index.ts","webpack:///./src/pages/RawEditorPage/connector.ts","webpack:///./src/pages/RawEditorPage/RawEditorPage.tsx","webpack:///./src/pages/RawEditorPage/components/RawObjectTree/index.ts","webpack:///./src/pages/RawEditorPage/components/RawObjectTree/RawObjectTree.tsx","webpack:///./src/pages/RawEditorPage/components/BreadcrumbPath/index.ts","webpack:///./src/pages/RawEditorPage/components/BreadcrumbPath/BreadcrumbPath.tsx","webpack:///./src/pages/RawEditorPage/components/ObjectEditor/index.ts","webpack:///./src/pages/RawEditorPage/components/ObjectEditor/ObjectEditor.tsx","webpack:///./src/pages/RawEditorPage/components/FieldEditor/index.tsx","webpack:///./src/pages/RawEditorPage/components/FieldEditor/components/TextFieldEditor.tsx","webpack:///./src/pages/RawEditorPage/components/FieldEditor/components/NumberFieldEditor.tsx","webpack:///./src/pages/RawEditorPage/components/FieldEditor/components/BooleanFieldEditor.tsx","webpack:///./src/pages/RawEditorPage/components/FieldEditor/editor-connector.ts","webpack:///./src/pages/SettingsPage/index.ts","webpack:///./src/pages/SettingsPage/SettingsPage.tsx","webpack:///./src/pages/SettingsPage/components/Language/index.ts","webpack:///./src/pages/SettingsPage/components/Language/component.tsx","webpack:///./src/pages/SettingsPage/components/Language/connector.ts"],"names":["LoadingStatus","defaultOniSaveState","loadingStatus","Idle","loadingProgressMessage","loadError","saveGame","isMock","isModified","copyPasteData","warnInputChecksum","Object","freeze","defaultAppState","router","undefined","services","i18n","defaultI18NState","oniSave","gameObjectId","behaviorName","dispatch","useDispatch","templateData","extraData","gameObjectsById","useSelector","gameObjectsByIdSelector","gameObject","behavior","getBehavior","onTemplateDataModify","React","useCallback","data","modifyBehavior","BehaviorDataTarget","Template","onExtraDataModify","Extra","saveGameSelector","createServiceSelector","state","isMockSelector","hasSaveSelector","isSaveModifiedSelector","gameObjectGroupsSelector","local","gameObjects","gameObjectTypesByIdSelector","createSelector","groups","gameObjectTypesById","group","gameObjectIds","map","getGameObjectId","filter","isNotNull","name","flatMap","keyBy","styles","createStyles","root","display","flexDirection","width","height","sidebar","appRoot","marginLeft","content","minHeight","overflow","withStyles","classes","title","back","children","className","variant","anchor","message","Error","getGameObjectLocationById","gameObjectIndex","groupIndex","gameObjectGroups","length","getGameObjectIndexById","ModifySaveError","replace","array","index","value","slice","modifier","e","gameObjectType","findIndex","x","dataKey","behaviorIndex","behaviors","newData","applyModifier","obj","path","target","key","prop","arrayDict","component","subComponents","c","forEach","Array","isArray","type","keys","selector","rootSelector","ACTION_RECEIVE_ONISAVE_BEGIN","receiveOniSaveBegin","operation","clearExisting","payload","meta","ACTION_RECEIVE_ONISAVE_ERROR","receiveOniSaveError","error","ACTION_RECEIVE_ONISAVE_SUCCESS","receiveOniSaveSuccess","types","action","indexOf","loadingStatusSelector","loadingStatusMessageSelector","loadingErrorSelector","loadingErrorMessageSelector","ACTION_ONISAVE_IMPORT_BEHAVIORS","importBehaviors","file","ACTION_ONISAVE_IMPORT_WARN_CHECKSUM","importWarnChecksum","ACTION_ONISAVE_IMPORT_CONFIRM","importConfirm","doImport","ACTION_ONISAVE_PARSE_PROGRESS","parseProgress","osPlatform","os","family","OSType","test","isProd","history","createHashHistory","use","initReactI18next","init","fallbackLng","ns","defaultNS","resources","cs","common","oni","en","es","ru","zh","debug","interpolation","escapeValue","react","wait","ACTION_ONISAVE_MODIFY_BEHAVIOR","behaviorId","merge","ACTION_ONISAVE_LOAD","loadOniSave","pathSegmentData","matcher","get","segment","find","i","isPathMatch","last","itemType","store","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","actionSanitizer","stateSanitizer","actionsBlacklist","compose","sagaMiddleware","initialState","loadPersistedState","applyMiddleware","routerMiddleware","run","subscribe","savePersistedState","getState","createStore","language","ACTION_SET_LANGUAGE","setLanguage","ACTION_ONISAVE_CHANGE_GEYSER_PARAMETER","changeGeyserParameter","parameter","idBehavior","KPrefabIDBehavior","InstanceID","ACTION_ONISAVE_CHANGE_GEYSER_TYPE","changeGeyserType","geyserType","ACTION_ONISAVE_CLONE_DUPLICANT","cloneDuplicant","ACTION_ONISAVE_COPY_BEHAVIORS","copyBehaviors","ACTION_ONISAVE_DELETE_LOOSE_MATERIAL","deleteLooseMaterial","materialType","ACTION_ONISAVE_LOAD_EXAMPLE","loadExampleSave","ACTION_ONISAVE_MERGE_BEHAVIORS","mergeBehaviors","ACTION_MODIFY_BEHAVIOR_PATH","behaviorPath","ACTION_ONISAVE_MODIFY_DIFFICULTY","modifyDifficulty","difficultyType","ACTION_ONISAVE_MODIFY_PLANET","modifyPlanet","planetId","planet","ACTION_ONISAVE_MODIFY_RAW","modifyRaw","ACTION_ONISAVE_PASTE_BEHAVIORS","pasteBehaviors","ACTION_ONISAVE_EXPORT_BEHAVIORS","exportBehaviors","worker","onProgress","promise","Promise","accept","reject","unhook","onerror","onmessage","RESPONSE_PROGRESS","RESPONSE_PARSE_SUCCESS","RESPONSE_PARSE_ERROR","jsonToError","postMessage","parseSave","RESPONSE_WRITE_SUCCESS","RESPONSE_WRITE_ERROR","writeSave","ACTION_ONISAVE_SAVE","saveOniSave","fileName","currentLanguageSelector","event","onClick","defaultPrevented","button","metaKey","altKey","ctrlKey","shiftKey","isModifierPressed","preventDefault","push","this","props","to","gameObjectsGroups","maybeArray","sort","MinionExportableBehaviors","i18nKey","AccessorizerBehavior","AIAttributeLevelsBehavior","AITraitsBehavior","MinionResumeBehavior","withTranslation","applyText","open","choices","onApply","onCancel","t","selectedTargets","setSelectedTargets","onCheckboxChange","checked","onApplyClick","Fragment","id","control","onChange","color","label","defaultValue","autoFocus","portraitContainer","position","portrait","transformOrigin","ordinalFromAccessory","guid","parts","split","Number","scale","style","left","top","transform","DuplicantContainer","Body","ordinal","getAccessoryOfType","accessories","Guid","Head","Eyes","Hair","spaceManagerSelector","saveGameGroup","saveGameObject","spaceBehavior","SpacecraftManagerBehavior","planetIdsSelector","spaceManager","destinations","planetSelector","_","onModifyPlanet","materialsSelector","rootEl","document","getElementById","ReactDOM","render","module","options","locals","exports","loadMockSave","mockSaveGame","Loading","loadMockError","selectors","routerReducer","connectRouter","servicesReducer","combineReducers","lang","changeLanguage","isChangeGeyserParameterAction","tryModifySaveGame","requireGameObject","changeStateBehaviorData","GeyserBehavior","configuration","replaceGameObject","isChangeGeyserTypeAction","typeId","HashedString","removeGameObject","addGameObject","isCloneDuplicantAction","oldIdentity","requireBehavior","MinionIdentityBehavior","newMinion","shouldCloneBehavior","newPrefabId","settings","nextUniqueID","assignableProxy","performCloneDuplicant","BEHAVIOR_BLACKLIST","isCopyBehaviorsAction","typesById","isDeleteLooseMaterialAction","materialsToRemove","SimHashNames","isImportWarnChecksumAction","isImportConfirmAction","isLoadExampleSaveAction","Ready","isMergeBehaviorsAction","performMergeBehaviors","isModifyBehaviorPathAction","set","performModifyBehaviorPath","isModifyBehaviorAction","mergeData","performMerge","original","performModifyBehavior","isModifyDifficultyAction","gameData","customGameSettings","CurrentQualityLevelsBySetting","setArrayDict","getGameObjectGroup","saveGameObj","sandboxEnabled","isModifyPlanetAction","newDestinations","isModifyRawAction","performModifyRaw","isParseProgressAction","copyBehavior","isPasteBehaviorsAction","performPasteBehaviors","isReceiveOniSaveAction","Saving","fork","handleExportBehaviorsActionSaga","select","identity","exportObject","targetBehaviors","exportBehavior","hash","algorithm","$sha1","buildExportObject","JSON","stringify","blob","Blob","saveAs","takeEvery","handleImportBehaviorsSaga","onError","console","call","readFile","contentStr","parse","sha1","contentSha1","warnImportChecksumSaga","put","reader","FileReader","onload","result","readAsText","take","handleOniSaveLoad","loadChannel","eventChannel","emitter","then","END","catch","createLoadChannel","msg","readAsArrayBuffer","sendProgress","parseSaveSuccess","parseSaveError","errorToJson","stack","writeSaveSuccess","writeSaveError","Worker","handleOniSaveWrite","saveName","header","gameInfo","baseName","saveChannel","createSaveChannel","persistedState","stateJson","localStorage","getItem","PERSISTED_STATE_KEY","getStoredState","lastPersistedState","buildPersistedState","createStructuredSelector","setItem","setStoredState","persistState","persisted","sanitizeSave","save","world","streamed","ConnectedRouter","MuiThemeProvider","theme","createMuiTheme","palette","Provider","I18nextProvider","spacing","verticalAlign","loadingText","textAlign","isLoading","isSaving","Trans","mapStateToProps","connect","description","whiteSpace","isOpen","onConfirm","warnInputChecksumSelector","mapDispatchToProps","Switch","Route","exact","Redirect","SaveFilePaths","windows","mac","linux","unknown","saveFilePath","padding","toolbar","mixins","paddingLeft","alignItems","ghButton","marginRight","hasSave","saveRequired","autoselect","disabled","_onClick","onLinkClick","bind","location","selected","pathStartsWith","pathname","href","createHref","Component","startsWith","substr","withRouter","ListItemLink","FontAwesomeIcon","icon","faGithub","flexGrow","chip","onSave","disabledSelector","loadStatus","onLoadSave","inputRef","useRef","current","click","onFileChange","files","ref","isBusy","status","goBack","isExample","onLoadExampleSave","difficulty","marginTop","cycleCount","table","gridTemplateColumns","onModifyDifficulty","keysOfType","QualityLevelSettingValues","gameSettings","gameSettingsSelector","setting","game","numberOfCycles","errorMessage","duplicantList","flexWrap","margin","item","titleBar","marginBottom","titleControls","portraitColumn","attributes","editButton","anchorEl","setAnchorEl","onOpen","currentTarget","onClose","Boolean","onCopyBehaviors","isDialogOpen","setDialogOpen","onDialogApply","copyText","onImportDuplicant","onMenuItemClick","onExportBehaviors","exportText","onPasteBehaviors","copyPasteGameObjectTypeSelect","copyPasteDataSelector","copyPasteAvailableBehaviorsSelector","onCloneDuplicant","webpackContext","req","webpackContextResolve","__webpack_require__","o","code","resolve","trait","TraitIds","toUpperCase","attributeId","attribute","saveLoadLevels","String","signPrefix","level","size","ButtonLink","paddingTop","divider","nameRow","flexShrink","portraitRow","portraitRowColumn","portraitRowTweakables","row","tabRow","tabContent","tab","setTab","square","textColor","CANDIDATE_TRAITS","AI_TRAIT_IDS","availableTraits","difference","onDelete","newTraitIds","splice","onAddTrait","setIsOpen","chipRef","clickable","AptitudeBySkillGroup","availableAptitudes","MinionSkillGroupNames","aptitudeName","aptitudes","getHashedString","aptitude","aptitudeValue","selectedAptitudes","removeAptitude","hashStr","onAddAptitude","PRIMARY_ATTRIBUTES","attributeList","attributeItem","attributeInput","attrIndex","attr","onCommit","newLevels","_onChange","setState","_onKeyPress","onKeyPress","_commit","_onBlur","onBlur","displayValue","editValue","prevValue","CommitTextField","getOrdinalOfType","accessory","getAccessoryName","ordinalRange","from","partList","partContainer","part","cursor","hairOrdinal","headOrdinal","eyesOrdinal","makeSetAccessory","stopPropagation","getIndexOfAccessoryType","accessoryMod","Accessory","padStart","hatHair","hairAlways","setAccessory","bodyOrdinal","experience","setExperience","onSetExperience","experienceSelector","getBehaviorSelector","resume","totalExperienceGained","ownProps","modifyBehaviorPath","gameObjectIdSelector","behaviorSelectorCache","has","getMastery","masteries","mastery","entry","MasteryBySkillID","MinionSkillNames","skillName","onChangeMastery","align","saveLoadEffects","timeRemaining","scope","colSpan","isAddingEffect","setIsAddingEffect","currentEffects","availableEffects","AI_EFFECT_IDS","onAddEffect","cycleTime","selectedEffect","setSelectedEffect","setTimeRemaining","htmlFor","inputProps","effect","max","valueLabel","transientValue","setTransientValue","amounts","amount","setAmount","setTransientAmount","min","onChangeCommitted","text","GeyserTypeNames","useStyles","makeStyles","sliderSection","emitRate","yearLength","yearActive","emitActive","onChangeEmitRate","onChangeGeyserType","onChangeYearLength","onChangeYearActive","onChangeEmitActive","onGeyserTypeSelected","onGeyserRateChanged","onGeyserYearLengthChanged","onGeyserYearActiveChanged","onGeyserEmissionLengthChanged","GeyserType","typeName","config","geyserConfigSelector","rate","rateRoll","fraction","yearLengthRoll","yearPercentRoll","iterationPercentRoll","geyserBehavior","planetIds","contentLayout","planetContainer","planetImg","viewBox","cx","cy","r","fill","recoverableElements","resourceId","RecoverableElement","setTransientMass","setMass","newRecoverables","resource","mass","currentMass","SimHashes","Math","round","step","searchBox","materials","useMaterialList","search","setSearch","onSearchChange","toLowerCase","formatWeight","weight","abs","g","toFixed","count","kg","displayMaterials","looseGrams","looseCount","storedGrams","storedCount","countMaterialGroup","rowsByMaterial","isMaterialGameObject","addMaterialObject","countLooseMaterialGroup","storedObjects","getStoredObjects","storedObject","countStorageGroup","storage","StorageBehavior","MaterialGameObjectNames","loose","elementBehavior","PrimaryElementBehavior","Units","getMaterialRow","rows","values","orderBy","onDeleteMaterial","useDeleteMaterials","onDeleteConfirm","setOpen","onCancelClick","onConfirmClick","tree","setPath","onChangePath","defaultCollapseIcon","defaultExpandIcon","RawTreeChildren","isObjectKey","childPath","RawTreeChild","join","segmentName","getSegmentName","nodeId","segmentPath","editors","useMemo","reduce","editor","getSegmentEditor","editorFields","editorType","EditorField","Editors","string","number","boolean","onValueChanged","languages","currentLanguage","onChangeLanguage","langEntries","entries","sortBy"],"mappings":"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9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,4BAA6B,IAC7B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,4BAA6B,IAC7B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,4BAA6B,IAC7B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,4BAA6B,IAC7B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,4BAA6B,IAC7B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,4BAA6B,IAC7B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6BAA8B,IAC9B,6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","file":"client.49c2f5cf4057b8fa68c9.bundle.js","sourcesContent":["import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport enum LoadingStatus {\r\n  Idle = \"idle\",\r\n  Loading = \"loading\",\r\n  Saving = \"saving\",\r\n  Ready = \"ready\",\r\n  Error = \"error\"\r\n}\r\n\r\nexport interface CopyPasteData {\r\n  gameObjectType: string;\r\n  behaviors: Record<string, BehaviorCopyData>;\r\n}\r\nexport interface BehaviorCopyData {\r\n  templateData?: any;\r\n  extraData?: any;\r\n}\r\n\r\nexport interface OniSaveState {\r\n  loadingStatus: LoadingStatus;\r\n  loadingProgressMessage: string | null;\r\n  loadError: Error | null;\r\n  saveGame: SaveGame | null;\r\n  isMock: boolean;\r\n  isModified: boolean;\r\n  copyPasteData: CopyPasteData | null;\r\n  warnInputChecksum: boolean;\r\n}\r\n\r\nexport const defaultOniSaveState: Readonly<OniSaveState> = {\r\n  loadingStatus: LoadingStatus.Idle,\r\n  loadingProgressMessage: null,\r\n  loadError: null,\r\n  saveGame: null,\r\n  isMock: false,\r\n  isModified: false,\r\n  copyPasteData: null,\r\n  warnInputChecksum: false\r\n};\r\nObject.freeze(defaultOniSaveState);\r\n","import { RouterState } from \"connected-react-router\";\r\n\r\nimport { I18NState, defaultI18NState } from \"@/services/i18n/state\";\r\nimport { OniSaveState, defaultOniSaveState } from \"@/services/oni-save/state\";\r\n\r\nexport * from \"./utils\";\r\n\r\nexport interface AppState {\r\n  router: RouterState;\r\n  services: {\r\n    i18n: I18NState;\r\n    oniSave: OniSaveState;\r\n  };\r\n}\r\n\r\nexport const defaultAppState: Readonly<AppState> = {\r\n  router: undefined as any,\r\n  services: {\r\n    i18n: defaultI18NState,\r\n    oniSave: defaultOniSaveState\r\n  }\r\n};\r\nObject.freeze(defaultAppState);\r\n","import * as React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { GameObjectBehavior, BehaviorName, getBehavior } from \"oni-save-parser\";\r\n\r\nimport { modifyBehavior, BehaviorDataTarget } from \"../actions/modify-behavior\";\r\nimport { gameObjectsByIdSelector } from \"../selectors/game-objects\";\r\n\r\nexport interface UseBehavior<T extends GameObjectBehavior> {\r\n  templateData: T[\"templateData\"];\r\n  extraData: T[\"extraData\"];\r\n  onTemplateDataModify(templateData: DeepPartial<T[\"templateData\"]>): void;\r\n  onExtraDataModify(extraData: DeepPartial<T[\"extraData\"]>): void;\r\n};\r\n\r\nexport default function useBehavior<T extends GameObjectBehavior>(gameObjectId: number, behaviorName: BehaviorName<T>) {\r\n  const dispatch = useDispatch();\r\n\r\n  let templateData: T[\"templateData\"] = null;\r\n  let extraData: T[\"extraData\"] = null;\r\n\r\n  const gameObjectsById = useSelector(gameObjectsByIdSelector);\r\n  const gameObject = (gameObjectsById && gameObjectsById[gameObjectId]) ? gameObjectsById[gameObjectId] : null;\r\n  if (gameObject) {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (behavior) {\r\n      templateData = behavior.templateData;\r\n      extraData = behavior.extraData;\r\n    }\r\n  }\r\n\r\n  const onTemplateDataModify = React.useCallback((data: Partial<T[\"templateData\"]>) => {\r\n    dispatch(modifyBehavior(\r\n      gameObjectId,\r\n      behaviorName,\r\n      BehaviorDataTarget.Template,\r\n      data\r\n    ));\r\n  }, [dispatch]);\r\n\r\n  const onExtraDataModify = React.useCallback((data: Partial<T[\"extraData\"]>) => {\r\n    dispatch(modifyBehavior(\r\n      gameObjectId,\r\n      behaviorName,\r\n      BehaviorDataTarget.Extra,\r\n      data\r\n    ));\r\n  }, [dispatch]);\r\n\r\n  return {\r\n    templateData,\r\n    extraData,\r\n    onTemplateDataModify,\r\n    onExtraDataModify\r\n  };\r\n}","import { OniSaveState } from \"../state\";\r\n\r\nimport { createServiceSelector } from \"./utils\";\r\n\r\nexport const saveGameSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.saveGame\r\n);\r\n\r\nexport const isMockSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.isMock\r\n);\r\n\r\nexport const hasSaveSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.saveGame != null\r\n);\r\n\r\nexport const isSaveModifiedSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.isModified\r\n);\r\n","import { createSelector } from \"reselect\";\r\nimport { GameObject } from \"oni-save-parser\";\r\nimport { flatMap, keyBy } from \"lodash\";\r\n\r\nimport { isNotNull } from \"@/utils\";\r\n\r\nimport { OniSaveState } from \"../state\";\r\nimport { getGameObjectId } from \"../utils\";\r\n\r\nimport { saveGameSelector } from \"./save-game\";\r\nimport { createServiceSelector } from \"./utils\";\r\n\r\nexport const gameObjectGroupsSelector = createServiceSelector(\r\n  (state: OniSaveState) => {\r\n    const saveGame = saveGameSelector.local(state);\r\n    return saveGame ? saveGame.gameObjects : null;\r\n  }\r\n);\r\n\r\nexport const gameObjectTypesByIdSelector = createServiceSelector(\r\n  createSelector(\r\n    gameObjectGroupsSelector.local,\r\n    groups => {\r\n      let gameObjectTypesById: Record<number, string> = {};\r\n      if (groups) {\r\n        for (const group of groups) {\r\n          const gameObjectIds = group.gameObjects\r\n            .map(getGameObjectId)\r\n            .filter(isNotNull);\r\n          for (const id of gameObjectIds) {\r\n            gameObjectTypesById[id] = group.name;\r\n          }\r\n        }\r\n      }\r\n      return gameObjectTypesById;\r\n    }\r\n  )\r\n);\r\n\r\nexport const gameObjectsByIdSelector = createServiceSelector(\r\n  createSelector(\r\n    gameObjectGroupsSelector.local,\r\n    groups => {\r\n      let gameObjectsById: Record<number, GameObject> = {};\r\n      if (groups) {\r\n        const gameObjects = flatMap(groups, group => group.gameObjects);\r\n        // Object keys are always strings, but we type it as number to ensure we\r\n        //  do not try to pass non-numeric values.\r\n        gameObjectsById = keyBy(gameObjects, getGameObjectId) as Record<\r\n          number,\r\n          GameObject\r\n        >;\r\n      }\r\n      return gameObjectsById;\r\n    }\r\n  )\r\n);\r\n","import * as React from \"react\";\r\n\r\nimport { createStyles, withStyles, WithStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\n\r\nimport Sidebar from \"@/components/Sidebar\";\r\nimport Appbar from \"@/components/Appbar\";\r\n\r\nconst SIDEBAR_WIDTH = 200;\r\n\r\nconst styles = createStyles({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  },\r\n  sidebar: {\r\n    width: SIDEBAR_WIDTH\r\n  },\r\n  appRoot: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: `calc(100% - ${SIDEBAR_WIDTH}px)`,\r\n    height: \"100%\",\r\n    marginLeft: SIDEBAR_WIDTH\r\n  },\r\n  content: {\r\n    minHeight: 0,\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    overflow: \"auto\"\r\n  }\r\n});\r\n\r\nexport interface PageContainerProps {\r\n  title: string;\r\n  back?: boolean;\r\n}\r\n\r\ntype Props = PageContainerProps & WithStyles<typeof styles>;\r\n\r\nconst PageContainer: React.FC<Props> = ({ classes, title, back, children }) => (\r\n  <div className={classes.root}>\r\n    <Drawer variant=\"permanent\" anchor=\"left\">\r\n      <Sidebar className={classes.sidebar} />\r\n    </Drawer>\r\n    <div className={classes.appRoot}>\r\n      <Appbar title={title} back={back} />\r\n      <div className={classes.content}>{children}</div>\r\n    </div>\r\n  </div>\r\n);\r\nexport default withStyles(styles)(PageContainer);\r\n","import {\r\n  SaveGame,\r\n  GameObject,\r\n  BehaviorName,\r\n  GameObjectBehavior,\r\n  GameObjectGroup,\r\n  getBehavior\r\n} from \"oni-save-parser\";\r\nimport { findIndex } from \"lodash\";\r\n\r\nimport { getGameObjectId } from \"../utils\";\r\nimport { OniSaveState } from \"../state\";\r\n\r\nexport class ModifySaveError extends Error {\r\n  constructor(message: string) {\r\n    super(message);\r\n  }\r\n}\r\n\r\nexport function tryModifySaveGame(\r\n  state: OniSaveState,\r\n  modifier: (saveGame: SaveGame) => SaveGame\r\n): OniSaveState {\r\n  let { saveGame } = state;\r\n  if (saveGame) {\r\n    try {\r\n      saveGame = modifier(saveGame);\r\n      state = {\r\n        ...state,\r\n        saveGame,\r\n        isModified: true\r\n      };\r\n    } catch (e) {\r\n      if (!(e instanceof ModifySaveError)) {\r\n        throw e;\r\n      }\r\n    }\r\n  }\r\n  return state;\r\n}\r\n\r\nexport function addGameObject(\r\n  saveGame: SaveGame,\r\n  gameObjectType: string,\r\n  gameObject: GameObject\r\n): SaveGame {\r\n  let groupIndex = findIndex(\r\n    saveGame.gameObjects,\r\n    x => x.name === gameObjectType\r\n  );\r\n  if (groupIndex === -1) {\r\n    const group: GameObjectGroup = {\r\n      name: gameObjectType,\r\n      gameObjects: [gameObject]\r\n    };\r\n    return {\r\n      ...saveGame,\r\n      gameObjects: [...saveGame.gameObjects, group]\r\n    };\r\n  }\r\n\r\n  const gameObjects = [...saveGame.gameObjects];\r\n  gameObjects[groupIndex] = {\r\n    ...gameObjects[groupIndex],\r\n    gameObjects: [...gameObjects[groupIndex].gameObjects, gameObject]\r\n  };\r\n\r\n  return {\r\n    ...saveGame,\r\n    gameObjects\r\n  };\r\n}\r\n\r\nexport function removeGameObject(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number\r\n): SaveGame {\r\n  const [groupIndex, gameObjectIndex] = getGameObjectLocationById(\r\n    saveGame,\r\n    gameObjectId\r\n  );\r\n\r\n  // We need to use basic spread here instead of merge(), as merge treats\r\n  //  empty array the same as empty object and will use the source value.\r\n  // We want to directly set an empty array if we remove the last object.\r\n  let newSaveGame = {\r\n    ...saveGame,\r\n    gameObjects: replace(saveGame.gameObjects, groupIndex, {\r\n      ...saveGame.gameObjects[groupIndex],\r\n      gameObjects: drop(\r\n        saveGame.gameObjects[groupIndex].gameObjects,\r\n        gameObjectIndex\r\n      )\r\n    })\r\n  };\r\n\r\n  return newSaveGame;\r\n}\r\n\r\nexport function requireGameObject(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number,\r\n  gameObjectType?: string\r\n): GameObject {\r\n  const [groupIndex, gameObjectIndex] = getGameObjectLocationById(\r\n    saveGame,\r\n    gameObjectId\r\n  );\r\n  if (\r\n    gameObjectType &&\r\n    saveGame.gameObjects[groupIndex].name !== gameObjectType\r\n  ) {\r\n    throw new ModifySaveError(\r\n      `Expected GameObject ${gameObjectId} to be type ${gameObjectType}.`\r\n    );\r\n  }\r\n  return saveGame.gameObjects[groupIndex].gameObjects[gameObjectIndex];\r\n}\r\n\r\nexport function requireBehavior<T extends GameObjectBehavior>(\r\n  gameObject: GameObject,\r\n  behaviorName: BehaviorName<T>\r\n): T {\r\n  const behavior = getBehavior(gameObject, behaviorName);\r\n  if (!behavior) {\r\n    throw new ModifySaveError(\r\n      `Expected GameObject to have behavior ${behaviorName}.`\r\n    );\r\n  }\r\n  return behavior;\r\n}\r\n\r\nexport function replaceGameObject(\r\n  saveGame: SaveGame,\r\n  gameObject: GameObject\r\n): SaveGame {\r\n  const gameObjectId = getGameObjectId(gameObject);\r\n  if (!gameObjectId) {\r\n    throw new ModifySaveError(`GameObject ${gameObjectId} has no id.`);\r\n  }\r\n\r\n  const [groupIndex, gameObjectIndex] = getGameObjectLocationById(\r\n    saveGame,\r\n    gameObjectId\r\n  );\r\n\r\n  let newSaveGame = {\r\n    ...saveGame,\r\n    gameObjects: replace(saveGame.gameObjects, groupIndex, {\r\n      ...saveGame.gameObjects[groupIndex],\r\n      gameObjects: replace(\r\n        saveGame.gameObjects[groupIndex].gameObjects,\r\n        gameObjectIndex,\r\n        gameObject\r\n      )\r\n    })\r\n  };\r\n\r\n  return newSaveGame;\r\n}\r\n\r\nexport type DataModifier<T> = Partial<T> | ((data: T) => T);\r\nexport function changeStateBehaviorData<\r\n  T extends GameObjectBehavior,\r\n  K extends \"templateData\" | \"extraData\"\r\n>(\r\n  gameObject: GameObject,\r\n  behaviorName: BehaviorName<T>,\r\n  dataKey: K,\r\n  modifier: DataModifier<T[K]>\r\n): GameObject {\r\n  const behaviorIndex = findIndex(\r\n    gameObject.behaviors,\r\n    x => x.name === behaviorName\r\n  );\r\n  if (behaviorIndex === -1) {\r\n    throw new ModifySaveError(\r\n      `GameObject does not have behavior \"${behaviorName}\".`\r\n    );\r\n  }\r\n\r\n  const behavior = gameObject.behaviors[behaviorIndex];\r\n  const newData = applyModifier(behavior[dataKey], modifier);\r\n\r\n  return {\r\n    ...gameObject,\r\n    behaviors: replace(gameObject.behaviors, behaviorIndex, {\r\n      ...gameObject.behaviors[behaviorIndex],\r\n      [dataKey]: newData\r\n    })\r\n  };\r\n}\r\n\r\nexport function set(obj: any, path: string[], value: any): any {\r\n  if (path.length === 0) {\r\n    return value;\r\n  }\r\n\r\n  obj = { ...obj };\r\n  let target = obj;\r\n  for (const key of path.slice(0, -1)) {\r\n    const prop = { ...target[key] };\r\n    target[key] = prop;\r\n    target = prop;\r\n  }\r\n  target[path[path.length - 1]] = value;\r\n\r\n  return obj;\r\n}\r\n\r\nexport function setArrayDict<TKey, TValue>(\r\n  arrayDict: [TKey, TValue][],\r\n  key: TKey,\r\n  value: TValue\r\n): [TKey, TValue][] {\r\n  const index = findIndex(arrayDict, x => x[0] === key);\r\n  if (index === -1) {\r\n    throw new Error(\"Key not found.\");\r\n  }\r\n\r\n  return replace<[TKey, TValue]>(arrayDict, index, [key, value]);\r\n}\r\n\r\nfunction applyModifier<T>(data: T, modifier: DataModifier<T>): T {\r\n  let newData: T;\r\n  if (typeof modifier === \"function\") {\r\n    newData = modifier(data);\r\n  } else {\r\n    newData = {\r\n      ...data,\r\n      ...modifier\r\n    };\r\n  }\r\n  return newData;\r\n}\r\n\r\nfunction getGameObjectLocationById(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number\r\n): [number, number] {\r\n  const { gameObjects: gameObjectGroups } = saveGame;\r\n  let gameObjectIndex = -1;\r\n  for (let groupIndex = 0; groupIndex < gameObjectGroups.length; groupIndex++) {\r\n    const group = gameObjectGroups[groupIndex];\r\n    gameObjectIndex = getGameObjectIndexById(group, gameObjectId);\r\n    if (gameObjectIndex !== -1) {\r\n      return [groupIndex, gameObjectIndex];\r\n    }\r\n  }\r\n\r\n  throw new ModifySaveError(\r\n    `GameObject ${gameObjectId} does not exist in the save.`\r\n  );\r\n}\r\n\r\nfunction getGameObjectIndexById(group: GameObjectGroup, gameObjectId: number) {\r\n  const { gameObjects } = group;\r\n  for (\r\n    let gameObjectIndex = 0;\r\n    gameObjectIndex < gameObjects.length;\r\n    gameObjectIndex++\r\n  ) {\r\n    const gameObject = gameObjects[gameObjectIndex];\r\n    if (getGameObjectId(gameObject) === gameObjectId) {\r\n      return gameObjectIndex;\r\n    }\r\n  }\r\n\r\n  return -1;\r\n}\r\n\r\nfunction drop<T>(array: T[], index: number): T[] {\r\n  return [...array.slice(0, index), ...array.slice(index + 1)];\r\n}\r\n\r\nfunction replace<T>(array: T[], index: number, value: T): T[] {\r\n  return [...array.slice(0, index), value, ...array.slice(index + 1)];\r\n}\r\n","import RedirectIfNoSave from \"./component\";\r\nimport connectRedirectIfNoSave from \"./connector\";\r\n\r\nexport default connectRedirectIfNoSave(RedirectIfNoSave);\r\n","import { forEach } from \"lodash\";\r\n\r\nexport function attachProps<\r\n  TTarget,\r\n  TSubComponents extends Record<string, any>\r\n>(component: TTarget, subComponents: TSubComponents): TTarget & TSubComponents {\r\n  const c = component as any; //TTarget & TSubComponents;\r\n  forEach(subComponents, (component, key) => {\r\n    c[key] = component;\r\n  });\r\n  return c;\r\n}\r\n\r\nexport function isNotNull<T>(x: T | null | undefined): x is T {\r\n  return x != null;\r\n}\r\n\r\nexport function maybeArray(x: string | string[]): string[] {\r\n  if (Array.isArray(x)) {\r\n    return x;\r\n  }\r\n  return [x];\r\n}\r\n\r\nexport function keysOfType<T>(type: T): (keyof T)[] {\r\n  return Object.keys(type) as any;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nimport { OniSaveState } from \"../state\";\r\n\r\nexport interface OniSaveServiceSelector<T> {\r\n  (state: AppState): T;\r\n  local(state: OniSaveState): T;\r\n}\r\n\r\nexport function createServiceSelector<T>(\r\n  selector: (state: OniSaveState) => T\r\n): OniSaveServiceSelector<T> {\r\n  const rootSelector = (state: AppState) => selector(state.services.oniSave);\r\n  rootSelector.local = selector;\r\n  return rootSelector;\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\nimport { LoadingStatus } from \"../state\";\r\nimport { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_BEGIN = \"oni-save/receive:begin\";\r\nexport const receiveOniSaveBegin = (\r\n  operation: LoadingStatus.Loading | LoadingStatus.Saving,\r\n  clearExisting?: boolean\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_BEGIN as typeof ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  payload: { clearExisting },\r\n  meta: { operation }\r\n});\r\nexport type ReceiveOniSaveBeginAction = ReturnType<typeof receiveOniSaveBegin>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_ERROR = \"oni-save/receive:error\";\r\nexport const receiveOniSaveError = (\r\n  error: Error,\r\n  operation: LoadingStatus.Loading | LoadingStatus.Saving\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_ERROR as typeof ACTION_RECEIVE_ONISAVE_ERROR,\r\n  payload: error,\r\n  meta: { operation }\r\n});\r\nexport type ReceiveOniSaveErrorAction = ReturnType<typeof receiveOniSaveError>;\r\n\r\nexport const ACTION_RECEIVE_ONISAVE_SUCCESS = \"oni-save/receive:success\";\r\nexport const receiveOniSaveSuccess = (\r\n  oniSave: SaveGame,\r\n  operation: LoadingStatus.Loading | LoadingStatus.Saving\r\n) => ({\r\n  type: ACTION_RECEIVE_ONISAVE_SUCCESS as typeof ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  payload: oniSave,\r\n  meta: { operation }\r\n});\r\nexport type ReceiveOniSaveSuccessAction = ReturnType<\r\n  typeof receiveOniSaveSuccess\r\n>;\r\n\r\nexport type ReceiveOniSaveAction =\r\n  | ReceiveOniSaveBeginAction\r\n  | ReceiveOniSaveErrorAction\r\n  | ReceiveOniSaveSuccessAction;\r\n\r\nconst types = [\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS\r\n];\r\nexport function isReceiveOniSaveAction(\r\n  action: AnyAction\r\n): action is ReceiveOniSaveAction {\r\n  return types.indexOf(action.type) !== -1;\r\n}\r\n","import { AppState } from \"@/state\";\r\n\r\nexport const loadingStatusSelector = (state: AppState) =>\r\n  state.services.oniSave.loadingStatus;\r\n\r\nexport const loadingStatusMessageSelector = (state: AppState) =>\r\n  state.services.oniSave.loadingProgressMessage;\r\n\r\nexport const loadingErrorSelector = (state: AppState) =>\r\n  state.services.oniSave.loadError;\r\n\r\nexport const loadingErrorMessageSelector = (state: AppState) => {\r\n  const error = loadingErrorSelector(state);\r\n  if (error) {\r\n    return error.message;\r\n  }\r\n  return null;\r\n};\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_IMPORT_BEHAVIORS = \"oni-save/import-behaviors\";\r\nexport const importBehaviors = (gameObjectId: number, file: File) => ({\r\n  type: ACTION_ONISAVE_IMPORT_BEHAVIORS as typeof ACTION_ONISAVE_IMPORT_BEHAVIORS,\r\n  payload: { gameObjectId, file }\r\n});\r\nexport type ImportBehaviorsAction = ReturnType<typeof importBehaviors>;\r\n\r\nexport const ACTION_ONISAVE_IMPORT_WARN_CHECKSUM =\r\n  \"oni-save/import/warn-checksum\";\r\nexport const importWarnChecksum = () => ({\r\n  type: ACTION_ONISAVE_IMPORT_WARN_CHECKSUM as typeof ACTION_ONISAVE_IMPORT_WARN_CHECKSUM\r\n});\r\nexport type ImportWarnChecksumAction = ReturnType<typeof importWarnChecksum>;\r\nexport function isImportWarnChecksumAction(\r\n  action: AnyAction\r\n): action is ImportWarnChecksumAction {\r\n  return action.type === ACTION_ONISAVE_IMPORT_WARN_CHECKSUM;\r\n}\r\n\r\nexport const ACTION_ONISAVE_IMPORT_CONFIRM = \"oni-save/import/confirm\";\r\nexport const importConfirm = (doImport: boolean) => ({\r\n  type: ACTION_ONISAVE_IMPORT_CONFIRM as typeof ACTION_ONISAVE_IMPORT_CONFIRM,\r\n  payload: doImport\r\n});\r\nexport type ImportConfirmAction = ReturnType<typeof importConfirm>;\r\nexport function isImportConfirmAction(\r\n  action: AnyAction\r\n): action is ImportWarnChecksumAction {\r\n  return action.type === ACTION_ONISAVE_IMPORT_CONFIRM;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_PARSE_PROGRESS = \"onisave/parse-progress\";\r\n\r\nexport const parseProgress = (message: string) => ({\r\n  type: ACTION_ONISAVE_PARSE_PROGRESS as typeof ACTION_ONISAVE_PARSE_PROGRESS,\r\n  payload: { message }\r\n});\r\n\r\nexport type ParseProgressAction = ReturnType<typeof parseProgress>;\r\n\r\nexport function isParseProgressAction(\r\n  action: AnyAction\r\n): action is ParseProgressAction {\r\n  return action.type === ACTION_ONISAVE_PARSE_PROGRESS;\r\n}\r\n","import CommitTextField from \"./component\";\r\nexport default CommitTextField;\r\n","import platform from \"platform\";\r\n\r\nconst OS_WINDOWS = /windows/i;\r\nconst OS_MAC = /Mac|iOS|(OS\\ X)/;\r\nconst OS_LINUX = /linux/i;\r\n\r\nexport type OSType = \"windows\" | \"mac\" | \"linux\" | \"unknown\";\r\n\r\nconst osPlatform = (platform.os && platform.os.family) || \"unknown\";\r\nexport const OSType: OSType = OS_WINDOWS.test(osPlatform)\r\n  ? \"windows\"\r\n  : OS_MAC.test(osPlatform)\r\n    ? \"mac\"\r\n    : OS_LINUX.test(osPlatform)\r\n      ? \"linux\"\r\n      : \"unknown\";\r\n\r\nexport const isProd: boolean = process.env.NODE_ENV === \"production\";\r\n","import { createHashHistory } from \"history\";\r\n\r\nconst history = createHashHistory({\r\n  // Only needed for browserHistory\r\n  // basename: __webpack_public_path__\r\n});\r\nexport default history;\r\n","import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\n\r\nimport { isProd } from \"@/runtime-env\";\r\n\r\n// TODO: Use backends to save on file space\r\n//  Deferring until I get a chance to focus on splitting the bundles.\r\n// import Backend from \"i18next-xhr-backend\";\r\n\r\ni18n.use(initReactI18next).init({\r\n  fallbackLng: \"en\",\r\n\r\n  ns: [\"common\", \"oni\"],\r\n  defaultNS: \"common\",\r\n\r\n  resources: {\r\n    cs: {\r\n      common: require(\"@/translations/cs/common.json\"),\r\n      oni: require(\"@/translations/cs/oni.json\")\r\n    },\r\n    en: {\r\n      common: require(\"@/translations/en/common.json\"),\r\n      oni: require(\"@/translations/en/oni.json\")\r\n    },\r\n    es: {\r\n      common: require(\"@/translations/es/common.json\"),\r\n      oni: require(\"@/translations/es/oni.json\")\r\n    },\r\n    ru: {\r\n      common: require(\"@/translations/ru/common.json\")\r\n    },\r\n    zh: {\r\n      common: require(\"@/translations/zh/common.json\"),\r\n      oni: require(\"@/translations/zh/oni.json\")\r\n    }\r\n  },\r\n\r\n  debug: !isProd,\r\n\r\n  interpolation: {\r\n    escapeValue: false // not needed for react!!\r\n  },\r\n\r\n  react: {\r\n    wait: true\r\n  }\r\n});\r\n\r\nexport default i18n;\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport enum BehaviorDataTarget {\r\n  Template = \"templateData\",\r\n  Extra = \"extraData\"\r\n}\r\n\r\nexport const ACTION_ONISAVE_MODIFY_BEHAVIOR = \"oni-save/modify-behavior\";\r\nexport const modifyBehavior = (\r\n  gameObjectId: number,\r\n  behaviorId: string,\r\n  target: BehaviorDataTarget,\r\n  value: any,\r\n  merge: boolean = false\r\n) => ({\r\n  type: ACTION_ONISAVE_MODIFY_BEHAVIOR as typeof ACTION_ONISAVE_MODIFY_BEHAVIOR,\r\n  payload: { gameObjectId, behaviorId, target, value, merge }\r\n});\r\nexport type ModifyBehaviorAction = ReturnType<typeof modifyBehavior>;\r\n\r\nexport function isModifyBehaviorAction(\r\n  action: AnyAction\r\n): action is ModifyBehaviorAction {\r\n  return action.type === ACTION_ONISAVE_MODIFY_BEHAVIOR;\r\n}\r\n","export const ACTION_ONISAVE_LOAD = \"oni-save/load\";\r\nexport const loadOniSave = (file: File) => ({\r\n  type: ACTION_ONISAVE_LOAD as typeof ACTION_ONISAVE_LOAD,\r\n  payload: file\r\n});\r\nexport type LoadOniSaveAction = ReturnType<typeof loadOniSave>;\r\n","import { SaveGame, GameObjectGroup, GameObjectBehavior } from \"oni-save-parser\";\r\nimport { get, last } from \"lodash\";\r\n\r\ninterface PathSegmentData {\r\n  matcher: string[];\r\n  name?(saveGame: SaveGame, path: string[]): string | null;\r\n}\r\n\r\nconst pathSegmentData: PathSegmentData[] = [\r\n  {\r\n    matcher: [\"gameObjects\", \"*\"],\r\n    name(saveGame: SaveGame, path: string[]) {\r\n      const group: GameObjectGroup | undefined = get(saveGame, path);\r\n      if (!group) {\r\n        return null;\r\n      }\r\n      return group.name;\r\n    }\r\n  },\r\n  {\r\n    matcher: [\"gameObjects\", \"*\", \"gameObjects\", \"*\", \"behaviors\", \"*\"],\r\n    name(saveGame: SaveGame, path: string[]) {\r\n      const behavior: GameObjectBehavior | undefined = get(saveGame, path);\r\n      if (!behavior) {\r\n        return null;\r\n      }\r\n      return behavior.name;\r\n    }\r\n  }\r\n];\r\n\r\nexport function getSegmentName(saveGame: SaveGame, path: string[]): string {\r\n  const segment = pathSegmentData.find(segment =>\r\n    isPathMatch(path, segment.matcher)\r\n  );\r\n  if (!segment || !segment.name) {\r\n    return last(path)!;\r\n  }\r\n\r\n  return segment.name(saveGame, path) || last(path)!;\r\n}\r\n\r\nexport function getSegmentEditor(\r\n  saveGame: SaveGame,\r\n  path: string[]\r\n): string | null {\r\n  const item = path.length > 0 ? get(saveGame, path) : saveGame;\r\n  const itemType = typeof item;\r\n  if (itemType === \"object\") {\r\n    return null;\r\n  }\r\n  return itemType;\r\n}\r\n\r\nfunction isPathMatch(path: string[], matcher: string[]): boolean {\r\n  if (path.length !== matcher.length) {\r\n    return false;\r\n  }\r\n  for (let i = 0; i < path.length; i++) {\r\n    if (matcher[i] !== \"*\" && path[i] !== matcher[i]) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n","import {\r\n  compose,\r\n  createStore as createReduxStore,\r\n  applyMiddleware\r\n} from \"redux\";\r\n\r\nimport createSagaMiddleware from \"redux-saga\";\r\n\r\nimport { routerMiddleware } from \"connected-react-router\";\r\n\r\nimport history from \"@/history\";\r\nimport { defaultAppState } from \"@/state\";\r\n\r\nimport reducer from \"./reducer\";\r\nimport saga from \"./saga\";\r\n\r\nimport { loadPersistedState, savePersistedState } from \"./persist\";\r\n\r\nimport {\r\n  actionSanitizer,\r\n  stateSanitizer,\r\n  actionsBlacklist\r\n} from \"./devtool-sanitizer\";\r\n\r\nfunction createStore() {\r\n  const composeEnhancers =\r\n    (window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ &&\r\n      window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\r\n        actionSanitizer,\r\n        stateSanitizer,\r\n        actionsBlacklist\r\n      })) ||\r\n    compose;\r\n\r\n  const sagaMiddleware = createSagaMiddleware();\r\n\r\n  const initialState = loadPersistedState(defaultAppState);\r\n\r\n  const store = createReduxStore(\r\n    reducer,\r\n    initialState,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware, routerMiddleware(history)))\r\n  );\r\n\r\n  sagaMiddleware.run(saga);\r\n\r\n  store.subscribe(() => savePersistedState(store.getState()));\r\n\r\n  return store;\r\n}\r\n\r\nconst store = createStore();\r\nexport default store;\r\n","export interface I18NState {\r\n  language: string;\r\n}\r\n\r\nexport const defaultI18NState: Readonly<I18NState> = {\r\n  language: \"en\"\r\n};\r\nObject.freeze(defaultI18NState);\r\n","export const ACTION_SET_LANGUAGE = \"app/set-language\";\r\nexport const setLanguage = (language: string) => ({\r\n  type: ACTION_SET_LANGUAGE as typeof ACTION_SET_LANGUAGE,\r\n  payload: language\r\n});\r\nexport type SetLanguageAction = ReturnType<typeof setLanguage>;\r\n","import { AnyAction } from \"redux\";\r\nimport { GeyserBehavior } from \"oni-save-parser\";\r\n\r\n// Should probably export this from oni-save-parser.\r\nexport type GeyserConfiguration = NonNullable<\r\n  GeyserBehavior[\"templateData\"][\"configuration\"]\r\n>;\r\n\r\nexport const ACTION_ONISAVE_CHANGE_GEYSER_PARAMETER =\r\n  \"oni-save/change-geyser-parameter\";\r\n\r\n/**\r\n * Changes the game object type of the given game object id.\r\n *\r\n * This is a dangerous operation, and intended only for swapping geysers.\r\n */\r\nexport const changeGeyserParameter = <K extends keyof GeyserConfiguration>(\r\n  gameObjectId: number,\r\n  parameter: K,\r\n  value: GeyserConfiguration[K]\r\n) => ({\r\n  type: ACTION_ONISAVE_CHANGE_GEYSER_PARAMETER as typeof ACTION_ONISAVE_CHANGE_GEYSER_PARAMETER,\r\n  payload: { gameObjectId, parameter, value }\r\n});\r\nexport type ChangeGeyserParameterAction = ReturnType<\r\n  typeof changeGeyserParameter\r\n>;\r\nexport function isChangeGeyserParameterAction(\r\n  action: AnyAction\r\n): action is ChangeGeyserParameterAction {\r\n  return action.type === ACTION_ONISAVE_CHANGE_GEYSER_PARAMETER;\r\n}\r\n","import {\r\n  SaveGame,\r\n  getBehavior,\r\n  KPrefabIDBehavior,\r\n  GameObject\r\n} from \"oni-save-parser\";\r\n\r\nexport function getGameObjectById(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number\r\n): GameObject | null {\r\n  for (const group of saveGame.gameObjects) {\r\n    for (const gameObject of group.gameObjects) {\r\n      const id = getGameObjectId(gameObject);\r\n      if (id === gameObjectId) {\r\n        return gameObject;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nexport function getGameObjectId(gameObject: GameObject): number | null {\r\n  const idBehavior = getBehavior(gameObject, KPrefabIDBehavior);\r\n  if (!idBehavior) {\r\n    return null;\r\n  }\r\n\r\n  return idBehavior.templateData.InstanceID;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_CHANGE_GEYSER_TYPE = \"oni-save/change-geyser-type\";\r\n\r\n/**\r\n * Changes the game object type of the given game object id.\r\n *\r\n * This is a dangerous operation, and intended only for swapping geysers.\r\n */\r\nexport const changeGeyserType = (gameObjectId: number, geyserType: string) => ({\r\n  type: ACTION_ONISAVE_CHANGE_GEYSER_TYPE as typeof ACTION_ONISAVE_CHANGE_GEYSER_TYPE,\r\n  payload: { gameObjectId, geyserType }\r\n});\r\nexport type ChangeGeyserTypeAction = ReturnType<typeof changeGeyserType>;\r\nexport function isChangeGeyserTypeAction(\r\n  action: AnyAction\r\n): action is ChangeGeyserTypeAction {\r\n  return action.type === ACTION_ONISAVE_CHANGE_GEYSER_TYPE;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_CLONE_DUPLICANT = \"oni-save/clone-duplicant\";\r\nexport const cloneDuplicant = (gameObjectId: number) => ({\r\n  type: ACTION_ONISAVE_CLONE_DUPLICANT as typeof ACTION_ONISAVE_CLONE_DUPLICANT,\r\n  payload: { gameObjectId }\r\n});\r\nexport type CloneDuplicantAction = ReturnType<typeof cloneDuplicant>;\r\n\r\nexport function isCloneDuplicantAction(\r\n  action: AnyAction\r\n): action is CloneDuplicantAction {\r\n  return action.type === ACTION_ONISAVE_CLONE_DUPLICANT;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_COPY_BEHAVIORS = \"oni-save/copy-behaviors\";\r\nexport const copyBehaviors = (gameObjectId: number, behaviors: string[]) => ({\r\n  type: ACTION_ONISAVE_COPY_BEHAVIORS as typeof ACTION_ONISAVE_COPY_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type CopyBehaviorsAction = ReturnType<typeof copyBehaviors>;\r\n\r\nexport function isCopyBehaviorsAction(\r\n  action: AnyAction\r\n): action is CopyBehaviorsAction {\r\n  return action.type === ACTION_ONISAVE_COPY_BEHAVIORS;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { SimHashName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_ONISAVE_DELETE_LOOSE_MATERIAL =\r\n  \"oni-save/delete-loose-material\";\r\nexport const deleteLooseMaterial = (materialType?: SimHashName) => ({\r\n  type: ACTION_ONISAVE_DELETE_LOOSE_MATERIAL as typeof ACTION_ONISAVE_DELETE_LOOSE_MATERIAL,\r\n  payload: { materialType }\r\n});\r\nexport type DeleteLooseMaterialAction = ReturnType<typeof deleteLooseMaterial>;\r\nexport function isDeleteLooseMaterialAction(\r\n  action: AnyAction\r\n): action is DeleteLooseMaterialAction {\r\n  return action.type === ACTION_ONISAVE_DELETE_LOOSE_MATERIAL;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_LOAD_EXAMPLE = \"oni-save/load-example\";\r\nexport const loadExampleSave = () => ({\r\n  type: ACTION_ONISAVE_LOAD_EXAMPLE\r\n});\r\nexport type LoadExampleSaveAction = ReturnType<typeof loadExampleSave>;\r\nexport function isLoadExampleSaveAction(\r\n  action: AnyAction\r\n): action is LoadExampleSaveAction {\r\n  return action.type === ACTION_ONISAVE_LOAD_EXAMPLE;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport interface BehaviorMergeData {\r\n  templateData?: any;\r\n  extraData?: any;\r\n}\r\n\r\nexport const ACTION_ONISAVE_MERGE_BEHAVIORS = \"oni-save/merge-behaviors\";\r\nexport const mergeBehaviors = (\r\n  gameObjectId: number,\r\n  behaviors: Record<string, BehaviorMergeData>\r\n) => ({\r\n  type: ACTION_ONISAVE_MERGE_BEHAVIORS as typeof ACTION_ONISAVE_MERGE_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type MergeBehaviorsAction = ReturnType<typeof mergeBehaviors>;\r\n\r\nexport function isMergeBehaviorsAction(\r\n  action: AnyAction\r\n): action is MergeBehaviorsAction {\r\n  return action.type === ACTION_ONISAVE_MERGE_BEHAVIORS;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nexport const ACTION_MODIFY_BEHAVIOR_PATH = \"oni-save/modify-behavior-path\";\r\n\r\nexport function modifyBehaviorPath<\r\n  T extends GameObjectBehavior,\r\n  K extends keyof T,\r\n  K2 extends keyof T[K]\r\n>(\r\n  gameObjectId: number,\r\n  behaviorName: BehaviorName<T>,\r\n  behaviorPath: readonly [K, K2],\r\n  value: T[K][K2]\r\n): ModifyBehaviorPathAction;\r\nexport function modifyBehaviorPath<\r\n  T extends GameObjectBehavior,\r\n  K extends keyof T,\r\n  K2 extends keyof T[K],\r\n  K3 extends keyof T[K][K2]\r\n>(\r\n  gameObjectId: number,\r\n  behaviorName: BehaviorName<T>,\r\n  behaviorPath: readonly [K, K2, K3],\r\n  value: T[K][K2][K3]\r\n): ModifyBehaviorPathAction;\r\nexport function modifyBehaviorPath<\r\n  T extends GameObjectBehavior,\r\n  K extends keyof T,\r\n  K2 extends keyof T[K],\r\n  K3 extends keyof T[K][K2],\r\n  K4 extends keyof T[K][K2][K3]\r\n>(\r\n  gameObjectId: number,\r\n  behaviorName: BehaviorName<T>,\r\n  behaviorPath: readonly [K, K2, K3, K4],\r\n  value: T[K][K2][K3][K4]\r\n): ModifyBehaviorPathAction;\r\nexport function modifyBehaviorPath(\r\n  gameObjectId: number,\r\n  behaviorName: string,\r\n  behaviorPath: readonly string[],\r\n  value: any\r\n): ModifyBehaviorPathAction {\r\n  return {\r\n    type: ACTION_MODIFY_BEHAVIOR_PATH,\r\n    payload: {\r\n      gameObjectId,\r\n      behaviorName,\r\n      behaviorPath,\r\n      value\r\n    }\r\n  };\r\n}\r\n\r\nexport interface ModifyBehaviorPathAction {\r\n  type: typeof ACTION_MODIFY_BEHAVIOR_PATH;\r\n  payload: {\r\n    gameObjectId: number;\r\n    behaviorName: string;\r\n    behaviorPath: readonly string[];\r\n    value: any;\r\n  };\r\n}\r\nexport function isModifyBehaviorPathAction(\r\n  action: AnyAction\r\n): action is ModifyBehaviorPathAction {\r\n  return action.type === ACTION_MODIFY_BEHAVIOR_PATH;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { QualityLevelSettings } from \"oni-save-parser\";\r\n\r\nexport const ACTION_ONISAVE_MODIFY_DIFFICULTY = \"oni-save/modify-difficulty\";\r\nexport const modifyDifficulty = (\r\n  difficultyType: QualityLevelSettings[0],\r\n  value: string\r\n) => ({\r\n  type: ACTION_ONISAVE_MODIFY_DIFFICULTY as typeof ACTION_ONISAVE_MODIFY_DIFFICULTY,\r\n  payload: { difficultyType, value }\r\n});\r\nexport type ModifyDifficultyAction = ReturnType<typeof modifyDifficulty>;\r\nexport function isModifyDifficultyAction(\r\n  action: AnyAction\r\n): action is ModifyDifficultyAction {\r\n  return action.type === ACTION_ONISAVE_MODIFY_DIFFICULTY;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { SpaceDestination } from \"oni-save-parser\";\r\n\r\nexport const ACTION_ONISAVE_MODIFY_PLANET = \"oni-save/modify-planet\";\r\nexport const modifyPlanet = (\r\n  planetId: number,\r\n  planet: Partial<SpaceDestination>\r\n) => ({\r\n  type: ACTION_ONISAVE_MODIFY_PLANET as typeof ACTION_ONISAVE_MODIFY_PLANET,\r\n  payload: { planetId, planet }\r\n});\r\nexport type ModifyPlanetAction = ReturnType<typeof modifyPlanet>;\r\nexport function isModifyPlanetAction(\r\n  action: AnyAction\r\n): action is ModifyPlanetAction {\r\n  return action.type === ACTION_ONISAVE_MODIFY_PLANET;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_MODIFY_RAW = \"oni-save/modify-raw\";\r\nexport const modifyRaw = (path: string[], data: any) => ({\r\n  type: ACTION_ONISAVE_MODIFY_RAW as typeof ACTION_ONISAVE_MODIFY_RAW,\r\n  payload: { path, data }\r\n});\r\nexport type ModifyRawAction = ReturnType<typeof modifyRaw>;\r\nexport function isModifyRawAction(\r\n  action: AnyAction\r\n): action is ModifyRawAction {\r\n  return action.type === ACTION_ONISAVE_MODIFY_RAW;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nexport const ACTION_ONISAVE_PASTE_BEHAVIORS = \"oni-save/paste-behaviors\";\r\nexport const pasteBehaviors = (gameObjectId: number, behaviors?: string[]) => ({\r\n  type: ACTION_ONISAVE_PASTE_BEHAVIORS as typeof ACTION_ONISAVE_PASTE_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type PasteBehaviorAction = ReturnType<typeof pasteBehaviors>;\r\n\r\nexport function isPasteBehaviorsAction(\r\n  action: AnyAction\r\n): action is PasteBehaviorAction {\r\n  return action.type === ACTION_ONISAVE_PASTE_BEHAVIORS;\r\n}\r\n","export const ACTION_ONISAVE_EXPORT_BEHAVIORS = \"oni-save/export-behaviors\";\r\nexport const exportBehaviors = (gameObjectId: number, behaviors: string[]) => ({\r\n  type: ACTION_ONISAVE_EXPORT_BEHAVIORS as typeof ACTION_ONISAVE_EXPORT_BEHAVIORS,\r\n  payload: { gameObjectId, behaviors }\r\n});\r\nexport type ExportBehaviorsAction = ReturnType<typeof exportBehaviors>;\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nimport {\r\n  RESPONSE_PROGRESS,\r\n  RESPONSE_PARSE_ERROR,\r\n  RESPONSE_PARSE_SUCCESS,\r\n  RESPONSE_WRITE_ERROR,\r\n  RESPONSE_WRITE_SUCCESS,\r\n  SaveParserResultEvent,\r\n  parseSave as parseSaveCommand,\r\n  writeSave as writeSaveCommand,\r\n  jsonToError\r\n} from \"./worker-messages\";\r\n\r\nimport SaveLoadWorker from \"worker-loader!./save-serializer.worker\";\r\n\r\nconst worker = new SaveLoadWorker();\r\n\r\nexport function parseSave(\r\n  data: ArrayBuffer,\r\n  onProgress?: (message: string) => void\r\n): Promise<SaveGame> {\r\n  const promise = new Promise<SaveGame>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_PARSE_SUCCESS:\r\n          unhook();\r\n          accept(data.saveGame);\r\n          break;\r\n        case RESPONSE_PARSE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(parseSaveCommand(data));\r\n\r\n  return promise;\r\n}\r\n\r\nexport function writeSave(\r\n  saveGame: SaveGame,\r\n  onProgress?: (message: string) => void\r\n): Promise<ArrayBuffer> {\r\n  const promise = new Promise<ArrayBuffer>((accept, reject) => {\r\n    const unhook = () => {\r\n      worker.onerror = null;\r\n      worker.onmessage = null;\r\n    };\r\n\r\n    worker.onerror = error => reject(error);\r\n    worker.onmessage = (message: SaveParserResultEvent) => {\r\n      const { data } = message;\r\n      switch (data.type) {\r\n        case RESPONSE_PROGRESS:\r\n          onProgress && onProgress(data.message);\r\n          break;\r\n        case RESPONSE_WRITE_SUCCESS:\r\n          unhook();\r\n          accept(data.data);\r\n          break;\r\n        case RESPONSE_WRITE_ERROR:\r\n          unhook();\r\n          reject(jsonToError(data.error));\r\n          break;\r\n      }\r\n    };\r\n  });\r\n\r\n  worker.postMessage(writeSaveCommand(saveGame));\r\n\r\n  return promise;\r\n}\r\n","export const ACTION_ONISAVE_SAVE = \"oni-save/save\";\r\nexport const saveOniSave = (fileName?: string) => ({\r\n  type: ACTION_ONISAVE_SAVE as typeof ACTION_ONISAVE_SAVE,\r\n  payload: fileName\r\n});\r\nexport type SaveOniSaveAction = ReturnType<typeof saveOniSave>;\r\n","import { AppState } from \"@/state\";\r\n\r\nexport const currentLanguageSelector = (state: AppState) =>\r\n  state.services.i18n.language;\r\n","import { RouteComponentProps } from \"react-router\";\r\n\r\nexport interface LinkProps extends RouteComponentProps {\r\n  to: string;\r\n  target?: string;\r\n  onClick?(e: React.MouseEvent<HTMLElement>): void;\r\n}\r\nexport function onLinkClick(\r\n  this: React.Component<LinkProps>,\r\n  event: React.MouseEvent<HTMLElement>\r\n) {\r\n  // Code copied from implementation of Link in react-router-dom\r\n  const { onClick, target, history } = this.props;\r\n\r\n  if (onClick) {\r\n    onClick(event);\r\n  }\r\n\r\n  if (\r\n    !event.defaultPrevented && // onClick prevented default\r\n    event.button === 0 && // ignore everything but left clicks\r\n    (!target || target === \"_self\") && // let browser handle \"target=_blank\" etc.\r\n    !isModifierPressed(event) // ignore clicks with modifier keys\r\n  ) {\r\n    event.preventDefault();\r\n\r\n    history.push(this.props.to);\r\n  }\r\n}\r\n\r\nfunction isModifierPressed(event: React.MouseEvent<any>) {\r\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\r\n}\r\n","import AbstractLoadButton from \"./component\";\r\nexport default AbstractLoadButton;","import { useSelector } from \"react-redux\";\r\nimport { GameObject, getBehavior, KPrefabIDBehavior } from \"oni-save-parser\";\r\nimport { gameObjectGroupsSelector } from \"../selectors/game-objects\";\r\nimport { maybeArray, isNotNull } from \"@/utils\";\r\n\r\nexport default function useGameObjects(gameObjectType: string | string[]) {\r\n  const gameObjectsGroups = useSelector(gameObjectGroupsSelector);\r\n  if (!gameObjectsGroups) {\r\n    return [];\r\n  }\r\n\r\n  const types = maybeArray(gameObjectType);\r\n\r\n  const gameObjects: GameObject[] = [];\r\n  for (const group of gameObjectsGroups) {\r\n    if (types.indexOf(group.name) !== -1) {\r\n      gameObjects.push(...group.gameObjects);\r\n    }\r\n  }\r\n\r\n  return gameObjects\r\n    .map(x => getBehavior(x, KPrefabIDBehavior))\r\n    .filter(isNotNull)\r\n    .map(x => x.templateData.InstanceID)\r\n    .sort();\r\n}\r\n","import {\r\n  AccessorizerBehavior,\r\n  AIAttributeLevelsBehavior,\r\n  AITraitsBehavior,\r\n  MinionResumeBehavior,\r\n  BehaviorName\r\n} from \"oni-save-parser\";\r\n\r\nexport interface ExportableBehavior {\r\n  name: string;\r\n  i18nKey: string;\r\n  behavior: BehaviorName<any>;\r\n}\r\n\r\nexport const MinionExportableBehaviors: ExportableBehavior[] = [\r\n  {\r\n    name: \"Appearance\",\r\n    i18nKey: \"duplicant_appearance.noun_titlecase\",\r\n    behavior: AccessorizerBehavior\r\n  },\r\n  {\r\n    name: \"Attributes\",\r\n    i18nKey: \"duplicant_attribute.noun_titlecase_plural\",\r\n    behavior: AIAttributeLevelsBehavior\r\n  },\r\n  {\r\n    name: \"Traits\",\r\n    i18nKey: \"duplicant_trait.noun_titlecase_plural\",\r\n    behavior: AITraitsBehavior\r\n  },\r\n  {\r\n    name: \"Skills\",\r\n    i18nKey: \"duplicant_skills.noun_titlecase_plural\",\r\n    behavior: MinionResumeBehavior\r\n  }\r\n];\r\n","import * as React from \"react\";\r\nimport { BehaviorName } from \"oni-save-parser\";\r\n\r\nimport { withTranslation, WithTranslation } from \"react-i18next\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport interface BehaviorChoice {\r\n  name: string;\r\n  i18nKey: string;\r\n  behavior: BehaviorName<any>;\r\n}\r\n\r\nexport interface BehaviorChooserDialogProps {\r\n  title: string;\r\n  applyText: string;\r\n  open: boolean;\r\n  choices: BehaviorChoice[];\r\n  onApply(behaviors: string[]): void;\r\n  onCancel(): void;\r\n}\r\ntype Props = BehaviorChooserDialogProps & WithTranslation;\r\nconst BehaviorChooserDialog: React.FC<Props> = ({\r\n  title,\r\n  applyText,\r\n  open,\r\n  choices,\r\n  onApply,\r\n  onCancel,\r\n  t\r\n}) => {\r\n  const [selectedTargets, setSelectedTargets] = React.useState<string[]>([]);\r\n  const onCheckboxChange = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      if (e.target.checked) {\r\n        // Add item\r\n        setSelectedTargets([...selectedTargets, e.target.value]);\r\n      } else {\r\n        // Remove item\r\n        setSelectedTargets(selectedTargets.filter(x => x !== e.target.value));\r\n      }\r\n    },\r\n    [selectedTargets, setSelectedTargets]\r\n  );\r\n  const onApplyClick = React.useCallback(() => {\r\n    onApply(selectedTargets);\r\n  }, [selectedTargets]);\r\n  return (\r\n    <Dialog open={open} airia-labeledby=\"behavior-chooser-dialog-title\">\r\n      {open && (\r\n        <React.Fragment>\r\n          <DialogTitle id=\"behavior-chooser-dialog-title\">{title}</DialogTitle>\r\n          <DialogContent>\r\n            {choices.map(({ name, i18nKey, behavior }) => (\r\n              <FormControlLabel\r\n                key={behavior}\r\n                control={\r\n                  <Checkbox\r\n                    checked={selectedTargets.indexOf(behavior) !== -1}\r\n                    value={behavior}\r\n                    onChange={onCheckboxChange}\r\n                    color=\"primary\"\r\n                  />\r\n                }\r\n                label={t(i18nKey, { defaultValue: name })}\r\n              />\r\n            ))}\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={onCancel}>\r\n              {t(\"dialog.verbs.cancel_titlecase\", { defaultValue: \"Cancel\" })}\r\n            </Button>\r\n            <Button onClick={onApplyClick} autoFocus>\r\n              {applyText}\r\n            </Button>\r\n          </DialogActions>\r\n        </React.Fragment>\r\n      )}\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(BehaviorChooserDialog);\r\n","import * as React from \"react\";\r\nimport { AccessorizerBehavior, getAccessoryOfType } from \"oni-save-parser\";\r\n\r\nimport { createStyles, withStyles, WithStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  DuplicantContainer,\r\n  Hair,\r\n  Head,\r\n  Eyes,\r\n  Body\r\n} from \"react-oni-duplicant\";\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nexport interface DuplicantPortraitProps {\r\n  gameObjectId: number;\r\n  scale: number;\r\n}\r\n\r\nconst styles = createStyles({\r\n  portraitContainer: {\r\n    position: \"relative\"\r\n  },\r\n  portrait: {\r\n    position: \"absolute\",\r\n    width: 0,\r\n    height: 0,\r\n    transformOrigin: \"top left\"\r\n  }\r\n});\r\n\r\ntype Props = DuplicantPortraitProps & WithStyles<typeof styles>;\r\n\r\nconst DuplicantPortrait: React.FC<Props> = ({\r\n  classes,\r\n  gameObjectId,\r\n  scale\r\n}) => {\r\n  const { templateData } = useBehavior(gameObjectId, AccessorizerBehavior);\r\n  if (!templateData) {\r\n    return <div>Error: No Data</div>;\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={classes.portraitContainer}\r\n      style={{ width: 240 * scale, height: 270 * scale }}\r\n    >\r\n      <div\r\n        className={classes.portrait}\r\n        style={{\r\n          left: 126 * scale,\r\n          top: 150 * scale,\r\n          transform: `scale(${scale})`\r\n        }}\r\n      >\r\n        <DuplicantContainer>\r\n          <Body\r\n            ordinal={ordinalFromAccessory(\r\n              getAccessoryOfType(templateData.accessories, \"body\")!.guid\r\n                .Guid\r\n            )}\r\n          />\r\n          <Head\r\n            ordinal={ordinalFromAccessory(\r\n              getAccessoryOfType(templateData.accessories, \"headshape\")!\r\n                .guid.Guid\r\n            )}\r\n          />\r\n          <Eyes\r\n            ordinal={ordinalFromAccessory(\r\n              getAccessoryOfType(templateData.accessories, \"eyes\")!.guid\r\n                .Guid\r\n            )}\r\n          />\r\n          <Hair\r\n            ordinal={ordinalFromAccessory(\r\n              getAccessoryOfType(templateData.accessories, \"hair\")!.guid\r\n                .Guid\r\n            )}\r\n          />\r\n        </DuplicantContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default withStyles(styles)(DuplicantPortrait);\r\n\r\nfunction ordinalFromAccessory(guid: string) {\r\n  let parts = guid.split(\".\");\r\n  const name = parts[parts.length - 1];\r\n  parts = name.split(\"_\");\r\n  return Number(parts[parts.length - 1]);\r\n}\r\n","import { createSelector } from \"reselect\";\r\nimport createCachedSelector from \"re-reselect\";\r\nimport { find } from \"lodash\";\r\nimport { getBehavior, SpacecraftManagerBehavior } from \"oni-save-parser\";\r\n\r\nimport { createServiceSelector } from \"./utils\";\r\nimport { saveGameSelector } from \"./save-game\";\r\n\r\nexport const spaceManagerSelector = createServiceSelector(\r\n  createSelector(\r\n    saveGameSelector.local,\r\n    saveGame => {\r\n      if (!saveGame) {\r\n        return null;\r\n      }\r\n\r\n      const saveGameGroup = find(\r\n        saveGame.gameObjects,\r\n        x => x.name === \"SaveGame\"\r\n      );\r\n      if (!saveGameGroup) {\r\n        return null;\r\n      }\r\n\r\n      const saveGameObject = saveGameGroup.gameObjects[0];\r\n      if (!saveGameObject) {\r\n        return null;\r\n      }\r\n\r\n      const spaceBehavior = getBehavior(\r\n        saveGameObject,\r\n        SpacecraftManagerBehavior\r\n      );\r\n      if (!spaceBehavior) {\r\n        return null;\r\n      }\r\n\r\n      return spaceBehavior.templateData;\r\n    }\r\n  )\r\n);\r\n\r\nexport const planetIdsSelector = createSelector(\r\n  spaceManagerSelector,\r\n  spaceManager => {\r\n    if (!spaceManager) {\r\n      return [];\r\n    }\r\n\r\n    return spaceManager.destinations.map(x => x.id);\r\n  }\r\n);\r\n\r\nexport const planetSelector = createCachedSelector(\r\n  spaceManagerSelector,\r\n  (_: any, planetId: number) => planetId,\r\n  (spaceManager, planetId) => {\r\n    if (!spaceManager) {\r\n      return null;\r\n    }\r\n\r\n    const planet = find(spaceManager.destinations, x => x.id === planetId);\r\n    return planet || null;\r\n  }\r\n)((_: any, planetId: number) => planetId);","import * as React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { SpaceDestination } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { planetSelector } from \"../selectors/space-manager\";\r\nimport { modifyPlanet } from \"../actions/modify-planet\";\r\n\r\nexport interface UsePlanet {\r\n  planet: SpaceDestination | null;\r\n  onModifyPlanet(planet: Partial<SpaceDestination>): void;\r\n}\r\n\r\nexport default function usePlanet(planetId: number): UsePlanet {\r\n  const dispatch = useDispatch();\r\n  const planet = useSelector((state: AppState) => planetSelector(state, planetId));\r\n\r\n  const onModifyPlanet = React.useCallback((planet: Partial<SpaceDestination>) => {\r\n    dispatch(modifyPlanet(planetId, planet))\r\n  }, [dispatch, planetId]);\r\n\r\n  return {\r\n    planet,\r\n    onModifyPlanet\r\n  };\r\n}","import * as React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { SimHashName } from \"oni-save-parser\";\r\n\r\nimport { MaterialListItem, materialsSelector } from \"../selectors/material\";\r\nimport { deleteLooseMaterial } from \"../actions/delete-loose-material\";\r\n\r\nexport interface UseMaterials {\r\n  materials: MaterialListItem[];\r\n}\r\n\r\nexport function useMaterialList(): MaterialListItem[] {\r\n  const materials = useSelector(materialsSelector);\r\n  return materials;\r\n}\r\n\r\nexport function useDeleteMaterials() {\r\n  const dispatch = useDispatch();\r\n  const deleteMaterial = React.useCallback(\r\n    (materialType?: SimHashName) => {\r\n      dispatch(deleteLooseMaterial(materialType));\r\n    },\r\n    [dispatch]\r\n  );\r\n  return deleteMaterial;\r\n}\r\n","import \"es6-promise/auto\";\r\nimport \"typeface-roboto\";\r\n\r\nimport \"@/style.css\";\r\n\r\nimport \"@/debug\";\r\n\r\nimport * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport Root from \"./root\";\r\n\r\nconst rootEl = document.getElementById(\"root\");\r\nif (rootEl) {\r\n  ReactDOM.render(<Root />, rootEl);\r\n}\r\n","var content = require(\"!!../node_modules/css-loader/dist/cjs.js!./style.css\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","exports = module.exports = require(\"../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"/*\\r\\nThis should be kept minimal and only provide globals\\r\\nor non-react component styles.\\r\\n\\r\\nStyles for react components should use the jss style api provided\\r\\nby material-ui\\r\\n*/\\r\\n\\r\\nhtml,\\r\\nbody,\\r\\n#root {\\r\\n  width: 100%;\\r\\n  height: 100%;\\r\\n}\\r\\n\", \"\"]);\n","import { isProd } from \"@/runtime-env\";\r\n\r\nimport store from \"@/store/store\";\r\n\r\nimport {\r\n  receiveOniSaveSuccess,\r\n  receiveOniSaveError\r\n} from \"@/services/oni-save/actions/receive-onisave\";\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\n\r\nif (!isProd) {\r\n  window.loadMockSave = () => {\r\n    const mockSaveGame = require(\"@/__mocks__/save-game.json\");\r\n    store.dispatch(receiveOniSaveSuccess(mockSaveGame, LoadingStatus.Loading));\r\n  };\r\n  window.loadMockError = () => {\r\n    store.dispatch(\r\n      receiveOniSaveError(\r\n        new Error(\"This is a test error\"),\r\n        LoadingStatus.Loading\r\n      )\r\n    );\r\n  };\r\n}\r\n","import { Selector } from \"react-redux\";\r\nimport { createStructuredSelector as createSS } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nexport type StructuredStateProps<\r\n  TSelectors extends Record<string, Selector<AppState, TOwnProps, any>>,\r\n  TOwnProps = {}\r\n> = { [K in keyof TSelectors]: ReturnType<TSelectors[K]> };\r\n\r\n/**\r\n * Type wrangling function to provide better type inferencing\r\n * for createStructuredSelector against our AppState.\r\n *\r\n * By inverting the type relationship from the real cSS, we\r\n * allow the selector to become the primary inferred type\r\n * and generate the state props from its return types.\r\n */\r\nexport function createStructuredSelector<\r\n  TSelectors extends Record<string, Selector<AppState, any, any>>\r\n>(\r\n  selectors: TSelectors\r\n): (state: AppState) => StructuredStateProps<TSelectors> {\r\n  return createSS(selectors as any) as any;\r\n}\r\n","import { combineReducers, AnyAction } from \"redux\";\r\n\r\nimport { connectRouter } from \"connected-react-router\";\r\n\r\nimport i18nReducer from \"@/services/i18n/reducer\";\r\nimport oniSaveReducer from \"@/services/oni-save/reducer\";\r\nimport { OniSaveState, defaultOniSaveState } from \"@/services/oni-save/state\";\r\nimport { AppState, defaultAppState } from \"@/state\";\r\n\r\nimport history from \"@/history\";\r\nconst routerReducer = connectRouter(history);\r\n\r\nconst servicesReducer = combineReducers({\r\n  i18n: i18nReducer,\r\n  // FIXME: Not sure why I need to do this, perhaps some reducer in the reduceReducered oniSaveReducer does not specify a default\r\n  oniSave: (state: OniSaveState = defaultOniSaveState, action: AnyAction) =>\r\n    oniSaveReducer(state, action)\r\n});\r\n\r\nexport default function reducer(\r\n  state: AppState = defaultAppState,\r\n  action: AnyAction\r\n): AppState {\r\n  return {\r\n    router: routerReducer(state.router, action as any),\r\n    services: servicesReducer(state.services, action)\r\n  };\r\n}\r\n","import setLanguageReducer from \"./set-language\";\r\n\r\nexport default setLanguageReducer;\r\n","import { Action } from \"redux\";\r\n\r\nimport { I18NState, defaultI18NState } from \"../state\";\r\n\r\nimport {\r\n  ACTION_SET_LANGUAGE,\r\n  SetLanguageAction\r\n} from \"../actions/set-language\";\r\n\r\nimport i18n from \"../i18n\";\r\n\r\nexport default function setLanguageReducer(\r\n  state: I18NState = defaultI18NState,\r\n  action: Action\r\n): I18NState {\r\n  if (action.type !== ACTION_SET_LANGUAGE) {\r\n    return state;\r\n  }\r\n\r\n  const lang = (action as SetLanguageAction).payload;\r\n\r\n  i18n.changeLanguage(lang);\r\n\r\n  return {\r\n    ...state,\r\n    language: lang\r\n  };\r\n}\r\n","import reduceReducers from \"reduce-reducers\";\r\n\r\nimport changeGeyserParameter from \"./change-geyser-parameter\";\r\nimport changeGeyserTypeReducer from \"./change-geyser-type\";\r\nimport cloneDuplicantReducer from \"./clone-duplicant\";\r\nimport copyBehaviorsReducer from \"./copy-behaviors\";\r\nimport deleteLooseMaterial from \"./delete-looe-material\";\r\nimport importWarnChecksumReducer from \"./import-warn-checksum\";\r\nimport loadExampleSaveReducer from \"./load-example\";\r\nimport mergeBehaviorsReducer from \"./merge-behaviors\";\r\nimport modifyBehaviorPathReducer from \"./modify-behavior-path\";\r\nimport modifyBehaviorReducer from \"./modify-behavior\";\r\nimport modifyDifficultyReducer from \"./modify-difficulty\";\r\nimport modifyPlanetReducer from \"./modify-planet\";\r\nimport modifyRawReducer from \"./modify-raw\";\r\nimport parseProgressReducer from \"./parse-progress\";\r\nimport pasteBehaviorsReducer from \"./paste-behaviors\";\r\nimport receiveOniSaveReducer from \"./receive-onisave\";\r\n\r\nexport default reduceReducers(\r\n  changeGeyserParameter,\r\n  changeGeyserTypeReducer,\r\n  cloneDuplicantReducer,\r\n  copyBehaviorsReducer,\r\n  deleteLooseMaterial,\r\n  importWarnChecksumReducer,\r\n  loadExampleSaveReducer,\r\n  mergeBehaviorsReducer,\r\n  modifyBehaviorPathReducer,\r\n  modifyBehaviorReducer,\r\n  modifyDifficultyReducer,\r\n  modifyPlanetReducer,\r\n  modifyRawReducer,\r\n  parseProgressReducer,\r\n  pasteBehaviorsReducer,\r\n  receiveOniSaveReducer\r\n);\r\n","import { AnyAction } from \"redux\";\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport { isChangeGeyserParameterAction } from \"../actions/change-geyser-parameter\";\r\n\r\nimport {\r\n  replaceGameObject,\r\n  changeStateBehaviorData,\r\n  requireGameObject,\r\n  tryModifySaveGame\r\n} from \"./utils\";\r\nimport { SaveGame, GeyserBehavior } from \"oni-save-parser\";\r\n\r\nexport default function changeGeyserParameterReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isChangeGeyserParameterAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId, parameter, value } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    changeGeyserParameter(saveGame, gameObjectId, parameter, value)\r\n  );\r\n}\r\n\r\nfunction changeGeyserParameter(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number,\r\n  parameter: string,\r\n  value: any\r\n) {\r\n  let gameObject = requireGameObject(saveGame, gameObjectId);\r\n  gameObject = changeStateBehaviorData(\r\n    gameObject,\r\n    GeyserBehavior,\r\n    \"templateData\",\r\n    templateData => ({\r\n      ...templateData,\r\n      configuration: {\r\n        ...templateData.configuration!,\r\n        [parameter]: value\r\n      }\r\n    })\r\n  );\r\n\r\n  saveGame = replaceGameObject(saveGame, gameObject);\r\n  return saveGame;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { HashedString, GeyserBehavior, SaveGame } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport { isChangeGeyserTypeAction } from \"../actions/change-geyser-type\";\r\n\r\nimport {\r\n  addGameObject,\r\n  removeGameObject,\r\n  changeStateBehaviorData,\r\n  requireGameObject,\r\n  tryModifySaveGame\r\n} from \"./utils\";\r\n\r\nexport default function changeGeyserTypeReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isChangeGeyserTypeAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId, geyserType } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    changeGeyserType(saveGame, gameObjectId, geyserType)\r\n  );\r\n}\r\n\r\nfunction changeGeyserType(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number,\r\n  geyserType: string\r\n): SaveGame {\r\n  let gameObject = requireGameObject(saveGame, gameObjectId);\r\n\r\n  gameObject = changeStateBehaviorData(\r\n    gameObject,\r\n    GeyserBehavior,\r\n    \"templateData\",\r\n    templateData => ({\r\n      ...templateData,\r\n      configuration: {\r\n        ...templateData.configuration!,\r\n        typeId: HashedString(geyserType)\r\n      }\r\n    })\r\n  );\r\n\r\n  saveGame = removeGameObject(saveGame, gameObjectId);\r\n  saveGame = addGameObject(saveGame, `GeyserGeneric_${geyserType}`, gameObject);\r\n\r\n  return saveGame;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport {\r\n  KPrefabIDBehavior,\r\n  GameObject,\r\n  MinionIdentityBehavior,\r\n  GameObjectBehavior,\r\n  SaveGame,\r\n  BehaviorName\r\n} from \"oni-save-parser\";\r\n\r\nimport { defaultOniSaveState, OniSaveState } from \"../state\";\r\nimport { isCloneDuplicantAction } from \"../actions/clone-duplicant\";\r\n\r\nimport {\r\n  changeStateBehaviorData,\r\n  requireGameObject,\r\n  requireBehavior,\r\n  addGameObject,\r\n  tryModifySaveGame\r\n} from \"./utils\";\r\n\r\nexport default function cloneDuplicantReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isCloneDuplicantAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    performCloneDuplicant(saveGame, gameObjectId)\r\n  );\r\n}\r\n\r\nconst BEHAVIOR_BLACKLIST = [\"StateMachineController\", \"Navigator\"];\r\nfunction shouldCloneBehavior(behavior: GameObjectBehavior): boolean {\r\n  return BEHAVIOR_BLACKLIST.indexOf(behavior.name) === -1;\r\n}\r\n\r\n// TODO: Replace with imports from oni-save-parser next version.\r\nconst MinionAssignablesProxy: BehaviorName<MinionAssignablesProxy> =\r\n  \"MinionAssignablesProxy\";\r\ninterface MinionAssignablesProxy extends GameObjectBehavior {\r\n  target_instance_id: number;\r\n}\r\n\r\nfunction performCloneDuplicant(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number\r\n): SaveGame {\r\n  const gameObject = requireGameObject(saveGame, gameObjectId, \"Minion\");\r\n\r\n  // Look up the old duplicant's name\r\n  const oldIdentity = requireBehavior(gameObject, MinionIdentityBehavior);\r\n\r\n  let newMinion: GameObject | null = {\r\n    ...gameObject,\r\n    behaviors: gameObject.behaviors.filter(shouldCloneBehavior)\r\n  };\r\n\r\n  const newPrefabId = saveGame.settings.nextUniqueID;\r\n\r\n  newMinion = changeStateBehaviorData(\r\n    newMinion,\r\n    KPrefabIDBehavior,\r\n    \"templateData\",\r\n    {\r\n      InstanceID: newPrefabId\r\n    }\r\n  );\r\n\r\n  newMinion = changeStateBehaviorData(\r\n    newMinion,\r\n    MinionIdentityBehavior,\r\n    \"templateData\",\r\n    {\r\n      assignableProxy: {\r\n        id: -1\r\n      }\r\n    }\r\n  );\r\n\r\n  // Increment the next unique id; we used the current one.\r\n  saveGame = {\r\n    ...saveGame,\r\n    settings: {\r\n      ...saveGame.settings,\r\n      nextUniqueID: newPrefabId + 1\r\n    }\r\n  };\r\n\r\n  // Give the new duplicate a new name to differentiate it.\r\n  newMinion = changeStateBehaviorData(\r\n    newMinion,\r\n    MinionIdentityBehavior,\r\n    \"templateData\",\r\n    {\r\n      name: `Clone of ${oldIdentity.templateData.name}`\r\n    }\r\n  );\r\n\r\n  saveGame = addGameObject(saveGame, \"Minion\", newMinion);\r\n\r\n  return saveGame;\r\n}\r\n\r\nfunction createBehavior<T extends GameObjectBehavior>(\r\n  name: BehaviorName<T>,\r\n  data: Omit<T, \"name\">\r\n): T {\r\n  return {\r\n    name,\r\n    ...data\r\n  } as T;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { getBehavior } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState, BehaviorCopyData } from \"../state\";\r\nimport { isCopyBehaviorsAction } from \"../actions/copy-behaviors\";\r\nimport {\r\n  gameObjectsByIdSelector,\r\n  gameObjectTypesByIdSelector\r\n} from \"../selectors/game-objects\";\r\n\r\nexport default function copyBehaviorsReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isCopyBehaviorsAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId, behaviors } = action.payload;\r\n\r\n  const gameObjects = gameObjectsByIdSelector.local(state);\r\n  if (!gameObjects || !gameObjects[gameObjectId]) {\r\n    return state;\r\n  }\r\n  const gameObject = gameObjects[gameObjectId];\r\n\r\n  const typesById = gameObjectTypesByIdSelector.local(state);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n  const gameObjectType = typesById[gameObjectId];\r\n\r\n  const copyBehaviors: Record<string, BehaviorCopyData> = {};\r\n  for (const behaviorName of behaviors) {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      continue;\r\n    }\r\n    copyBehaviors[behaviorName] = {\r\n      templateData: behavior.templateData,\r\n      extraData: behavior.extraData\r\n    };\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    copyPasteData: {\r\n      gameObjectType,\r\n      behaviors: copyBehaviors\r\n    }\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { SimHashNames, GameObjectGroup, SimHashName } from \"oni-save-parser\";\r\n\r\nimport { defaultOniSaveState, OniSaveState } from \"../state\";\r\nimport { isDeleteLooseMaterialAction } from \"../actions/delete-loose-material\";\r\n\r\nexport default function deleteLooseMaterialReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isDeleteLooseMaterialAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  if (!state.saveGame) {\r\n    return state;\r\n  }\r\n\r\n  const { materialType } = action.payload;\r\n\r\n  let materialsToRemove = SimHashNames;\r\n  if (materialType) {\r\n    materialsToRemove = [materialType];\r\n  }\r\n\r\n  function shouldRemoveMaterial(group: GameObjectGroup) {\r\n    return materialsToRemove.indexOf(group.name as SimHashName);\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    saveGame: {\r\n      ...state.saveGame,\r\n      gameObjects: state.saveGame.gameObjects.filter(shouldRemoveMaterial)\r\n    }\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport {\r\n  isImportWarnChecksumAction,\r\n  isImportConfirmAction\r\n} from \"../actions/import-behaviors\";\r\n\r\nexport default function importWarnChecksumReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (isImportWarnChecksumAction(action)) {\r\n    return {\r\n      ...state,\r\n      warnInputChecksum: true\r\n    };\r\n  } else if (isImportConfirmAction(action)) {\r\n    return {\r\n      ...state,\r\n      warnInputChecksum: false\r\n    };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { OniSaveState, defaultOniSaveState, LoadingStatus } from \"../state\";\r\nimport { isLoadExampleSaveAction } from \"../actions/load-example\";\r\n\r\nexport default function loadExampleSaveReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isLoadExampleSaveAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const mockSaveGame = require(\"@/__mocks__/save-game.json\");\r\n\r\n  return {\r\n    ...state,\r\n    saveGame: mockSaveGame,\r\n    loadingStatus: LoadingStatus.Ready,\r\n    isMock: true\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport {\r\n  isMergeBehaviorsAction,\r\n  BehaviorMergeData\r\n} from \"../actions/merge-behaviors\";\r\nimport {\r\n  requireGameObject,\r\n  changeStateBehaviorData,\r\n  replaceGameObject,\r\n  tryModifySaveGame\r\n} from \"./utils\";\r\n\r\nexport default function mergeBehaviorsReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isMergeBehaviorsAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectId, behaviors } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    performMergeBehaviors(saveGame, gameObjectId, behaviors)\r\n  );\r\n}\r\n\r\nfunction performMergeBehaviors(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number,\r\n  behaviors: Record<string, BehaviorMergeData>\r\n): SaveGame {\r\n  let gameObject = requireGameObject(saveGame, gameObjectId);\r\n\r\n  for (const behaviorName of Object.keys(behaviors)) {\r\n    const behavior = behaviors[behaviorName];\r\n\r\n    if (behavior.templateData) {\r\n      gameObject = changeStateBehaviorData(\r\n        gameObject,\r\n        behaviorName,\r\n        \"templateData\",\r\n        _ => behavior.templateData\r\n      );\r\n    }\r\n\r\n    if (behavior.extraData) {\r\n      gameObject = changeStateBehaviorData(\r\n        gameObject,\r\n        behaviorName,\r\n        \"extraData\",\r\n        _ => behavior.extraData\r\n      );\r\n    }\r\n  }\r\n\r\n  saveGame = replaceGameObject(saveGame, gameObject);\r\n\r\n  return saveGame;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\nimport { isModifyBehaviorPathAction } from \"../actions/modify-behavior-path\";\r\n\r\nimport {\r\n  tryModifySaveGame,\r\n  requireGameObject,\r\n  changeStateBehaviorData,\r\n  set,\r\n  replaceGameObject\r\n} from \"./utils\";\r\n\r\nexport default function modifyBehaviorPathReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isModifyBehaviorPathAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  let { gameObjectId, behaviorName, behaviorPath, value } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    performModifyBehaviorPath(\r\n      saveGame,\r\n      gameObjectId,\r\n      behaviorName,\r\n      behaviorPath,\r\n      value\r\n    )\r\n  );\r\n}\r\n\r\nfunction performModifyBehaviorPath(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number,\r\n  behaviorName: string,\r\n  behaviorPath: readonly string[],\r\n  value: any\r\n): SaveGame {\r\n  let gameObject = requireGameObject(saveGame, gameObjectId);\r\n\r\n  gameObject = changeStateBehaviorData(\r\n    gameObject,\r\n    behaviorName,\r\n    behaviorPath[0] as any,\r\n    data => set(data, behaviorPath.slice(1), value)\r\n  );\r\n\r\n  saveGame = replaceGameObject(saveGame, gameObject);\r\n\r\n  return saveGame;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\nimport { merge } from \"lodash\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport {\r\n  isModifyBehaviorAction,\r\n  BehaviorDataTarget\r\n} from \"../actions/modify-behavior\";\r\n\r\nimport {\r\n  requireGameObject,\r\n  changeStateBehaviorData,\r\n  replaceGameObject,\r\n  tryModifySaveGame\r\n} from \"./utils\";\r\n\r\nexport default function modifyBehaviorReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isModifyBehaviorAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  let { gameObjectId, behaviorId, target, value, merge } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    performModifyBehavior(\r\n      saveGame,\r\n      gameObjectId,\r\n      behaviorId,\r\n      target,\r\n      value,\r\n      merge\r\n    )\r\n  );\r\n}\r\n\r\nfunction performModifyBehavior(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number,\r\n  behaviorName: string,\r\n  target: BehaviorDataTarget,\r\n  value: any,\r\n  mergeData: boolean\r\n) {\r\n  let gameObject = requireGameObject(saveGame, gameObjectId);\r\n\r\n  function performMerge(original: any) {\r\n    return mergeData ? merge({}, original, value) : { ...original, ...value };\r\n  }\r\n\r\n  switch (target) {\r\n    case BehaviorDataTarget.Template:\r\n      gameObject = changeStateBehaviorData(\r\n        gameObject,\r\n        behaviorName,\r\n        \"templateData\",\r\n        performMerge\r\n      );\r\n      break;\r\n    case BehaviorDataTarget.Extra:\r\n      gameObject = changeStateBehaviorData(\r\n        gameObject,\r\n        behaviorName,\r\n        \"extraData\",\r\n        performMerge\r\n      );\r\n      break;\r\n  }\r\n\r\n  saveGame = replaceGameObject(saveGame, gameObject);\r\n  return saveGame;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport { isModifyDifficultyAction } from \"../actions/modify-difficulty\";\r\n\r\nimport {\r\n  tryModifySaveGame,\r\n  setArrayDict,\r\n  changeStateBehaviorData,\r\n  replaceGameObject\r\n} from \"./utils\";\r\nimport { getGameObjectGroup, getBehavior } from \"oni-save-parser\";\r\n\r\nexport default function modifyDifficultyReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isModifyDifficultyAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { difficultyType, value } = action.payload;\r\n\r\n  state = tryModifySaveGame(state, saveGame => ({\r\n    ...saveGame,\r\n    gameData: {\r\n      ...saveGame.gameData,\r\n      customGameSettings: {\r\n        ...saveGame.gameData.customGameSettings,\r\n        CurrentQualityLevelsBySetting: setArrayDict(\r\n          saveGame.gameData.customGameSettings.CurrentQualityLevelsBySetting,\r\n          difficultyType,\r\n          value\r\n        ) as any\r\n      }\r\n    }\r\n  }));\r\n\r\n  if (difficultyType === \"SandboxMode\") {\r\n    state = tryModifySaveGame(state, saveGame => {\r\n      const saveGameGroup = getGameObjectGroup(\r\n        saveGame.gameObjects,\r\n        \"SaveGame\"\r\n      );\r\n      if (!saveGameGroup || saveGameGroup.gameObjects.length !== 1) {\r\n        return saveGame;\r\n      }\r\n      let saveGameObj = saveGameGroup.gameObjects[0];\r\n      const saveGameBehavior = getBehavior(saveGameObj, \"SaveGame\");\r\n      if (!saveGameBehavior) {\r\n        return saveGame;\r\n      }\r\n      saveGameObj = changeStateBehaviorData(\r\n        saveGameObj,\r\n        \"SaveGame\",\r\n        \"templateData\",\r\n        {\r\n          sandboxEnabled: value === \"Enabled\"\r\n        }\r\n      );\r\n\r\n      saveGame = replaceGameObject(saveGame, saveGameObj);\r\n      return saveGame;\r\n    });\r\n  }\r\n\r\n  return state;\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { find, findIndex } from \"lodash\";\r\nimport { SpacecraftManagerBehavior } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\nimport { isModifyPlanetAction } from \"../actions/modify-planet\";\r\n\r\nimport {\r\n  tryModifySaveGame,\r\n  changeStateBehaviorData,\r\n  replaceGameObject\r\n} from \"./utils\";\r\n\r\nexport default function modifyPlanetReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isModifyPlanetAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  const { planet, planetId } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame => {\r\n    const saveGameGroup = find(\r\n      saveGame.gameObjects,\r\n      x => x.name === \"SaveGame\"\r\n    );\r\n    if (!saveGameGroup) {\r\n      return saveGame;\r\n    }\r\n\r\n    let gameObject = saveGameGroup.gameObjects[0];\r\n    if (!gameObject) {\r\n      return saveGame;\r\n    }\r\n\r\n    gameObject = changeStateBehaviorData(\r\n      gameObject,\r\n      SpacecraftManagerBehavior,\r\n      \"templateData\",\r\n      behavior => {\r\n        const newDestinations = [...behavior.destinations];\r\n        const index = findIndex(newDestinations, x => x.id === planetId);\r\n        newDestinations[index] = {\r\n          ...newDestinations[index],\r\n          ...planet\r\n        };\r\n        return {\r\n          ...behavior,\r\n          destinations: newDestinations\r\n        };\r\n      }\r\n    );\r\n\r\n    saveGame = replaceGameObject(saveGame, gameObject);\r\n\r\n    return saveGame;\r\n  });\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\nimport { set as setFp } from \"lodash/fp\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport { isModifyRawAction } from \"../actions/modify-raw\";\r\n\r\nimport { tryModifySaveGame } from \"./utils\";\r\n\r\nexport default function modifyRawReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isModifyRawAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  let { path, data } = action.payload;\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    performModifyRaw(saveGame, path, data)\r\n  );\r\n}\r\n\r\nfunction performModifyRaw(saveGame: SaveGame, path: string[], data: any) {\r\n  return setFp(path, data, saveGame);\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { isParseProgressAction } from \"../actions/parse-progress\";\r\n\r\nimport { OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nexport default function parseProgressReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isParseProgressAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  return {\r\n    ...state,\r\n    loadingProgressMessage: action.payload.message\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\nimport { getBehavior, SaveGame, GameObject } from \"oni-save-parser\";\r\n\r\nimport { OniSaveState, defaultOniSaveState, BehaviorCopyData } from \"../state\";\r\n\r\nimport { isPasteBehaviorsAction } from \"../actions/paste-behaviors\";\r\n\r\nimport { gameObjectTypesByIdSelector } from \"../selectors/game-objects\";\r\n\r\nimport {\r\n  requireGameObject,\r\n  changeStateBehaviorData,\r\n  replaceGameObject,\r\n  tryModifySaveGame\r\n} from \"./utils\";\r\n\r\nexport default function pasteBehaviorsReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isPasteBehaviorsAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  if (!state.copyPasteData) {\r\n    return state;\r\n  }\r\n\r\n  const { gameObjectType, behaviors } = state.copyPasteData;\r\n\r\n  const { gameObjectId } = action.payload;\r\n\r\n  const typesById = gameObjectTypesByIdSelector.local(state);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n  if (gameObjectType !== typesById[gameObjectId]) {\r\n    return state;\r\n  }\r\n\r\n  return tryModifySaveGame(state, saveGame =>\r\n    performPasteBehaviors(saveGame, gameObjectId, behaviors)\r\n  );\r\n}\r\n\r\nfunction performPasteBehaviors(\r\n  saveGame: SaveGame,\r\n  gameObjectId: number,\r\n  behaviors: Record<string, BehaviorCopyData>\r\n): SaveGame {\r\n  let gameObject = requireGameObject(saveGame, gameObjectId);\r\n\r\n  for (const behaviorName of Object.keys(behaviors)) {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      continue;\r\n    }\r\n\r\n    gameObject = copyBehavior(\r\n      gameObject,\r\n      behaviorName,\r\n      behaviors[behaviorName]\r\n    );\r\n  }\r\n\r\n  saveGame = replaceGameObject(saveGame, gameObject);\r\n  return saveGame;\r\n}\r\n\r\nfunction copyBehavior(\r\n  gameObject: GameObject,\r\n  behaviorName: string,\r\n  behavior: BehaviorCopyData\r\n): GameObject {\r\n  const { templateData, extraData } = behavior;\r\n\r\n  if (templateData) {\r\n    gameObject = changeStateBehaviorData(\r\n      gameObject,\r\n      behaviorName,\r\n      \"templateData\",\r\n      templateData\r\n    );\r\n  }\r\n\r\n  if (extraData) {\r\n    gameObject = changeStateBehaviorData(\r\n      gameObject,\r\n      behaviorName,\r\n      \"extraData\",\r\n      extraData\r\n    );\r\n  }\r\n\r\n  return gameObject;\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { LoadingStatus, OniSaveState, defaultOniSaveState } from \"../state\";\r\n\r\nimport {\r\n  ACTION_RECEIVE_ONISAVE_BEGIN,\r\n  ACTION_RECEIVE_ONISAVE_ERROR,\r\n  ACTION_RECEIVE_ONISAVE_SUCCESS,\r\n  isReceiveOniSaveAction\r\n} from \"../actions/receive-onisave\";\r\n\r\nexport default function receiveOniSaveReducer(\r\n  state: OniSaveState = defaultOniSaveState,\r\n  action: AnyAction\r\n): OniSaveState {\r\n  if (!isReceiveOniSaveAction(action)) {\r\n    return state;\r\n  }\r\n\r\n  switch (action.type) {\r\n    case ACTION_RECEIVE_ONISAVE_BEGIN:\r\n      return {\r\n        ...state,\r\n        loadError: null,\r\n        loadingStatus: action.meta.operation,\r\n        loadingProgressMessage: null,\r\n        saveGame: action.payload.clearExisting ? null : state.saveGame,\r\n        isMock: false\r\n      };\r\n    case ACTION_RECEIVE_ONISAVE_ERROR:\r\n      state = {\r\n        ...state,\r\n        loadingStatus: LoadingStatus.Error,\r\n        loadError: action.payload\r\n      };\r\n      break;\r\n    case ACTION_RECEIVE_ONISAVE_SUCCESS:\r\n      state = {\r\n        ...state,\r\n        loadingStatus: LoadingStatus.Ready,\r\n        loadingProgressMessage: null,\r\n        loadError: null,\r\n        saveGame: action.payload,\r\n        isModified:\r\n          action.meta.operation === LoadingStatus.Saving\r\n            ? false\r\n            : state.isModified\r\n      };\r\n  }\r\n\r\n  return state;\r\n}\r\n","import oniSaveSaga from \"@/services/oni-save/saga\";\r\n\r\nexport default oniSaveSaga;\r\n","import { fork } from \"redux-saga/effects\";\r\n\r\nimport exportBehaviorsSaga from \"./export-behaviors\";\r\nimport importBehaviorsSaga from \"./import-behaviors\";\r\nimport loadOniSaveSaga from \"./load-onisave\";\r\nimport saveOniSaveSaga from \"./save-onisave\";\r\n\r\nexport default function* saga() {\r\n  yield fork(exportBehaviorsSaga);\r\n  yield fork(importBehaviorsSaga);\r\n  yield fork(loadOniSaveSaga);\r\n  yield fork(saveOniSaveSaga);\r\n}\r\n","import { takeEvery, select } from \"redux-saga/effects\";\r\nimport {\r\n  getBehavior,\r\n  MinionIdentityBehavior,\r\n  GameObject\r\n} from \"oni-save-parser\";\r\nimport objectHash from \"object-hash\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_EXPORT_BEHAVIORS,\r\n  ExportBehaviorsAction\r\n} from \"../actions/export-behaviors\";\r\n\r\nimport {\r\n  gameObjectTypesByIdSelector,\r\n  gameObjectsByIdSelector\r\n} from \"../selectors/game-objects\";\r\n\r\nexport default function* exportBehaviorsSaga() {\r\n  yield takeEvery(\r\n    ACTION_ONISAVE_EXPORT_BEHAVIORS,\r\n    handleExportBehaviorsActionSaga\r\n  );\r\n}\r\n\r\nfunction* handleExportBehaviorsActionSaga(action: ExportBehaviorsAction) {\r\n  const { gameObjectId, behaviors } = action.payload;\r\n\r\n  const typesById: ReturnType<\r\n    typeof gameObjectTypesByIdSelector\r\n  > = yield select(gameObjectTypesByIdSelector);\r\n  if (!typesById || !typesById[gameObjectId]) {\r\n    return;\r\n  }\r\n  const gameObjectType = typesById[gameObjectId];\r\n\r\n  const gameObjectsById: ReturnType<\r\n    typeof gameObjectsByIdSelector\r\n  > = yield select(gameObjectsByIdSelector);\r\n  if (!gameObjectsById || !gameObjectsById[gameObjectId]) {\r\n    return;\r\n  }\r\n\r\n  const gameObject = gameObjectsById[gameObjectId];\r\n\r\n  // TODO: Should have a config file defining valid behavior exports and file name source.\r\n  let fileName = \"export.json\";\r\n  if (gameObjectType === \"Minion\") {\r\n    const identity = getBehavior(gameObject, MinionIdentityBehavior);\r\n    if (identity) {\r\n      fileName = `${identity.templateData.name}.json`;\r\n    }\r\n  }\r\n\r\n  const exportObject = buildExportObject(gameObject, gameObjectType, behaviors);\r\n  const content = JSON.stringify(exportObject, null, 2);\r\n\r\n  const blob = new Blob([content], {\r\n    type: \"application/javascript;charset=utf-8\"\r\n  });\r\n\r\n  saveAs(blob, fileName);\r\n}\r\n\r\nfunction buildExportObject(\r\n  gameObject: GameObject,\r\n  gameObjectType: string,\r\n  targetBehaviors: string[]\r\n): any {\r\n  const exportBehaviors: Record<string, any> = {};\r\n  for (const behaviorName of targetBehaviors) {\r\n    const behavior = getBehavior(gameObject, behaviorName);\r\n    if (!behavior) {\r\n      continue;\r\n    }\r\n\r\n    const exportBehavior: any = (exportBehaviors[behaviorName] = {});\r\n    // We cannot leave any undefined props, as objectHash will include them.\r\n    if (behavior.templateData) {\r\n      exportBehavior.templateData = behavior.templateData;\r\n    }\r\n    if (behavior.extraData) {\r\n      exportBehavior.extraData = behavior.extraData;\r\n    }\r\n  }\r\n\r\n  const exportObject: any = {\r\n    gameObjectType,\r\n    behaviors: exportBehaviors\r\n  };\r\n\r\n  const hash = objectHash(exportObject, { algorithm: \"sha1\" });\r\n  exportObject.$sha1 = hash;\r\n\r\n  return exportObject;\r\n}\r\n","import { takeEvery, call, select, put, take } from \"redux-saga/effects\";\r\nimport objectHash from \"object-hash\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_IMPORT_BEHAVIORS,\r\n  ImportBehaviorsAction,\r\n  importWarnChecksum,\r\n  ACTION_ONISAVE_IMPORT_CONFIRM\r\n} from \"../actions/import-behaviors\";\r\nimport { mergeBehaviors } from \"../actions/merge-behaviors\";\r\n\r\nimport { gameObjectTypesByIdSelector } from \"../selectors/game-objects\";\r\n\r\nexport default function* importBehaviorsSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_IMPORT_BEHAVIORS, handleImportBehaviorsSaga);\r\n}\r\n\r\nfunction* handleImportBehaviorsSaga(action: ImportBehaviorsAction) {\r\n  const { gameObjectId, file } = action.payload;\r\n\r\n  function onError(message: string) {\r\n    // TODO: show dialog.\r\n    console.error(message);\r\n  }\r\n\r\n  const contentStr = yield call(readFile, file);\r\n\r\n  let content: any;\r\n  try {\r\n    content = JSON.parse(contentStr);\r\n  } catch (e) {\r\n    onError(\"Invalid import data.\");\r\n    return;\r\n  }\r\n\r\n  // TODO: validate data shape\r\n\r\n  const sha1 = content.$sha1;\r\n  delete content.$sha1;\r\n  const contentSha1 = objectHash(content, { algorithm: \"sha1\" });\r\n  if (sha1 !== contentSha1) {\r\n    const shouldContinue = yield* warnImportChecksumSaga();\r\n    if (!shouldContinue) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  const { gameObjectType, behaviors } = content;\r\n\r\n  const gameObjectTypesById = yield select(gameObjectTypesByIdSelector);\r\n  if (gameObjectTypesById[gameObjectId] !== gameObjectType) {\r\n    onError(\"Import data game object type does not match.\");\r\n    return;\r\n  }\r\n\r\n  yield put(mergeBehaviors(gameObjectId, behaviors));\r\n}\r\n\r\nfunction readFile(file: File): Promise<string> {\r\n  const reader = new FileReader();\r\n  return new Promise<string>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as string);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsText(file);\r\n  });\r\n}\r\n\r\nfunction* warnImportChecksumSaga() {\r\n  yield put(importWarnChecksum());\r\n  const action = yield take(ACTION_ONISAVE_IMPORT_CONFIRM);\r\n  return action.payload;\r\n}\r\n","import { eventChannel, END } from \"redux-saga\";\r\nimport { call, put, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_LOAD,\r\n  LoadOniSaveAction\r\n} from \"../actions/load-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"../actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"../actions/parse-progress\";\r\n\r\nimport { parseSave } from \"../worker-instance\";\r\nimport { LoadingStatus } from \"../state\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_LOAD, handleOniSaveLoad);\r\n}\r\n\r\nfunction* handleOniSaveLoad(action: LoadOniSaveAction) {\r\n  const file = action.payload;\r\n\r\n  yield put(receiveOniSaveBegin(LoadingStatus.Loading, true));\r\n\r\n  const data: ArrayBuffer = yield call(readFile, file);\r\n\r\n  const loadChannel = createLoadChannel(data);\r\n\r\n  while (true) {\r\n    const msg = yield take(loadChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      yield put(receiveOniSaveSuccess(msg.saveGame, LoadingStatus.Loading));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(receiveOniSaveError(msg.error, LoadingStatus.Loading));\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLoadChannel(data: ArrayBuffer) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    parseSave(data, onProgress)\r\n      .then(saveGame => {\r\n        emitter({\r\n          type: \"success\",\r\n          saveGame\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n\r\nfunction readFile(file: File): Promise<ArrayBuffer> {\r\n  const reader = new FileReader();\r\n  return new Promise<ArrayBuffer>((accept, reject) => {\r\n    reader.onload = () => {\r\n      accept(reader.result as ArrayBuffer);\r\n    };\r\n    reader.onerror = () => {\r\n      reject(reader.error);\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  });\r\n}\r\n","import { SaveGame } from \"oni-save-parser\";\r\n\r\nexport const RESPONSE_PROGRESS = \"progress\";\r\nexport const sendProgress = (message: string) => ({\r\n  type: RESPONSE_PROGRESS as typeof RESPONSE_PROGRESS,\r\n  message\r\n});\r\nexport type ProgressResponse = ReturnType<typeof sendProgress>;\r\n\r\nconst COMMAND_PARSE = \"parse-save\";\r\nexport const parseSave = (data: ArrayBuffer) => ({\r\n  type: COMMAND_PARSE as typeof COMMAND_PARSE,\r\n  data\r\n});\r\nexport type ParseSaveCommand = ReturnType<typeof parseSave>;\r\n\r\nexport const RESPONSE_PARSE_SUCCESS = \"parse-save:success\";\r\nexport const parseSaveSuccess = (saveGame: SaveGame) => ({\r\n  type: RESPONSE_PARSE_SUCCESS as typeof RESPONSE_PARSE_SUCCESS,\r\n  saveGame\r\n});\r\nexport type ParseSaveSuccessResponse = ReturnType<typeof parseSaveSuccess>;\r\n\r\nexport const RESPONSE_PARSE_ERROR = \"parse-save:error\";\r\nexport const parseSaveError = (error: Error) => ({\r\n  type: RESPONSE_PARSE_ERROR as typeof RESPONSE_PARSE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type ParseSaveErrorResponse = ReturnType<typeof parseSaveError>;\r\n\r\nexport type ParseSaveResponse =\r\n  | ParseSaveSuccessResponse\r\n  | ParseSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nconst COMMAND_WRITE = \"write-save\";\r\nexport const writeSave = (saveGame: SaveGame) => ({\r\n  type: COMMAND_WRITE as typeof COMMAND_WRITE,\r\n  saveGame\r\n});\r\nexport type WriteSaveCommand = ReturnType<typeof writeSave>;\r\n\r\nexport const RESPONSE_WRITE_SUCCESS = \"write-save:success\";\r\nexport const writeSaveSuccess = (data: ArrayBuffer) => ({\r\n  type: RESPONSE_WRITE_SUCCESS as typeof RESPONSE_WRITE_SUCCESS,\r\n  data\r\n});\r\nexport type WriteSaveSuccessResponse = ReturnType<typeof writeSaveSuccess>;\r\n\r\nexport const RESPONSE_WRITE_ERROR = \"write-save:error\";\r\nexport const writeSaveError = (error: Error) => ({\r\n  type: RESPONSE_WRITE_ERROR as typeof RESPONSE_WRITE_ERROR,\r\n  error: errorToJson(error)\r\n});\r\nexport type WriteSaveErrorResponse = ReturnType<typeof writeSaveError>;\r\n\r\nexport type WriteSaveResult =\r\n  | WriteSaveSuccessResponse\r\n  | WriteSaveErrorResponse\r\n  | ProgressResponse;\r\n\r\nexport type SaveParserCommand = ParseSaveCommand | WriteSaveCommand;\r\nexport type SaveParserResponse = ParseSaveResponse | WriteSaveResult;\r\n\r\nexport interface SaveParserCommandEvent extends MessageEvent {\r\n  data: SaveParserCommand;\r\n}\r\n\r\nexport interface SaveParserResultEvent extends MessageEvent {\r\n  data: SaveParserResponse;\r\n}\r\n\r\nexport interface ErrorJson {\r\n  name: string;\r\n  message: string;\r\n  stack?: string;\r\n}\r\nexport function errorToJson(e: Error): ErrorJson {\r\n  return {\r\n    name: e.name,\r\n    message: e.message,\r\n    stack: e.stack\r\n  };\r\n}\r\nexport function jsonToError(obj: ErrorJson): Error {\r\n  const e = new Error(obj.message);\r\n  e.name = obj.name;\r\n  e.stack = obj.stack;\r\n  return e;\r\n}\r\n","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"894f3b0cb8c3cf80c705.worker.js\");\n};","import { eventChannel, END } from \"redux-saga\";\r\nimport { put, select, takeEvery, take } from \"redux-saga/effects\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { saveAs } from \"file-saver\";\r\n\r\nimport {\r\n  ACTION_ONISAVE_SAVE,\r\n  SaveOniSaveAction\r\n} from \"../actions/save-onisave\";\r\n\r\nimport {\r\n  receiveOniSaveBegin,\r\n  receiveOniSaveError,\r\n  receiveOniSaveSuccess\r\n} from \"../actions/receive-onisave\";\r\n\r\nimport { parseProgress } from \"../actions/parse-progress\";\r\n\r\nimport { writeSave } from \"../worker-instance\";\r\n\r\nimport { saveGameSelector } from \"../selectors/save-game\";\r\nimport { LoadingStatus } from \"../state\";\r\n\r\nexport default function* saveEditorSaga() {\r\n  yield takeEvery(ACTION_ONISAVE_SAVE, handleOniSaveWrite);\r\n}\r\n\r\nfunction* handleOniSaveWrite(action: SaveOniSaveAction) {\r\n  let saveName = action.payload;\r\n\r\n  const saveGame: SaveGame | null = yield select(saveGameSelector);\r\n  if (!saveGame) {\r\n    return;\r\n  }\r\n\r\n  if (!saveName || saveName === \"\") {\r\n    saveName = `${saveGame.header.gameInfo.baseName}.sav`;\r\n  }\r\n\r\n  yield put(receiveOniSaveBegin(LoadingStatus.Saving));\r\n\r\n  const saveChannel = createSaveChannel(saveGame);\r\n\r\n  while (true) {\r\n    const msg = yield take(saveChannel);\r\n    if (msg.type === \"progress\") {\r\n      yield put(parseProgress(msg.message));\r\n      continue;\r\n    } else if (msg.type === \"success\") {\r\n      saveAs(msg.blob, saveName);\r\n      yield put(receiveOniSaveSuccess(saveGame, LoadingStatus.Saving));\r\n      return;\r\n    } else if (msg.type === \"error\") {\r\n      yield put(\r\n        receiveOniSaveError(\r\n          {\r\n            name: msg.error.name,\r\n            message: msg.error.message,\r\n            stack: msg.error.stack\r\n          },\r\n          LoadingStatus.Saving\r\n        )\r\n      );\r\n      return;\r\n    }\r\n  }\r\n}\r\n\r\nfunction createSaveChannel(saveGame: SaveGame) {\r\n  return eventChannel(emitter => {\r\n    function onProgress(message: string) {\r\n      emitter({\r\n        type: \"progress\",\r\n        message\r\n      });\r\n    }\r\n\r\n    writeSave(saveGame, onProgress)\r\n      .then(data => {\r\n        const blob = new Blob([data]);\r\n        emitter({\r\n          type: \"success\",\r\n          blob\r\n        });\r\n        emitter(END);\r\n      })\r\n      .catch(error => {\r\n        emitter({\r\n          type: \"error\",\r\n          error\r\n        });\r\n        emitter(END);\r\n      });\r\n\r\n    //This is the cancellation func.\r\n    // TODO: We can support cancellation in oni-save-parser rather easily.\r\n    return () => {};\r\n  });\r\n}\r\n","import { AppState, createStructuredSelector } from \"@/state\";\r\n\r\nimport {\r\n  loadState as loadI18nState,\r\n  persistState as persistI18nState\r\n} from \"@/services/i18n/persist\";\r\n\r\nexport function loadPersistedState(state: AppState): AppState {\r\n  const persistedState = getStoredState();\r\n\r\n  return {\r\n    ...state,\r\n    services: {\r\n      ...state.services,\r\n      i18n: loadI18nState(state.services.i18n, persistedState.i18n || {})\r\n    }\r\n  };\r\n}\r\n\r\n// Store the last persisted state to avoid setting the item\r\n//  when no data has changed.\r\nlet lastPersistedState: any = null;\r\n\r\nconst buildPersistedState = createStructuredSelector({\r\n  i18n: persistI18nState\r\n});\r\n\r\nexport function savePersistedState(state: AppState) {\r\n  const persistedState = buildPersistedState(state);\r\n  if (lastPersistedState === persistedState) {\r\n    return;\r\n  }\r\n  setStoredState(persistedState);\r\n  lastPersistedState = persistedState;\r\n}\r\n\r\nconst PERSISTED_STATE_KEY = \"persisted-state\";\r\n\r\nfunction getStoredState(): any {\r\n  const stateJson = localStorage.getItem(PERSISTED_STATE_KEY);\r\n  if (!stateJson) {\r\n    return {};\r\n  }\r\n\r\n  try {\r\n    return JSON.parse(stateJson);\r\n  } catch {\r\n    return {};\r\n  }\r\n}\r\n\r\nfunction setStoredState(state: any) {\r\n  localStorage.setItem(PERSISTED_STATE_KEY, JSON.stringify(state));\r\n}\r\n","import { createStructuredSelector } from \"@/state\";\r\n\r\nimport { I18NState } from \"./state\";\r\nimport i18n from \"./i18n\";\r\nimport { currentLanguageSelector } from \"./selectors/language\";\r\n\r\nexport const persistState = createStructuredSelector({\r\n  language: currentLanguageSelector\r\n});\r\n\r\ntype PersistedState = ReturnType<typeof persistState>;\r\n\r\nexport function loadState(\r\n  state: I18NState,\r\n  persisted: PersistedState\r\n): I18NState {\r\n  i18n.changeLanguage(persisted.language);\r\n\r\n  return {\r\n    ...state,\r\n    ...persisted\r\n  };\r\n}\r\n","import { AnyAction } from \"redux\";\r\n\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { ACTION_RECEIVE_ONISAVE_SUCCESS } from \"@/services/oni-save/actions/receive-onisave\";\r\nimport { ACTION_ONISAVE_LOAD } from \"@/services/oni-save/actions/load-onisave\";\r\nimport { ACTION_ONISAVE_PARSE_PROGRESS } from \"@/services/oni-save/actions/parse-progress\";\r\n\r\nexport const actionsBlacklist: string[] = [\r\n  ACTION_ONISAVE_LOAD,\r\n  ACTION_ONISAVE_PARSE_PROGRESS\r\n];\r\n\r\nexport function actionSanitizer(action: AnyAction): AnyAction {\r\n  if (action.type === ACTION_RECEIVE_ONISAVE_SUCCESS) {\r\n    return {\r\n      ...action,\r\n      payload: sanitizeSave(action.payload)\r\n    };\r\n  }\r\n  return action;\r\n}\r\n\r\nexport function stateSanitizer(state: AppState): any {\r\n  return {\r\n    ...state,\r\n    services: {\r\n      ...state.services,\r\n      oniSave: {\r\n        ...state.services.oniSave,\r\n        saveGame: sanitizeSave(state.services.oniSave.saveGame)\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\nfunction sanitizeSave(save: SaveGame | null): any {\r\n  if (!save) {\r\n    return null;\r\n  }\r\n  return {\r\n    ...save,\r\n    world: {\r\n      ...save.world,\r\n      streamed: \"~snip~\"\r\n    }\r\n  };\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport { MuiThemeProvider } from \"@material-ui/core/styles\";\r\n\r\nimport { ConnectedRouter } from \"connected-react-router\";\r\n\r\nimport history from \"@/history\";\r\nimport theme from \"@/theme\";\r\n\r\nimport StoreProvider from \"@/store/components/StoreProvider\";\r\n\r\nimport I18NProvider from \"@/services/i18n/components/I18NProvider\";\r\n\r\nimport LoadingDialog from \"@/components/LoadingDialog\";\r\nimport ImportWarningDialog from \"@/components/ImportWarningDialog\";\r\n\r\nimport Routes from \"@/routes\";\r\n\r\nconst Root: React.FC = () => (\r\n  <I18NProvider>\r\n    <StoreProvider>\r\n      <ConnectedRouter history={history}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <CssBaseline />\r\n          <LoadingDialog />\r\n          <ImportWarningDialog />\r\n          <Routes />\r\n        </MuiThemeProvider>\r\n      </ConnectedRouter>\r\n    </StoreProvider>\r\n  </I18NProvider>\r\n);\r\n\r\nexport default Root;\r\n","import { createMuiTheme } from \"@material-ui/core/styles\";\r\n\r\n// Theme settings can be adjusted here.\r\n//  https://material-ui.com/style/color/\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    type: \"dark\"\r\n  }\r\n});\r\n\r\nexport default theme;\r\n","import * as React from \"react\";\r\n\r\nimport { Provider } from \"react-redux\";\r\n\r\nimport store from \"../store\";\r\n\r\nconst StoreProvider: React.FC = ({ children }) => (\r\n  <Provider store={store}>{children}</Provider>\r\n);\r\nexport default StoreProvider;\r\n","import * as React from \"react\";\r\n\r\nimport { I18nextProvider } from \"react-i18next\";\r\n\r\nimport i18n from \"../i18n\";\r\n\r\nconst I18NProvider: React.FC = ({ children }) => (\r\n  <I18nextProvider i18n={i18n}>{children}</I18nextProvider>\r\n);\r\nexport default I18NProvider;\r\n","import LoadingDialog from \"./component\";\r\nimport connectLoadingDialog from \"./connector\";\r\n\r\nexport default connectLoadingDialog(LoadingDialog);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport interface LoadingDialogProps {\r\n  isLoading: boolean;\r\n  isSaving: boolean;\r\n  message: string | null;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: theme.spacing(60),\r\n      height: theme.spacing(20)\r\n    },\r\n    content: {\r\n      verticalAlign: \"middle\"\r\n    },\r\n    loadingText: {\r\n      textAlign: \"center\"\r\n    },\r\n    message: {\r\n      textAlign: \"center\"\r\n    }\r\n  });\r\n\r\ntype Props = LoadingDialogProps & WithStyles<typeof styles>;\r\n\r\nconst LoadingDialog: React.FC<Props> = ({\r\n  isLoading,\r\n  isSaving,\r\n  message,\r\n  classes\r\n}) => (\r\n  <Dialog open={isLoading || isSaving}>\r\n    <div className={classes.root}>\r\n      <div className={classes.content}>\r\n        <Typography className={classes.loadingText} variant=\"h4\">\r\n          {isLoading && (\r\n            <Trans i18nKey=\"save-file.conditions.loading\">Loading</Trans>\r\n          )}\r\n          {isSaving && (\r\n            <Trans i18nKey=\"save-file.conditions.saving\">Saving</Trans>\r\n          )}\r\n        </Typography>\r\n        <Typography className={classes.message} variant=\"body1\">\r\n          {message}\r\n        </Typography>\r\n      </div>\r\n    </div>\r\n  </Dialog>\r\n);\r\nexport default withStyles(styles)(LoadingDialog);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector, AppState } from \"@/state\";\r\n\r\nimport {\r\n  loadingStatusSelector,\r\n  loadingStatusMessageSelector\r\n} from \"@/services/oni-save/selectors/loading-status\";\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isLoading: (state: AppState) =>\r\n    loadingStatusSelector(state) === LoadingStatus.Loading,\r\n  isSaving: (state: AppState) =>\r\n    loadingStatusSelector(state) === LoadingStatus.Saving,\r\n  message: loadingStatusMessageSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import ImportWarningDialog from \"./component\";\r\nimport connectImportWarningDialog from \"./connector\";\r\nexport default connectImportWarningDialog(ImportWarningDialog);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport { createStyles, withStyles, WithStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nexport interface ImportWarningDialogProps {\r\n  isOpen: boolean;\r\n  onConfirm(): void;\r\n  onCancel(): void;\r\n}\r\nconst styles = createStyles({\r\n  description: {\r\n    whiteSpace: \"pre-line\"\r\n  }\r\n});\r\n\r\ntype Props = ImportWarningDialogProps & WithStyles<typeof styles>;\r\nconst ImportWarningDialog: React.FC<Props> = ({\r\n  classes,\r\n  isOpen,\r\n  onConfirm,\r\n  onCancel\r\n}) => (\r\n  <Dialog open={isOpen}>\r\n    <DialogTitle>\r\n      <Trans i18nKey=\"data.conditions.modified_titlecase\">Data Modified</Trans>\r\n    </DialogTitle>\r\n    <DialogContent>\r\n      <Typography className={classes.description}>\r\n        <Trans i18nKey=\"data.prompts.modified-description\" />\r\n      </Typography>\r\n      <Typography>\r\n        <Trans i18nKey=\"dialog.queries.continue\" />\r\n      </Typography>\r\n    </DialogContent>\r\n    <DialogActions>\r\n      <Button onClick={onCancel}>\r\n        <Trans i18nKey=\"dialog.verbs.cancel_titlecase\">Cancel</Trans>\r\n      </Button>\r\n      <Button onClick={onConfirm}>\r\n        <Trans i18nKey=\"data.verbs.import_titlecase\">Import</Trans>\r\n      </Button>\r\n    </DialogActions>\r\n  </Dialog>\r\n);\r\n\r\nexport default withStyles(styles)(ImportWarningDialog);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\n\r\nimport { warnInputChecksumSelector } from \"@/services/oni-save/selectors/ui-state\";\r\nimport { importConfirm } from \"@/services/oni-save/actions/import-behaviors\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isOpen: warnInputChecksumSelector\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onConfirm: () => importConfirm(true),\r\n  onCancel: () => importConfirm(false)\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);\r\n","import { OniSaveState } from \"../state\";\r\n\r\nimport { createServiceSelector } from \"./utils\";\r\n\r\nexport const warnInputChecksumSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.warnInputChecksum\r\n);\r\n","import * as React from \"react\";\r\n\r\nimport { Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport OverviewPage from \"@/pages/OverviewPage\";\r\nimport DuplicantsPage from \"@/pages/DuplicantsPage\";\r\nimport DuplicantEditorPage from \"@/pages/DuplicantEditorPage\";\r\nimport GeysersPage from \"@/pages/GeysersPage\";\r\nimport PlanetsPage from \"@/pages/PlanetsPage\";\r\nimport MaterialsPage from \"@/pages/MaterialsPage\";\r\nimport RawEditorPage from \"@/pages/RawEditorPage\";\r\nimport SettingsPage from \"@/pages/SettingsPage\";\r\n\r\nconst Routes: React.FC = () => (\r\n  <Switch>\r\n    <Route path=\"/\" exact component={OverviewPage} />\r\n    <Route path=\"/duplicants\" exact component={DuplicantsPage} />\r\n    <Route\r\n      path=\"/duplicants/:gameObjectId\"\r\n      exact\r\n      component={DuplicantEditorPage}\r\n    />\r\n    <Route path=\"/geysers\" exact component={GeysersPage} />\r\n    <Route path=\"/planets\" exact component={PlanetsPage} />\r\n    <Route path=\"/materials\" exact component={MaterialsPage} />\r\n    <Route path=\"/raw\" exact component={RawEditorPage} />\r\n    <Route path=\"/settings\" exact component={SettingsPage} />\r\n    <Redirect to=\"/\" />\r\n  </Switch>\r\n);\r\nexport default Routes;\r\n","import OverviewPage from \"./component\";\r\nimport connectOverviewPage from \"./connector\";\r\n\r\nexport default connectOverviewPage(OverviewPage);\r\n","import * as React from \"react\";\r\n\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\n\r\nimport NoSave from \"./components/NoSave\";\r\nimport SaveOverview from \"./components/SaveOverview\";\r\nimport SaveError from \"./components/SaveError\";\r\n\r\nexport interface OverviewPageProps {\r\n  loadingStatus: LoadingStatus;\r\n}\r\n\r\ntype Props = OverviewPageProps;\r\nconst OverviewPage: React.FC<Props> = ({ loadingStatus }) => {\r\n  switch (loadingStatus) {\r\n    default:\r\n      return <NoSave />;\r\n    case LoadingStatus.Error:\r\n      return <SaveError />;\r\n    case LoadingStatus.Saving:\r\n    case LoadingStatus.Ready:\r\n      return <SaveOverview />;\r\n  }\r\n};\r\n\r\nexport default OverviewPage;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { OSType } from \"@/runtime-env\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport LoadButton from \"@/components/LoadButton\";\r\nimport LoadExampleButton from \"@/components/LoadExampleButton\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing(2)\r\n    }\r\n  });\r\n\r\nconst SaveFilePaths: Record<OSType, string | null> = {\r\n  windows: \"Documents/Klei/OxygenNotIncluded/save_files\",\r\n  mac: null,\r\n  linux: \"~/.config/unity3d/Klei/Oxygen Not Included/save_files\",\r\n  unknown: null\r\n};\r\nconst saveFilePath = SaveFilePaths[OSType];\r\n\r\ntype Props = WithStyles<typeof styles> & WithTranslation;\r\n\r\nconst NoSave: React.FC<Props> = ({ classes, t }) => (\r\n  <PageContainer title={t(\"overview-page.no-save.title\")}>\r\n    <div className={classes.root}>\r\n      <div>\r\n        <Typography variant=\"h5\">\r\n          <Trans i18nKey=\"overview-page.no-save.prompt\">\r\n            Load a save using the controls on the upper left.\r\n          </Trans>\r\n        </Typography>\r\n      </div>\r\n      {SaveFilePaths[OSType] && (\r\n        <Typography component=\"div\" variant=\"body1\">\r\n          <Trans i18nKey=\"overview-page.no-save.save-location\">\r\n            Save files can be found at <code>{{ path: saveFilePath }}</code>\r\n          </Trans>\r\n        </Typography>\r\n      )}\r\n      <LoadButton />\r\n      <Typography component=\"div\">\r\n        Have no save file? Want to preview the editor?\r\n      </Typography>\r\n      <LoadExampleButton />\r\n    </div>\r\n  </PageContainer>\r\n);\r\nexport default withStyles(styles)(withTranslation()(NoSave));\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport Nav from \"./Nav\";\r\nimport GithubButton from \"./GithubButton\";\r\n\r\nexport interface SidebarProps {\r\n  className?: string;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    toolbar: {\r\n      ...theme.mixins.toolbar,\r\n      display: \"flex\",\r\n      paddingLeft: theme.spacing(3),\r\n      alignItems: \"center\"\r\n    },\r\n    ghButton: {\r\n      marginLeft: \"auto\",\r\n      marginRight: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = SidebarProps & WithStyles<typeof styles>;\r\n\r\nconst Sidebar: React.FC<Props> = ({ className, classes }) => (\r\n  <div className={className}>\r\n    <div className={classes.toolbar}>\r\n      <Typography variant=\"h6\" color=\"textSecondary\">\r\n        Duplicity\r\n      </Typography>\r\n      <GithubButton className={classes.ghButton} />\r\n    </div>\r\n    <Divider />\r\n    <Nav />\r\n  </div>\r\n);\r\nexport default withStyles(styles)(Sidebar);\r\n","import Nav from \"./component\";\r\nimport connectNav from \"./connector\";\r\n\r\nexport default connectNav(Nav);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\n\r\nimport ListItemLink from \"@/components/ListItemLink\";\r\n\r\nimport NavItems from \"./nav-links\";\r\n\r\nexport interface NavProps {\r\n  hasSave: boolean;\r\n}\r\n\r\nexport type Props = NavProps;\r\nconst Nav: React.FC<Props> = ({ hasSave }) => (\r\n  <List component=\"nav\">\r\n    {NavItems.map(({ name, path, i18nKey, saveRequired }) => (\r\n      <ListItemLink\r\n        key={name}\r\n        to={path}\r\n        button\r\n        autoselect\r\n        disabled={saveRequired ? !hasSave : false}\r\n      >\r\n        <ListItemText>\r\n          <Trans i18nKey={i18nKey}>{name}</Trans>\r\n        </ListItemText>\r\n      </ListItemLink>\r\n    ))}\r\n  </List>\r\n);\r\n\r\nexport default Nav;\r\n","import * as React from \"react\";\r\n\r\nimport { withRouter, RouteComponentProps } from \"react-router\";\r\n\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\n\r\nimport { onLinkClick } from \"./utils\";\r\n\r\nexport interface ListItemLinkProps {\r\n  to: string;\r\n  autoselect?: boolean;\r\n  button?: boolean;\r\n  disabled?: boolean;\r\n}\r\n\r\ntype Props = ListItemLinkProps & RouteComponentProps;\r\nclass ListItemLink extends React.Component<Props> {\r\n  private _onClick = onLinkClick.bind(this);\r\n\r\n  render() {\r\n    const {\r\n      history,\r\n      location,\r\n      to,\r\n      autoselect,\r\n      button,\r\n      disabled,\r\n      children\r\n    } = this.props;\r\n    return (\r\n      <ListItem\r\n        selected={autoselect && pathStartsWith(location.pathname, to)}\r\n        component=\"a\"\r\n        button={button as any} // typings are weird here.  `button` works fine, `button={true}` does not.\r\n        href={history.createHref({ pathname: to })}\r\n        disabled={disabled}\r\n        onClick={this._onClick}\r\n      >\r\n        {children}\r\n      </ListItem>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(ListItemLink);\r\n\r\nfunction pathStartsWith(path: string, startsWith: string): boolean {\r\n  if (path === startsWith) {\r\n    return true;\r\n  }\r\n\r\n  return path.substr(0, startsWith.length + 1) === `${startsWith}/`;\r\n}\r\n","export interface NavItem {\r\n  name: string;\r\n  path: string;\r\n  i18nKey: string;\r\n  saveRequired?: boolean;\r\n}\r\n\r\nconst NavItems: NavItem[] = [\r\n  {\r\n    name: \"Overview\",\r\n    path: \"/\",\r\n    i18nKey: \"overview-page.title\"\r\n  },\r\n  {\r\n    name: \"Duplicants\",\r\n    path: \"/duplicants\",\r\n    i18nKey: \"duplicant.noun_titlecase_plural\",\r\n    saveRequired: true\r\n  },\r\n  {\r\n    name: \"Geysers\",\r\n    path: \"/geysers\",\r\n    i18nKey: \"geyser.noun_titlecase_plural\",\r\n    saveRequired: true\r\n  },\r\n  {\r\n    name: \"Planets\",\r\n    path: \"/planets\",\r\n    i18nKey: \"planet.noun_titlecase_plural\",\r\n    saveRequired: true\r\n  },\r\n  {\r\n    name: \"Materials\",\r\n    path: \"/materials\",\r\n    i18nKey: \"material.noun_titlecase_plural\",\r\n    saveRequired: true\r\n  },\r\n  {\r\n    name: \"Raw Editor\",\r\n    path: \"/raw\",\r\n    i18nKey: \"raw-editor-page.title\",\r\n    saveRequired: true\r\n  }\r\n];\r\n\r\nexport default NavItems;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\n\r\nimport { hasSaveSelector } from \"@/services/oni-save/selectors/save-game\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  hasSave: hasSaveSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faGithub } from \"@fortawesome/free-brands-svg-icons\";\r\n\r\nexport interface GithubButtonProps {\r\n  className?: string;\r\n}\r\ntype Props = GithubButtonProps & WithTranslation;\r\nconst GithubButton: React.FC<Props> = ({ className, t }) => (\r\n  <IconButton\r\n    className={className}\r\n    component=\"a\"\r\n    href=\"https://github.com/RoboPhred/oni-duplicity\"\r\n    target=\"_blank\"\r\n    title={t(\"view-github\")}\r\n  >\r\n    <FontAwesomeIcon icon={faGithub} />\r\n  </IconButton>\r\n);\r\n\r\nexport default withTranslation()(GithubButton);\r\n","import * as React from \"react\";\r\n\r\nimport MaterialAppBar from \"@material-ui/core/AppBar\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport {\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles,\r\n  Theme\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport SettingsButton from \"./SettingsButton\";\r\nimport SaveIconButton from \"./SaveIconButton\";\r\nimport LoadIconButton from \"./LoadIconButton\";\r\nimport BackButton from \"./BackButton\";\r\nimport ModifiedChip from \"./ModifiedChip\";\r\nimport ExampleChip from \"./ExampleChip\";\r\n\r\nexport interface AppbarProps {\r\n  title: string;\r\n  back?: boolean;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    title: {\r\n      flexGrow: 1\r\n    },\r\n    chip: {\r\n      marginRight: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = AppbarProps & WithStyles<typeof styles>;\r\n\r\nconst Appbar: React.FC<Props> = ({ classes, title, back }) => (\r\n  <MaterialAppBar position=\"static\">\r\n    <Toolbar>\r\n      {back && <BackButton />}\r\n      <Typography className={classes.title} variant=\"h6\" color=\"inherit\">\r\n        {title}\r\n      </Typography>\r\n      <ModifiedChip className={classes.chip} />\r\n      <ExampleChip className={classes.chip} />\r\n      <SaveIconButton />\r\n      <LoadIconButton />\r\n      <SettingsButton />\r\n    </Toolbar>\r\n  </MaterialAppBar>\r\n);\r\nexport default withStyles(styles)(Appbar);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { push } from \"connected-react-router\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport SettingsIcon from \"@material-ui/icons/Settings\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: () => push(\"/settings\")\r\n};\r\ntype DispatchProps = typeof mapDispatchToProps;\r\n\r\ntype Props = DispatchProps;\r\nconst SettingsButton: React.FC<Props> = ({ onClick }) => (\r\n  <IconButton color=\"inherit\" onClick={onClick}>\r\n    <SettingsIcon />\r\n  </IconButton>\r\n);\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(SettingsButton);\r\n","import SaveIconButton from \"./component\";\r\nimport connectSaveIconButton from \"./connector\";\r\n\r\nexport default connectSaveIconButton(SaveIconButton);\r\n","import * as React from \"react\";\r\n\r\nimport { withTranslation, WithTranslation } from \"react-i18next\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\n\r\nexport interface SaveIconButtonProps {\r\n  disabled: boolean;\r\n  onSave(): void;\r\n}\r\n\r\ntype Props = SaveIconButtonProps & WithTranslation;\r\nconst SaveIconButton: React.SFC<Props> = ({ disabled, onSave, t }) => (\r\n  <IconButton\r\n    title={t(\"save-file.verbs.save_titlecase\")}\r\n    disabled={disabled}\r\n    onClick={onSave}\r\n  >\r\n    <SaveIcon />\r\n  </IconButton>\r\n);\r\n\r\nexport default withTranslation()(SaveIconButton);\r\n","import { createSelector } from \"reselect\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\n\r\nimport { LoadingStatus } from \"@/services/oni-save/state\";\r\nimport { isMockSelector } from \"@/services/oni-save/selectors/save-game\";\r\nimport { loadingStatusSelector } from \"@/services/oni-save/selectors/loading-status\";\r\n\r\nimport { saveOniSave } from \"@/services/oni-save/actions/save-onisave\";\r\n\r\nconst disabledSelector = createSelector(\r\n  loadingStatusSelector,\r\n  isMockSelector,\r\n  (loadStatus, isMock) => {\r\n    if (loadStatus !== LoadingStatus.Ready) {\r\n      return true;\r\n    }\r\n    if (isMock) {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  disabled: disabledSelector\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onSave: () => saveOniSave()\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);\r\n","import LoadIconButton from \"./component\";\r\nexport default LoadIconButton;\r\n","import * as React from \"react\";\r\n\r\nimport { withTranslation, WithTranslation } from \"react-i18next\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FolderIcon from \"@material-ui/icons/Folder\";\r\n\r\nimport AbstractLoadButton from \"@/components/AbstractLoadButton\";\r\n\r\ntype Props = WithTranslation;\r\nconst LoadIconButton: React.FC<Props> = ({ t }) => (\r\n  <AbstractLoadButton>\r\n    {({ disabled, onClick }) => (\r\n      <IconButton\r\n        title={t(\"save-file.verbs.load_titlecase\")}\r\n        disabled={disabled}\r\n        onClick={onClick}\r\n      >\r\n        <FolderIcon />\r\n      </IconButton>\r\n    )}\r\n  </AbstractLoadButton>\r\n);\r\n\r\nexport default withTranslation()(LoadIconButton);\r\n","import * as React from \"react\";\r\n\r\nimport useLoadFile from \"@/services/oni-save/hooks/useLoadFile\";\r\n\r\nexport interface AbstractLoadButtonProps {\r\n  children(props: AbstractLoadButtonRenderProps): React.ReactChild;\r\n}\r\nexport interface AbstractLoadButtonRenderProps {\r\n  disabled: boolean;\r\n  onClick(): void;\r\n}\r\n\r\ntype Props = AbstractLoadButtonProps;\r\nconst AbstractLoadButton: React.FC<Props> = ({\r\n  children\r\n}) => {\r\n  const { disabled, onLoadSave } = useLoadFile();\r\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\r\n\r\n  const onClick = React.useCallback(() => {\r\n    if (inputRef.current) {\r\n      inputRef.current.click();\r\n    }\r\n  }, [inputRef]);\r\n\r\n  const onFileChange = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      const files = e.target.files;\r\n      if (!files || files.length === 0) {\r\n        return;\r\n      }\r\n      const file = files[0];\r\n\r\n      onLoadSave(file);\r\n    },\r\n    [onLoadSave]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      {children({ disabled, onClick })}\r\n      <input\r\n        ref={inputRef}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        accept=\".sav\"\r\n        onChange={onFileChange}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AbstractLoadButton;","import * as React from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { LoadingStatus } from \"../state\";\r\nimport { loadOniSave } from \"../actions/load-onisave\";\r\nimport { loadingStatusSelector } from \"../selectors/loading-status\";\r\n\r\nexport interface UseLoadFile {\r\n  disabled: boolean;\r\n  onLoadSave(file: File): void;\r\n}\r\n\r\nfunction isBusy(status: LoadingStatus) {\r\n  switch (status) {\r\n    case LoadingStatus.Loading:\r\n    case LoadingStatus.Saving:\r\n      return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport default function useLoadFile(): UseLoadFile {\r\n  const dispatch = useDispatch();\r\n  const loadingStatus = useSelector(loadingStatusSelector);\r\n  const onLoadSave = React.useCallback((file: File) => {\r\n    dispatch(loadOniSave(file));\r\n  }, [dispatch]);\r\n  return {\r\n    disabled: isBusy(loadingStatus),\r\n    onLoadSave\r\n  };\r\n}\r\n","import BackButton from \"./component\";\r\nimport connectBackButton from \"./connector\";\r\n\r\nexport default connectBackButton(BackButton);\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\nexport interface BackButtonProps {\r\n  className?: string;\r\n  onClick(): void;\r\n}\r\n\r\ntype Props = BackButtonProps;\r\nconst BackButton: React.FC<Props> = ({ className, onClick }) => (\r\n  <IconButton\r\n    className={className}\r\n    color=\"inherit\"\r\n    aria-label=\"Back\"\r\n    onClick={onClick}\r\n  >\r\n    <ArrowBackIcon />\r\n  </IconButton>\r\n);\r\n\r\nexport default BackButton;\r\n","import { connect } from \"react-redux\";\r\nimport { goBack } from \"connected-react-router\";\r\n\r\nconst mapDispatchToProps = {\r\n  onClick: goBack\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n);\r\n","import ModifiedChip from \"./component\";\r\nimport connectModifiedChip from \"./connector\";\r\n\r\nexport default connectModifiedChip(ModifiedChip);\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nexport interface ModifiedChipProps {\r\n  className?: string;\r\n  isModified: boolean;\r\n}\r\n\r\ntype Props = ModifiedChipProps & WithTranslation;\r\nconst ModifiedChip: React.FC<Props> = ({ className, isModified, t }) => (\r\n  <div className={className}>\r\n    {isModified && (\r\n      <Chip\r\n        color=\"secondary\"\r\n        label={t(\"save-file.conditions.modified\", {\r\n          defaultValue: \"Modified\"\r\n        })}\r\n        title={t(\"save-file.conditions.modified_description\")}\r\n      />\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default withTranslation()(ModifiedChip);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\nimport { isSaveModifiedSelector } from \"@/services/oni-save/selectors/save-game\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isModified: isSaveModifiedSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import ExampleChip from \"./component\";\r\nimport connectExampleChip from \"./connector\";\r\n\r\nexport default connectExampleChip(ExampleChip);\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nexport interface ExampleChipChipProps {\r\n  isExample: boolean;\r\n  className?: string;\r\n}\r\n\r\ntype Props = ExampleChipChipProps & WithTranslation;\r\nconst ExampleChip: React.FC<Props> = ({ className, isExample, t }) => (\r\n  <div className={className}>\r\n    {isExample && (\r\n      <Chip\r\n        color=\"secondary\"\r\n        label={t(\"save-file.conditions.example\", {\r\n          defaultValue: \"Example\"\r\n        })}\r\n        title={t(\"save-file.conditions.example_description\")}\r\n      />\r\n    )}\r\n  </div>\r\n);\r\n\r\nexport default withTranslation()(ExampleChip);\r\n","import { connect } from \"react-redux\";\r\nimport { createStructuredSelector } from \"@/state\";\r\nimport { isMockSelector } from \"@/services/oni-save/selectors/save-game\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  isExample: isMockSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import LoadButton from \"./component\";\r\n\r\nexport default LoadButton;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport AbstractLoadButton from \"@/components/AbstractLoadButton\";\r\n\r\nconst LoadButton: React.FC = () => {\r\n  return (\r\n    <AbstractLoadButton>\r\n      {\r\n        ({ disabled, onClick }) => (\r\n          <button disabled={disabled} onClick={onClick}>\r\n            <Trans i18nKey=\"save-file.verbs.load_titlecase\">Load</Trans>\r\n          </button>\r\n        )\r\n      }\r\n\r\n    </AbstractLoadButton>\r\n  );\r\n}\r\n\r\nexport default LoadButton;\r\n","import LoadExampleButton from \"./component\";\r\nimport connectLoadExampleButton from \"./connector\";\r\n\r\nexport default connectLoadExampleButton(LoadExampleButton);\r\n","import * as React from \"react\";\r\n\r\nexport interface LoadExampleButtonProps {\r\n  onLoadExampleSave(): void;\r\n}\r\ntype Props = LoadExampleButtonProps;\r\nconst LoadExampleButton: React.FC<Props> = ({ onLoadExampleSave }) => (\r\n  <button onClick={onLoadExampleSave}>Load Example</button>\r\n);\r\n\r\nexport default LoadExampleButton;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { loadExampleSave } from \"@/services/oni-save/actions/load-example\";\r\n\r\nconst mapDispatchToProps = {\r\n  onLoadExampleSave: loadExampleSave\r\n};\r\n\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n);\r\n","import SaveOverview from \"./SaveOverview\";\r\nexport default SaveOverview;\r\n","import * as React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nimport Difficulty from \"./components/Difficulty\";\r\n\r\nimport mapStateToProps, { StateProps } from \"./state-props\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing()\r\n    },\r\n    difficulty: {\r\n      marginTop: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = StateProps & WithStyles<typeof styles>;\r\n\r\nconst SaveOverview: React.FC<Props> = ({ classes, saveName, cycleCount }) => (\r\n  <PageContainer title=\"Overview\">\r\n    <div className={classes.root}>\r\n      <Typography variant=\"h4\">{saveName}</Typography>\r\n      <Divider />\r\n      <Typography>{cycleCount} cycles.</Typography>\r\n      <Difficulty className={classes.difficulty} />\r\n    </div>\r\n  </PageContainer>\r\n);\r\n\r\nexport default connect(mapStateToProps)(withStyles(styles)(SaveOverview));\r\n","import * as React from \"react\";\r\nimport { QualityLevelSettingValues } from \"oni-save-parser\";\r\n\r\nimport { createStyles, withStyles, WithStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport useDifficulty from \"@/services/oni-save/hooks/useDifficulty\";\r\nimport { keysOfType } from \"@/utils\";\r\n\r\nconst styles = createStyles({\r\n  table: {\r\n    display: \"grid\",\r\n    gridTemplateColumns: \"minmax(min-content, 200px) auto\"\r\n  }\r\n});\r\n\r\nexport interface DifficultyProps {\r\n  className?: string;\r\n}\r\n\r\ntype Props = DifficultyProps & WithStyles<typeof styles>;\r\n\r\nconst Difficulty: React.FC<Props> = ({ className, classes }) => {\r\n  const { difficulty, onModifyDifficulty } = useDifficulty()\r\n  return (\r\n    <div className={className}>\r\n      <Typography variant=\"h6\">Difficulty</Typography>\r\n      <Divider />\r\n      <div className={classes.table}>\r\n        {keysOfType(difficulty).map(name => (\r\n          <React.Fragment key={name}>\r\n            <Typography>{name}</Typography>\r\n            <Select\r\n              value={difficulty[name]}\r\n              onChange={e =>\r\n                onModifyDifficulty(name, e.target.value as string)\r\n              }\r\n            >\r\n              {QualityLevelSettingValues[name].map(value => (\r\n                <MenuItem key={value} value={value}>\r\n                  {value}\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(Difficulty);\r\n","import * as React from \"react\";\r\nimport { QualityLevelSettingValues } from \"oni-save-parser\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { find } from \"lodash\";\r\n\r\nimport { keysOfType } from \"@/utils\";\r\n\r\nimport { gameSettingsSelector } from \"../selectors/settings\";\r\nimport { modifyDifficulty } from \"../actions/modify-difficulty\";\r\n\r\nexport interface UseDifficulty {\r\n  difficulty: Record<\r\n    keyof typeof QualityLevelSettingValues,\r\n    string\r\n  >;\r\n  onModifyDifficulty(type: keyof typeof QualityLevelSettingValues, value: string): void;\r\n}\r\n\r\nexport default function useDifficulty(): UseDifficulty {\r\n  const dispatch = useDispatch();\r\n  const gameSettings = useSelector(gameSettingsSelector);\r\n\r\n  const difficulty: Record<\r\n    keyof typeof QualityLevelSettingValues,\r\n    string\r\n  > = {} as any;\r\n\r\n  if (gameSettings) {\r\n    for (const setting of keysOfType(QualityLevelSettingValues)) {\r\n      const [_, value] = find(\r\n        gameSettings.CurrentQualityLevelsBySetting,\r\n        x => x[0] === setting\r\n      ) || [null, null];\r\n      if (value) {\r\n        difficulty[setting] = value;\r\n      }\r\n    }\r\n  }\r\n\r\n  const onModifyDifficulty = React.useCallback((type: keyof typeof QualityLevelSettingValues, value: string) => {\r\n    dispatch(modifyDifficulty(type, value));\r\n  }, [dispatch]);\r\n\r\n  return {\r\n    difficulty,\r\n    onModifyDifficulty\r\n  };\r\n}","\r\nimport { saveGameSelector } from \"./save-game\";\r\nimport { createSelector } from \"reselect\";\r\n\r\nexport const gameSettingsSelector = createSelector(\r\n  saveGameSelector,\r\n  saveGame => {\r\n    if (!saveGame) {\r\n      return null;\r\n    }\r\n    return saveGame.gameData.customGameSettings;\r\n  }\r\n);","import { createStructuredSelector, createSelector } from \"reselect\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { saveGameSelector } from \"@/services/oni-save/selectors/save-game\";\r\n\r\nexport interface StateProps {\r\n  saveName: string;\r\n  cycleCount: number;\r\n}\r\n\r\nconst mapDispatchToProps = createStructuredSelector<AppState, StateProps>({\r\n  saveName: createSelector(\r\n    saveGameSelector,\r\n    game => (game && game.header.gameInfo.baseName) || \"\"\r\n  ),\r\n  cycleCount: createSelector(\r\n    saveGameSelector,\r\n    game => (game && game.header.gameInfo.numberOfCycles) || 0\r\n  )\r\n});\r\nexport default mapDispatchToProps;\r\n","import SaveError from \"./component\";\r\nimport connectSaveError from \"./connector\";\r\n\r\nexport default connectSaveError(SaveError);\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nexport interface SaveErrorProps {\r\n  errorMessage: string | null;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing()\r\n    },\r\n    errorMessage: {\r\n      marginTop: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = SaveErrorProps & WithStyles<typeof styles>;\r\nconst SaveError: React.FC<Props> = ({ errorMessage, classes }) => (\r\n  <PageContainer title=\"Failed to Load\">\r\n    <div className={classes.root}>\r\n      <Typography variant=\"h5\">Error loading save</Typography>\r\n      <Divider />\r\n      <Typography className={classes.errorMessage}>{errorMessage}</Typography>\r\n    </div>\r\n  </PageContainer>\r\n);\r\n\r\nexport default withStyles(styles)(SaveError);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\nimport { loadingErrorMessageSelector } from \"@/services/oni-save/selectors/loading-status\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  errorMessage: loadingErrorMessageSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\nimport { loadingStatusSelector } from \"@/services/oni-save/selectors/loading-status\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  loadingStatus: loadingStatusSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import DuplicantsPage from \"./DuplicantsPage\";\r\nexport default DuplicantsPage;\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { createStyles, withStyles, WithStyles } from \"@material-ui/core/styles\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\n\r\nimport DuplicantList from \"./components/DuplicantList\";\r\n\r\nconst styles = createStyles({\r\n  duplicantList: {\r\n    overflow: \"auto\"\r\n  }\r\n});\r\n\r\ntype Props = WithStyles<typeof styles> & WithTranslation;\r\n\r\nconst DuplicantsPage: React.FC<Props> = ({ classes, t }) => (\r\n  <PageContainer title={t(\"duplicant.noun_titlecase_plural\")}>\r\n    <RedirectIfNoSave />\r\n    <DuplicantList className={classes.duplicantList} />\r\n  </PageContainer>\r\n);\r\nexport default withTranslation()(withStyles(styles)(DuplicantsPage));\r\n","import * as React from \"react\";\r\n\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nexport interface RedirectIfNoSaveProps {\r\n  hasSave: boolean;\r\n}\r\n\r\ntype Props = RedirectIfNoSaveProps;\r\nconst RedirectIfNoSave: React.FC<Props> = ({ hasSave }) => {\r\n  if (!hasSave) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return null;\r\n};\r\n\r\nexport default RedirectIfNoSave;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\n\r\nimport { hasSaveSelector } from \"@/services/oni-save/selectors/save-game\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  hasSave: hasSaveSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport useGameObjects from \"@/services/oni-save/hooks/useGameObjects\";\r\n\r\nimport DuplicantListItem from \"./DuplicantListItem\";\r\n\r\nexport interface DuplicantListProps {\r\n  className?: string;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\",\r\n      margin: theme.spacing()\r\n    },\r\n    item: {\r\n      margin: theme.spacing(0.5)\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantListProps & WithStyles<typeof styles>;\r\n\r\nconst DuplicantList: React.FC<Props> = ({ className, classes }) => {\r\n  const gameObjectIds = useGameObjects(\"Minion\");\r\n  return (\r\n    <div className={classnames(className, classes.root)}>\r\n      {gameObjectIds.map(id => (\r\n        <DuplicantListItem\r\n          key={id}\r\n          className={classes.item}\r\n          gameObjectId={id}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(DuplicantList);\r\n","import DuplicantListItem from \"./DuplicantListItem\";\r\nexport default DuplicantListItem;\r\n","import * as React from \"react\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport DuplicantMenu from \"@/components/DuplicantMenu\";\r\nimport DuplicantPortrait from \"@/components/DuplicantPortrait\";\r\n\r\nimport DuplicantName from \"./components/DuplicantName\";\r\n// import DuplicantPortrait from \"./components/DuplicantPortrait\";\r\nimport DuplicantTraits from \"./components/DuplicantTraits\";\r\nimport DuplicantAttributes from \"./components/DuplicantAttributes\";\r\nimport EditButton from \"./components/EditButton\";\r\n\r\nexport interface DuplicantListItemProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: theme.spacing(45),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: theme.spacing(2)\r\n    },\r\n    titleBar: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginBottom: theme.spacing()\r\n    },\r\n    titleControls: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginLeft: \"auto\"\r\n    },\r\n    content: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginTop: theme.spacing()\r\n    },\r\n    portraitColumn: {\r\n      marginRight: theme.spacing(2)\r\n    },\r\n    attributes: {\r\n      marginLeft: \"auto\"\r\n    },\r\n    editButton: {\r\n      marginLeft: \"auto\"\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantListItemProps & WithStyles<typeof styles>;\r\n\r\nconst DuplicantListItem: React.FC<Props> = ({\r\n  className,\r\n  classes,\r\n  gameObjectId\r\n}) => (\r\n  <Paper className={classnames(classes.root, className)}>\r\n    <div className={classes.titleBar}>\r\n      <DuplicantName gameObjectId={gameObjectId} />\r\n      <div className={classes.titleControls}>\r\n        <EditButton\r\n          className={classes.editButton}\r\n          gameObjectId={gameObjectId}\r\n        />\r\n        <DuplicantMenu gameObjectId={gameObjectId} />\r\n      </div>\r\n    </div>\r\n    <Divider />\r\n    <div className={classes.content}>\r\n      <div className={classes.portraitColumn}>\r\n        <DuplicantPortrait gameObjectId={gameObjectId} scale={0.3} />\r\n        <DuplicantTraits gameObjectId={gameObjectId} />\r\n      </div>\r\n      <DuplicantAttributes\r\n        className={classes.attributes}\r\n        gameObjectId={gameObjectId}\r\n      />\r\n    </div>\r\n  </Paper>\r\n);\r\n\r\nexport default withStyles(styles)(DuplicantListItem);\r\n","import DuplicantMenu from \"./component\";\r\nexport default DuplicantMenu;\r\n","import * as React from \"react\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\r\n\r\nimport CopyMenuItem from \"./components/CopyMenuItem\";\r\nimport ImportMenuItem from \"./components/ImportMenuItem\";\r\nimport ExportMenuItem from \"./components/ExportMenuItem\";\r\nimport PasteMenuItem from \"./components/PasteMenuItem\";\r\nimport CloneMenuItem from \"./components/CloneMenuItem\";\r\n\r\nexport interface DuplicantMenuProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = DuplicantMenuProps;\r\nconst DuplicantMenu: React.FC<Props> = ({ gameObjectId }) => {\r\n  const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\r\n\r\n  const onOpen = React.useCallback((e: React.MouseEvent<HTMLElement>) => {\r\n    setAnchorEl(e.currentTarget);\r\n  }, []);\r\n\r\n  const onClose = React.useCallback(() => {\r\n    setAnchorEl(null);\r\n  }, []);\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-owns={anchorEl ? \"duplicant-menu\" : undefined}\r\n        aria-haspopup=\"true\"\r\n        onClick={onOpen}\r\n      >\r\n        <MoreVertIcon />\r\n      </IconButton>\r\n      <Menu\r\n        id=\"duplicant-menu\"\r\n        anchorEl={anchorEl}\r\n        open={Boolean(anchorEl)}\r\n        onClose={onClose}\r\n      >\r\n        <CopyMenuItem gameObjectId={gameObjectId} onClose={onClose} />\r\n        <PasteMenuItem gameObjectId={gameObjectId} onClose={onClose} />\r\n        <Divider />\r\n        <ImportMenuItem gameObjectId={gameObjectId} onClose={onClose} />\r\n        <ExportMenuItem gameObjectId={gameObjectId} onClose={onClose} />\r\n        <Divider />\r\n        <CloneMenuItem gameObjectId={gameObjectId} onClick={onClose} />\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DuplicantMenu;\r\n","import CopyMenuItem from \"./component\";\r\nimport connectCopyMenuItem from \"./connector\";\r\n\r\nexport default connectCopyMenuItem(CopyMenuItem);\r\n","import * as React from \"react\";\r\n\r\nimport { withTranslation, WithTranslation } from \"react-i18next\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { MinionExportableBehaviors } from \"@/exportable-behaviors\";\r\n\r\nimport BehaviorChooserDialog from \"@/components/BehaviorChooserDialog\";\r\n\r\nexport interface CopyMenuItemProps {\r\n  onCopyBehaviors(behaviors: string[]): void;\r\n  onClose(): void;\r\n}\r\n\r\ntype Props = CopyMenuItemProps & WithTranslation;\r\nconst CopyMenuItem: React.FC<Props> = ({ onCopyBehaviors, onClose, t }) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false);\r\n\r\n  const onClick = React.useCallback(() => {\r\n    setDialogOpen(true);\r\n  }, [setDialogOpen]);\r\n\r\n  const onDialogApply = React.useCallback(\r\n    (behaviors: string[]) => {\r\n      onCopyBehaviors(behaviors);\r\n      onClose();\r\n    },\r\n    [onCopyBehaviors, onClose]\r\n  );\r\n\r\n  const copyText = t(\"data.verbs.copy_titlecase\");\r\n\r\n  return (\r\n    <MenuItem onClick={onClick}>\r\n      {copyText}\r\n      <BehaviorChooserDialog\r\n        open={isDialogOpen}\r\n        title={copyText}\r\n        applyText={copyText}\r\n        choices={MinionExportableBehaviors}\r\n        onApply={onDialogApply}\r\n        onCancel={onClose}\r\n      />\r\n    </MenuItem>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(CopyMenuItem);\r\n","import { Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AppState } from \"@/state\";\r\nimport { copyBehaviors } from \"@/services/oni-save/actions/copy-behaviors\";\r\n\r\nexport interface CopyMenuItemInputProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Dispatch,\r\n  props: CopyMenuItemInputProps\r\n) {\r\n  return {\r\n    onCopyBehaviors: (behaviors: string[]) =>\r\n      dispatch(copyBehaviors(props.gameObjectId, behaviors))\r\n  };\r\n};\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport default connect<{}, DispatchProps, CopyMenuItemInputProps, AppState>(\r\n  null,\r\n  mapDispatchToProps\r\n);\r\n","import ImportMenuItem from \"./component\";\r\nimport connectImportMenuItem from \"./connector\";\r\n\r\nexport default connectImportMenuItem(ImportMenuItem);\r\n","import * as React from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport interface ImportMenuItemProps {\r\n  onImportDuplicant(file: File): void;\r\n  onClose(): void;\r\n}\r\n\r\ntype Props = ImportMenuItemProps;\r\nconst ImportMenuItem: React.FC<Props> = ({ onImportDuplicant, onClose }) => {\r\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\r\n\r\n  const onMenuItemClick = React.useCallback(() => {\r\n    if (inputRef.current) {\r\n      inputRef.current.click();\r\n    }\r\n  }, [inputRef]);\r\n\r\n  const onFileChange = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      const files = e.target.files;\r\n      if (!files || files.length === 0) {\r\n        return;\r\n      }\r\n\r\n      const file = files[0];\r\n\r\n      onImportDuplicant(file);\r\n      onClose();\r\n    },\r\n    [onImportDuplicant, onClose]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <MenuItem onClick={onMenuItemClick}>Import</MenuItem>\r\n      <input\r\n        ref={inputRef}\r\n        style={{ display: \"none\" }}\r\n        type=\"file\"\r\n        accept=\".json\"\r\n        onChange={onFileChange}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ImportMenuItem;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { AppState } from \"@/state\";\r\nimport { importBehaviors } from \"@/services/oni-save/actions/import-behaviors\";\r\n\r\nexport interface ImportMenuItemInputProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Function,\r\n  props: ImportMenuItemInputProps\r\n) {\r\n  return {\r\n    onImportDuplicant: (file: File) =>\r\n      dispatch(importBehaviors(props.gameObjectId, file))\r\n  };\r\n};\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport default connect<{}, DispatchProps, ImportMenuItemInputProps, AppState>(\r\n  null,\r\n  mapDispatchToProps\r\n);\r\n","import ExportMenuItem from \"./component\";\r\nimport connectExportMenuItem from \"./connector\";\r\n\r\nexport default connectExportMenuItem(ExportMenuItem);\r\n","import * as React from \"react\";\r\n\r\nimport { withTranslation, WithTranslation } from \"react-i18next\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { MinionExportableBehaviors } from \"@/exportable-behaviors\";\r\n\r\nimport BehaviorChooserDialog from \"@/components/BehaviorChooserDialog\";\r\n\r\nexport interface ExportMenuItemProps {\r\n  onExportBehaviors(behaviors: string[]): void;\r\n  onClose(): void;\r\n}\r\n\r\ntype Props = ExportMenuItemProps & WithTranslation;\r\nconst ExportMenuItem: React.FC<Props> = ({ onExportBehaviors, onClose, t }) => {\r\n  const [isDialogOpen, setDialogOpen] = React.useState(false);\r\n  const onClick = React.useCallback(() => {\r\n    setDialogOpen(true);\r\n  }, [setDialogOpen]);\r\n  const onDialogApply = React.useCallback(\r\n    (behaviors: string[]) => {\r\n      onExportBehaviors(behaviors);\r\n      onClose();\r\n    },\r\n    [onExportBehaviors, onClose]\r\n  );\r\n  const exportText = t(\"data.verbs.export_titlecase\");\r\n  return (\r\n    <MenuItem onClick={onClick}>\r\n      {exportText}\r\n      <BehaviorChooserDialog\r\n        open={isDialogOpen}\r\n        title={exportText}\r\n        applyText={exportText}\r\n        choices={MinionExportableBehaviors}\r\n        onApply={onDialogApply}\r\n        onCancel={onClose}\r\n      />\r\n    </MenuItem>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(ExportMenuItem);\r\n","import { Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AppState } from \"@/state\";\r\nimport { exportBehaviors } from \"@/services/oni-save/actions/export-behaviors\";\r\n\r\nexport interface ExportMenuItemInputProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Dispatch,\r\n  props: ExportMenuItemInputProps\r\n) {\r\n  return {\r\n    onExportBehaviors: (behaviors: string[]) =>\r\n      dispatch(exportBehaviors(props.gameObjectId, behaviors))\r\n  };\r\n};\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport default connect<{}, DispatchProps, ExportMenuItemInputProps, AppState>(\r\n  null,\r\n  mapDispatchToProps\r\n);\r\n","import PasteMenuItem from \"./component\";\r\nimport connectPasteMenuItem from \"./connector\";\r\n\r\nexport default connectPasteMenuItem(PasteMenuItem);\r\n","import * as React from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport interface PasteMenuItemProps {\r\n  gameObjectId: number;\r\n  disabled: boolean;\r\n  onPasteBehaviors(): void;\r\n  onClose(): void;\r\n}\r\n\r\ntype Props = PasteMenuItemProps;\r\n\r\nconst PasteMenuItem: React.FC<Props> = ({\r\n  disabled,\r\n  onPasteBehaviors,\r\n  onClose\r\n}) => {\r\n  const onClick = React.useCallback(() => {\r\n    onClose();\r\n    onPasteBehaviors();\r\n  }, [onClose, onPasteBehaviors]);\r\n  return (\r\n    <MenuItem disabled={disabled} onClick={onClick}>\r\n      Paste\r\n    </MenuItem>\r\n  );\r\n};\r\n\r\nexport default PasteMenuItem;\r\n","import { Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { AppState } from \"@/state\";\r\nimport { pasteBehaviors } from \"@/services/oni-save/actions/paste-behaviors\";\r\nimport { gameObjectTypesByIdSelector } from \"@/services/oni-save/selectors/game-objects\";\r\nimport { copyPasteGameObjectTypeSelect } from \"@/services/oni-save/selectors/copy-paste\";\r\n\r\nexport interface PasteMenuItemInputProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nfunction mapStateToProps(state: AppState, props: PasteMenuItemInputProps) {\r\n  const typesById = gameObjectTypesByIdSelector(state);\r\n  return {\r\n    disabled:\r\n      !typesById[props.gameObjectId] ||\r\n      copyPasteGameObjectTypeSelect(state) !== typesById[props.gameObjectId]\r\n  };\r\n}\r\nexport type StateProps = ReturnType<typeof mapStateToProps>;\r\n\r\nconst mapDispatchToProps = function(\r\n  dispatch: Dispatch,\r\n  props: PasteMenuItemInputProps\r\n) {\r\n  return {\r\n    onPasteBehaviors: () => dispatch(pasteBehaviors(props.gameObjectId))\r\n  };\r\n};\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport default connect<\r\n  StateProps,\r\n  DispatchProps,\r\n  PasteMenuItemInputProps,\r\n  AppState\r\n>(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);\r\n","import { createServiceSelector } from \"./utils\";\r\n\r\nimport { OniSaveState } from \"../state\";\r\n\r\nexport const copyPasteDataSelector = createServiceSelector(\r\n  (state: OniSaveState) => state.copyPasteData\r\n);\r\n\r\nexport const copyPasteGameObjectTypeSelect = createServiceSelector(\r\n  (state: OniSaveState) => {\r\n    if (!state.copyPasteData) {\r\n      return null;\r\n    }\r\n    return state.copyPasteData.gameObjectType;\r\n  }\r\n);\r\n\r\nexport const copyPasteAvailableBehaviorsSelector = createServiceSelector(\r\n  (state: OniSaveState) => {\r\n    if (!state.copyPasteData) {\r\n      return null;\r\n    }\r\n    return Object.keys(state.copyPasteData.behaviors);\r\n  }\r\n);\r\n","import CloneMenuItem from \"./component\";\r\nimport connectCloneMenuItem from \"./connector\";\r\n\r\nexport default connectCloneMenuItem(CloneMenuItem);\r\n","import * as React from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport interface CloneMenuItemProps {\r\n  onCloneDuplicant(): void;\r\n  onClick(): void;\r\n}\r\n\r\ntype Props = CloneMenuItemProps;\r\nconst CloneMenuItem: React.FC<Props> = ({ onCloneDuplicant, onClick }) => {\r\n  const onMenuItemClick = React.useCallback(() => {\r\n    onCloneDuplicant();\r\n    onClick();\r\n  }, []);\r\n  return <MenuItem onClick={onMenuItemClick}>Clone</MenuItem>;\r\n};\r\n\r\nexport default CloneMenuItem;\r\n","import { connect } from \"react-redux\";\r\nimport { Dispatch } from \"redux\";\r\n\r\nimport { AppState } from \"@/state\";\r\nimport { cloneDuplicant } from \"@/services/oni-save/actions/clone-duplicant\";\r\n\r\nexport interface CloneMenuItemInputProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nfunction mapDispatchToProps(\r\n  dispatch: Dispatch,\r\n  props: CloneMenuItemInputProps\r\n) {\r\n  return {\r\n    onCloneDuplicant: () => dispatch(cloneDuplicant(props.gameObjectId))\r\n  };\r\n}\r\ntype DispatchProps = ReturnType<typeof mapDispatchToProps>;\r\n\r\nexport default connect<{}, DispatchProps, CloneMenuItemInputProps, AppState>(\r\n  null,\r\n  mapDispatchToProps\r\n);\r\n","var map = {\n\t\"./hair_001/hair_001_0.png\": 575,\n\t\"./hair_001/hair_001_1.png\": 576,\n\t\"./hair_001/hair_001_2.png\": 577,\n\t\"./hair_002/hair_002_0.png\": 578,\n\t\"./hair_002/hair_002_1.png\": 579,\n\t\"./hair_002/hair_002_2.png\": 580,\n\t\"./hair_003/hair_003_0.png\": 581,\n\t\"./hair_003/hair_003_1.png\": 582,\n\t\"./hair_003/hair_003_2.png\": 583,\n\t\"./hair_004/hair_004_0.png\": 584,\n\t\"./hair_004/hair_004_1.png\": 585,\n\t\"./hair_004/hair_004_2.png\": 586,\n\t\"./hair_005/hair_005_0.png\": 587,\n\t\"./hair_005/hair_005_1.png\": 588,\n\t\"./hair_005/hair_005_2.png\": 589,\n\t\"./hair_006/hair_006_0.png\": 590,\n\t\"./hair_006/hair_006_1.png\": 591,\n\t\"./hair_006/hair_006_2.png\": 592,\n\t\"./hair_007/hair_007_0.png\": 593,\n\t\"./hair_007/hair_007_1.png\": 594,\n\t\"./hair_007/hair_007_2.png\": 595,\n\t\"./hair_008/hair_008_0.png\": 596,\n\t\"./hair_008/hair_008_1.png\": 597,\n\t\"./hair_008/hair_008_2.png\": 598,\n\t\"./hair_009/hair_009_0.png\": 599,\n\t\"./hair_009/hair_009_1.png\": 600,\n\t\"./hair_009/hair_009_2.png\": 601,\n\t\"./hair_010/hair_010_0.png\": 602,\n\t\"./hair_010/hair_010_1.png\": 603,\n\t\"./hair_010/hair_010_2.png\": 604,\n\t\"./hair_011/hair_011_0.png\": 605,\n\t\"./hair_011/hair_011_1.png\": 606,\n\t\"./hair_011/hair_011_2.png\": 607,\n\t\"./hair_012/hair_012_0.png\": 608,\n\t\"./hair_012/hair_012_1.png\": 609,\n\t\"./hair_012/hair_012_2.png\": 610,\n\t\"./hair_013/hair_013_0.png\": 611,\n\t\"./hair_013/hair_013_1.png\": 612,\n\t\"./hair_013/hair_013_2.png\": 613,\n\t\"./hair_014/hair_014_0.png\": 614,\n\t\"./hair_014/hair_014_1.png\": 615,\n\t\"./hair_014/hair_014_2.png\": 616,\n\t\"./hair_015/hair_015_0.png\": 617,\n\t\"./hair_015/hair_015_1.png\": 618,\n\t\"./hair_015/hair_015_2.png\": 619,\n\t\"./hair_016/hair_016_0.png\": 620,\n\t\"./hair_016/hair_016_1.png\": 621,\n\t\"./hair_016/hair_016_2.png\": 622,\n\t\"./hair_017/hair_017_0.png\": 623,\n\t\"./hair_017/hair_017_1.png\": 624,\n\t\"./hair_017/hair_017_2.png\": 625,\n\t\"./hair_018/hair_018_0.png\": 626,\n\t\"./hair_018/hair_018_1.png\": 627,\n\t\"./hair_018/hair_018_2.png\": 628,\n\t\"./hair_019/hair_019_0.png\": 629,\n\t\"./hair_019/hair_019_1.png\": 630,\n\t\"./hair_019/hair_019_2.png\": 631,\n\t\"./hair_020/hair_020_0.png\": 632,\n\t\"./hair_020/hair_020_1.png\": 633,\n\t\"./hair_020/hair_020_2.png\": 634,\n\t\"./hair_021/hair_021_0.png\": 635,\n\t\"./hair_021/hair_021_1.png\": 636,\n\t\"./hair_021/hair_021_2.png\": 637,\n\t\"./hair_022/hair_022_0.png\": 638,\n\t\"./hair_022/hair_022_1.png\": 639,\n\t\"./hair_022/hair_022_2.png\": 640,\n\t\"./hair_023/hair_023_0.png\": 641,\n\t\"./hair_023/hair_023_1.png\": 642,\n\t\"./hair_023/hair_023_2.png\": 643,\n\t\"./hair_024/hair_024_0.png\": 644,\n\t\"./hair_024/hair_024_1.png\": 645,\n\t\"./hair_024/hair_024_2.png\": 646,\n\t\"./hair_025/hair_025_0.png\": 647,\n\t\"./hair_025/hair_025_1.png\": 648,\n\t\"./hair_025/hair_025_2.png\": 649,\n\t\"./hair_026/hair_026_0.png\": 650,\n\t\"./hair_026/hair_026_1.png\": 651,\n\t\"./hair_026/hair_026_2.png\": 652,\n\t\"./hair_027/hair_027_0.png\": 653,\n\t\"./hair_027/hair_027_1.png\": 654,\n\t\"./hair_027/hair_027_2.png\": 655,\n\t\"./hair_028/hair_028_0.png\": 656,\n\t\"./hair_028/hair_028_1.png\": 657,\n\t\"./hair_028/hair_028_2.png\": 658,\n\t\"./hair_029/hair_029_0.png\": 659,\n\t\"./hair_029/hair_029_1.png\": 660,\n\t\"./hair_029/hair_029_2.png\": 661,\n\t\"./hair_030/hair_030_0.png\": 662,\n\t\"./hair_030/hair_030_1.png\": 663,\n\t\"./hair_030/hair_030_2.png\": 664,\n\t\"./hair_031/hair_031_0.png\": 665,\n\t\"./hair_031/hair_031_1.png\": 666,\n\t\"./hair_031/hair_031_2.png\": 667,\n\t\"./hair_032/hair_032_0.png\": 668,\n\t\"./hair_032/hair_032_1.png\": 669,\n\t\"./hair_032/hair_032_2.png\": 670,\n\t\"./hair_033/hair_033_0.png\": 671,\n\t\"./hair_033/hair_033_1.png\": 672,\n\t\"./hair_033/hair_033_2.png\": 673\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 574;","var map = {\n\t\"./headshape_001/headshape_001_0.png\": 675,\n\t\"./headshape_001/headshape_001_1.png\": 676,\n\t\"./headshape_001/headshape_001_2.png\": 677,\n\t\"./headshape_001/headshape_001_3.png\": 678,\n\t\"./headshape_002/headshape_002_0.png\": 679,\n\t\"./headshape_002/headshape_002_1.png\": 680,\n\t\"./headshape_002/headshape_002_2.png\": 681,\n\t\"./headshape_002/headshape_002_3.png\": 682,\n\t\"./headshape_003/headshape_003_0.png\": 683,\n\t\"./headshape_003/headshape_003_1.png\": 684,\n\t\"./headshape_003/headshape_003_2.png\": 685,\n\t\"./headshape_003/headshape_003_3.png\": 686,\n\t\"./headshape_004/headshape_004_0.png\": 687,\n\t\"./headshape_004/headshape_004_1.png\": 688,\n\t\"./headshape_004/headshape_004_2.png\": 689,\n\t\"./headshape_004/headshape_004_3.png\": 690\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 674;","var map = {\n\t\"./eyes_001/eyes_001_0.png\": 692,\n\t\"./eyes_001/eyes_001_1.png\": 693,\n\t\"./eyes_001/eyes_001_10.png\": 694,\n\t\"./eyes_001/eyes_001_11.png\": 695,\n\t\"./eyes_001/eyes_001_12.png\": 696,\n\t\"./eyes_001/eyes_001_13.png\": 697,\n\t\"./eyes_001/eyes_001_14.png\": 698,\n\t\"./eyes_001/eyes_001_15.png\": 699,\n\t\"./eyes_001/eyes_001_16.png\": 700,\n\t\"./eyes_001/eyes_001_17.png\": 701,\n\t\"./eyes_001/eyes_001_18.png\": 702,\n\t\"./eyes_001/eyes_001_19.png\": 703,\n\t\"./eyes_001/eyes_001_2.png\": 704,\n\t\"./eyes_001/eyes_001_20.png\": 705,\n\t\"./eyes_001/eyes_001_21.png\": 706,\n\t\"./eyes_001/eyes_001_22.png\": 707,\n\t\"./eyes_001/eyes_001_23.png\": 708,\n\t\"./eyes_001/eyes_001_24.png\": 709,\n\t\"./eyes_001/eyes_001_25.png\": 710,\n\t\"./eyes_001/eyes_001_26.png\": 711,\n\t\"./eyes_001/eyes_001_29.png\": 712,\n\t\"./eyes_001/eyes_001_3.png\": 713,\n\t\"./eyes_001/eyes_001_30.png\": 714,\n\t\"./eyes_001/eyes_001_31.png\": 715,\n\t\"./eyes_001/eyes_001_32.png\": 716,\n\t\"./eyes_001/eyes_001_33.png\": 717,\n\t\"./eyes_001/eyes_001_34.png\": 718,\n\t\"./eyes_001/eyes_001_35.png\": 719,\n\t\"./eyes_001/eyes_001_36.png\": 720,\n\t\"./eyes_001/eyes_001_37.png\": 721,\n\t\"./eyes_001/eyes_001_38.png\": 722,\n\t\"./eyes_001/eyes_001_39.png\": 723,\n\t\"./eyes_001/eyes_001_4.png\": 724,\n\t\"./eyes_001/eyes_001_5.png\": 725,\n\t\"./eyes_001/eyes_001_6.png\": 726,\n\t\"./eyes_001/eyes_001_7.png\": 727,\n\t\"./eyes_001/eyes_001_8.png\": 728,\n\t\"./eyes_001/eyes_001_9.png\": 729,\n\t\"./eyes_002/eyes_002_0.png\": 730,\n\t\"./eyes_002/eyes_002_1.png\": 731,\n\t\"./eyes_002/eyes_002_10.png\": 732,\n\t\"./eyes_002/eyes_002_11.png\": 733,\n\t\"./eyes_002/eyes_002_12.png\": 734,\n\t\"./eyes_002/eyes_002_13.png\": 735,\n\t\"./eyes_002/eyes_002_14.png\": 736,\n\t\"./eyes_002/eyes_002_15.png\": 737,\n\t\"./eyes_002/eyes_002_16.png\": 738,\n\t\"./eyes_002/eyes_002_17.png\": 739,\n\t\"./eyes_002/eyes_002_18.png\": 740,\n\t\"./eyes_002/eyes_002_19.png\": 741,\n\t\"./eyes_002/eyes_002_2.png\": 742,\n\t\"./eyes_002/eyes_002_20.png\": 743,\n\t\"./eyes_002/eyes_002_21.png\": 744,\n\t\"./eyes_002/eyes_002_22.png\": 745,\n\t\"./eyes_002/eyes_002_23.png\": 746,\n\t\"./eyes_002/eyes_002_24.png\": 747,\n\t\"./eyes_002/eyes_002_25.png\": 748,\n\t\"./eyes_002/eyes_002_26.png\": 749,\n\t\"./eyes_002/eyes_002_29.png\": 750,\n\t\"./eyes_002/eyes_002_3.png\": 751,\n\t\"./eyes_002/eyes_002_30.png\": 752,\n\t\"./eyes_002/eyes_002_31.png\": 753,\n\t\"./eyes_002/eyes_002_32.png\": 754,\n\t\"./eyes_002/eyes_002_33.png\": 755,\n\t\"./eyes_002/eyes_002_34.png\": 756,\n\t\"./eyes_002/eyes_002_35.png\": 757,\n\t\"./eyes_002/eyes_002_36.png\": 758,\n\t\"./eyes_002/eyes_002_37.png\": 759,\n\t\"./eyes_002/eyes_002_38.png\": 760,\n\t\"./eyes_002/eyes_002_39.png\": 761,\n\t\"./eyes_002/eyes_002_4.png\": 762,\n\t\"./eyes_002/eyes_002_5.png\": 763,\n\t\"./eyes_002/eyes_002_6.png\": 764,\n\t\"./eyes_002/eyes_002_7.png\": 765,\n\t\"./eyes_002/eyes_002_8.png\": 766,\n\t\"./eyes_002/eyes_002_9.png\": 767,\n\t\"./eyes_003/eyes_003_0.png\": 768,\n\t\"./eyes_003/eyes_003_1.png\": 769,\n\t\"./eyes_003/eyes_003_10.png\": 770,\n\t\"./eyes_003/eyes_003_11.png\": 771,\n\t\"./eyes_003/eyes_003_12.png\": 772,\n\t\"./eyes_003/eyes_003_13.png\": 773,\n\t\"./eyes_003/eyes_003_14.png\": 774,\n\t\"./eyes_003/eyes_003_15.png\": 775,\n\t\"./eyes_003/eyes_003_16.png\": 776,\n\t\"./eyes_003/eyes_003_17.png\": 777,\n\t\"./eyes_003/eyes_003_18.png\": 778,\n\t\"./eyes_003/eyes_003_19.png\": 779,\n\t\"./eyes_003/eyes_003_2.png\": 780,\n\t\"./eyes_003/eyes_003_20.png\": 781,\n\t\"./eyes_003/eyes_003_21.png\": 782,\n\t\"./eyes_003/eyes_003_22.png\": 783,\n\t\"./eyes_003/eyes_003_23.png\": 784,\n\t\"./eyes_003/eyes_003_24.png\": 785,\n\t\"./eyes_003/eyes_003_25.png\": 786,\n\t\"./eyes_003/eyes_003_26.png\": 787,\n\t\"./eyes_003/eyes_003_29.png\": 788,\n\t\"./eyes_003/eyes_003_3.png\": 789,\n\t\"./eyes_003/eyes_003_30.png\": 790,\n\t\"./eyes_003/eyes_003_31.png\": 791,\n\t\"./eyes_003/eyes_003_32.png\": 792,\n\t\"./eyes_003/eyes_003_33.png\": 793,\n\t\"./eyes_003/eyes_003_34.png\": 794,\n\t\"./eyes_003/eyes_003_35.png\": 795,\n\t\"./eyes_003/eyes_003_36.png\": 796,\n\t\"./eyes_003/eyes_003_37.png\": 797,\n\t\"./eyes_003/eyes_003_38.png\": 798,\n\t\"./eyes_003/eyes_003_39.png\": 799,\n\t\"./eyes_003/eyes_003_4.png\": 800,\n\t\"./eyes_003/eyes_003_5.png\": 801,\n\t\"./eyes_003/eyes_003_6.png\": 802,\n\t\"./eyes_003/eyes_003_7.png\": 803,\n\t\"./eyes_003/eyes_003_8.png\": 804,\n\t\"./eyes_003/eyes_003_9.png\": 805,\n\t\"./eyes_004/eyes_004_0.png\": 806,\n\t\"./eyes_004/eyes_004_1.png\": 807,\n\t\"./eyes_004/eyes_004_10.png\": 808,\n\t\"./eyes_004/eyes_004_11.png\": 809,\n\t\"./eyes_004/eyes_004_12.png\": 810,\n\t\"./eyes_004/eyes_004_13.png\": 811,\n\t\"./eyes_004/eyes_004_14.png\": 812,\n\t\"./eyes_004/eyes_004_15.png\": 813,\n\t\"./eyes_004/eyes_004_16.png\": 814,\n\t\"./eyes_004/eyes_004_17.png\": 815,\n\t\"./eyes_004/eyes_004_18.png\": 816,\n\t\"./eyes_004/eyes_004_19.png\": 817,\n\t\"./eyes_004/eyes_004_2.png\": 818,\n\t\"./eyes_004/eyes_004_20.png\": 819,\n\t\"./eyes_004/eyes_004_21.png\": 820,\n\t\"./eyes_004/eyes_004_22.png\": 821,\n\t\"./eyes_004/eyes_004_23.png\": 822,\n\t\"./eyes_004/eyes_004_24.png\": 823,\n\t\"./eyes_004/eyes_004_25.png\": 824,\n\t\"./eyes_004/eyes_004_26.png\": 825,\n\t\"./eyes_004/eyes_004_29.png\": 826,\n\t\"./eyes_004/eyes_004_3.png\": 827,\n\t\"./eyes_004/eyes_004_30.png\": 828,\n\t\"./eyes_004/eyes_004_31.png\": 829,\n\t\"./eyes_004/eyes_004_32.png\": 830,\n\t\"./eyes_004/eyes_004_33.png\": 831,\n\t\"./eyes_004/eyes_004_34.png\": 832,\n\t\"./eyes_004/eyes_004_35.png\": 833,\n\t\"./eyes_004/eyes_004_36.png\": 834,\n\t\"./eyes_004/eyes_004_37.png\": 835,\n\t\"./eyes_004/eyes_004_38.png\": 836,\n\t\"./eyes_004/eyes_004_39.png\": 837,\n\t\"./eyes_004/eyes_004_4.png\": 838,\n\t\"./eyes_004/eyes_004_5.png\": 839,\n\t\"./eyes_004/eyes_004_6.png\": 840,\n\t\"./eyes_004/eyes_004_7.png\": 841,\n\t\"./eyes_004/eyes_004_8.png\": 842,\n\t\"./eyes_004/eyes_004_9.png\": 843,\n\t\"./eyes_005/eyes_005_0.png\": 844,\n\t\"./eyes_005/eyes_005_1.png\": 845,\n\t\"./eyes_005/eyes_005_10.png\": 846,\n\t\"./eyes_005/eyes_005_11.png\": 847,\n\t\"./eyes_005/eyes_005_12.png\": 848,\n\t\"./eyes_005/eyes_005_13.png\": 849,\n\t\"./eyes_005/eyes_005_14.png\": 850,\n\t\"./eyes_005/eyes_005_15.png\": 851,\n\t\"./eyes_005/eyes_005_16.png\": 852,\n\t\"./eyes_005/eyes_005_17.png\": 853,\n\t\"./eyes_005/eyes_005_18.png\": 854,\n\t\"./eyes_005/eyes_005_19.png\": 855,\n\t\"./eyes_005/eyes_005_2.png\": 856,\n\t\"./eyes_005/eyes_005_20.png\": 857,\n\t\"./eyes_005/eyes_005_21.png\": 858,\n\t\"./eyes_005/eyes_005_22.png\": 859,\n\t\"./eyes_005/eyes_005_23.png\": 860,\n\t\"./eyes_005/eyes_005_24.png\": 861,\n\t\"./eyes_005/eyes_005_25.png\": 862,\n\t\"./eyes_005/eyes_005_26.png\": 863,\n\t\"./eyes_005/eyes_005_29.png\": 864,\n\t\"./eyes_005/eyes_005_3.png\": 865,\n\t\"./eyes_005/eyes_005_30.png\": 866,\n\t\"./eyes_005/eyes_005_31.png\": 867,\n\t\"./eyes_005/eyes_005_32.png\": 868,\n\t\"./eyes_005/eyes_005_33.png\": 869,\n\t\"./eyes_005/eyes_005_34.png\": 870,\n\t\"./eyes_005/eyes_005_35.png\": 871,\n\t\"./eyes_005/eyes_005_36.png\": 872,\n\t\"./eyes_005/eyes_005_37.png\": 873,\n\t\"./eyes_005/eyes_005_38.png\": 874,\n\t\"./eyes_005/eyes_005_39.png\": 875,\n\t\"./eyes_005/eyes_005_4.png\": 876,\n\t\"./eyes_005/eyes_005_5.png\": 877,\n\t\"./eyes_005/eyes_005_6.png\": 878,\n\t\"./eyes_005/eyes_005_7.png\": 879,\n\t\"./eyes_005/eyes_005_8.png\": 880,\n\t\"./eyes_005/eyes_005_9.png\": 881\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 691;","var map = {\n\t\"./body_001/body_001_0.png\": 883,\n\t\"./body_001/body_001_1.png\": 884,\n\t\"./body_001/body_001_10.png\": 885,\n\t\"./body_001/body_001_11.png\": 886,\n\t\"./body_001/body_001_12.png\": 887,\n\t\"./body_001/body_001_2.png\": 888,\n\t\"./body_001/body_001_20.png\": 889,\n\t\"./body_001/body_001_21.png\": 890,\n\t\"./body_001/body_001_22.png\": 891,\n\t\"./body_001/body_001_23.png\": 892,\n\t\"./body_001/body_001_24.png\": 893,\n\t\"./body_001/body_001_3.png\": 894,\n\t\"./body_001/body_001_4.png\": 895,\n\t\"./body_001/body_001_5.png\": 896,\n\t\"./body_002/body_002_0.png\": 897,\n\t\"./body_002/body_002_1.png\": 898,\n\t\"./body_002/body_002_10.png\": 899,\n\t\"./body_002/body_002_11.png\": 900,\n\t\"./body_002/body_002_12.png\": 901,\n\t\"./body_002/body_002_2.png\": 902,\n\t\"./body_002/body_002_20.png\": 903,\n\t\"./body_002/body_002_21.png\": 904,\n\t\"./body_002/body_002_22.png\": 905,\n\t\"./body_002/body_002_23.png\": 906,\n\t\"./body_002/body_002_24.png\": 907,\n\t\"./body_002/body_002_3.png\": 908,\n\t\"./body_002/body_002_4.png\": 909,\n\t\"./body_002/body_002_5.png\": 910,\n\t\"./body_003/body_003_0.png\": 911,\n\t\"./body_003/body_003_1.png\": 912,\n\t\"./body_003/body_003_10.png\": 913,\n\t\"./body_003/body_003_11.png\": 914,\n\t\"./body_003/body_003_12.png\": 915,\n\t\"./body_003/body_003_2.png\": 916,\n\t\"./body_003/body_003_20.png\": 917,\n\t\"./body_003/body_003_21.png\": 918,\n\t\"./body_003/body_003_22.png\": 919,\n\t\"./body_003/body_003_23.png\": 920,\n\t\"./body_003/body_003_24.png\": 921,\n\t\"./body_003/body_003_3.png\": 922,\n\t\"./body_003/body_003_4.png\": 923,\n\t\"./body_003/body_003_5.png\": 924,\n\t\"./body_004/body_004_0.png\": 925,\n\t\"./body_004/body_004_1.png\": 926,\n\t\"./body_004/body_004_10.png\": 927,\n\t\"./body_004/body_004_11.png\": 928,\n\t\"./body_004/body_004_12.png\": 929,\n\t\"./body_004/body_004_2.png\": 930,\n\t\"./body_004/body_004_20.png\": 931,\n\t\"./body_004/body_004_21.png\": 932,\n\t\"./body_004/body_004_22.png\": 933,\n\t\"./body_004/body_004_23.png\": 934,\n\t\"./body_004/body_004_24.png\": 935,\n\t\"./body_004/body_004_3.png\": 936,\n\t\"./body_004/body_004_4.png\": 937,\n\t\"./body_004/body_004_5.png\": 938\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 882;","import * as React from \"react\";\r\nimport { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nexport interface DuplicantNameProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst DuplicantName: React.FC<DuplicantNameProps> = ({ gameObjectId }) => {\r\n  const { templateData: { name } } = useBehavior(gameObjectId, MinionIdentityBehavior);\r\n  return (\r\n    <Typography variant=\"h5\">{name}</Typography>\r\n  );\r\n}\r\nexport default DuplicantName;\r\n","import * as React from \"react\";\r\nimport { AITraitsBehavior } from \"oni-save-parser\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nexport interface DuplicantTraitsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\"\r\n    },\r\n    trait: {\r\n      textAlign: \"center\",\r\n      whiteSpace: \"nowrap\"\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantTraitsProps & WithStyles<typeof styles> & WithTranslation;\r\n\r\nconst DuplicantTraits: React.FC<Props> = ({ classes, gameObjectId, t }) => {\r\n  const { templateData } = useBehavior(gameObjectId, AITraitsBehavior);\r\n  return (\r\n    <div className={classes.root}>\r\n      {(templateData || { TraitIds: [] }).TraitIds.map(trait => (\r\n        <Typography\r\n          key={trait}\r\n          className={classes.trait}\r\n          variant=\"body2\"\r\n          component=\"div\"\r\n          title={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.DESC`, {\r\n            defaultValue: \"\"\r\n          })}\r\n        >\r\n          {t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.NAME`, {\r\n            defaultValue: trait\r\n          })}\r\n        </Typography>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(withTranslation()(DuplicantTraits));\r\n","import DuplicantAttributes from \"./DuplicantAttributes\";\r\nexport default DuplicantAttributes;\r\n","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Attribute from \"./components/Attribute\";\r\n\r\nexport interface DuplicantAttributesProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      flexWrap: \"wrap\",\r\n      width: theme.spacing(30),\r\n      height: theme.spacing(20),\r\n      marginLeft: -theme.spacing(0.5),\r\n      marginRight: -theme.spacing(0.5)\r\n    },\r\n    item: {\r\n      marginLeft: theme.spacing(0.5),\r\n      marginRight: theme.spacing(0.5)\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantAttributesProps & WithStyles<typeof styles>;\r\n\r\nconst DuplicantAttributes: React.FC<Props> = ({\r\n  className,\r\n  classes,\r\n  gameObjectId\r\n}) => (\r\n  <div className={classnames(className, classes.root)}>\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Athletics\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Cooking\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Digging\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Caring\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Ranching\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Machinery\" />\r\n\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Construction\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Art\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Botanist\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Learning\" />\r\n    <Attribute gameObjectId={gameObjectId} attributeId=\"Strength\" />\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(DuplicantAttributes);\r\n","import * as React from \"react\";\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\nimport { find } from \"lodash\";\r\n\r\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ErrorIcon from \"@material-ui/icons/Error\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nexport interface AttributeNameProps {\r\n  gameObjectId: number;\r\n  attributeId: string;\r\n}\r\n\r\ntype Props = AttributeNameProps & WithTranslation;\r\nconst AttributeName: React.FC<Props> = ({ gameObjectId, attributeId, t }) => {\r\n  const { templateData } = useBehavior(gameObjectId, AIAttributeLevelsBehavior);\r\n\r\n  if (!templateData) {\r\n    return <div>Error: No Data</div>;\r\n  }\r\n\r\n  let attribute = find(\r\n    templateData.saveLoadLevels,\r\n    x => x.attributeId === attributeId\r\n  );\r\n\r\n  return (\r\n\r\n    <Typography\r\n      component=\"span\"\r\n      variant=\"body2\"\r\n      title={t(`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.DESC`, {\r\n        defaultValue: \"\"\r\n      })}\r\n    >\r\n      {attribute && signPrefix(attribute.level)}\r\n      {!attribute && <ErrorIcon />}{\" \"}\r\n      <Trans i18nKey={`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.NAME`}>\r\n        {attributeId}\r\n      </Trans>\r\n    </Typography>\r\n  );\r\n}\r\n\r\nexport default withTranslation()(AttributeName);\r\n\r\nfunction signPrefix(x: number): string {\r\n  if (x > 0) {\r\n    return `+${x}`;\r\n  } else if (x < 0) {\r\n    return `-${x}`;\r\n  }\r\n  return String(x);\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport ButtonLink from \"@/components/ButtonLink\";\r\n\r\nexport interface EditButtonProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n}\r\ntype Props = EditButtonProps & WithTranslation;\r\nconst EditButton: React.FC<Props> = ({ className, gameObjectId, t }) => (\r\n  <ButtonLink\r\n    className={className}\r\n    to={`/duplicants/${gameObjectId}`}\r\n    size=\"small\"\r\n    title={t(\"duplicant.verbs.edit_titlecase\")}\r\n  >\r\n    <EditIcon />\r\n  </ButtonLink>\r\n);\r\nexport default withTranslation()(EditButton);\r\n","import * as React from \"react\";\r\n\r\nimport { withRouter, RouteComponentProps } from \"react-router\";\r\n\r\nimport Button, { ButtonProps } from \"@material-ui/core/Button\";\r\n\r\nimport { onLinkClick } from \"./utils\";\r\n\r\nexport interface ButtonLinkProps {\r\n  className?: string;\r\n  size?: ButtonProps[\"size\"];\r\n  title?: string;\r\n  to: string;\r\n  disabled?: boolean;\r\n}\r\n\r\ntype Props = ButtonLinkProps & RouteComponentProps;\r\n\r\nclass ButtonLink extends React.Component<Props> {\r\n  private _onClick = onLinkClick.bind(this);\r\n\r\n  render() {\r\n    const {\r\n      className,\r\n      size,\r\n      title,\r\n      history,\r\n      to,\r\n      disabled,\r\n      children\r\n    } = this.props;\r\n    return (\r\n      <Button\r\n        className={className}\r\n        size={size}\r\n        title={title}\r\n        component=\"a\"\r\n        href={history.createHref({ pathname: to })}\r\n        disabled={disabled}\r\n        onClick={this._onClick}\r\n      >\r\n        {children}\r\n      </Button>\r\n    );\r\n  }\r\n}\r\nexport default withRouter(ButtonLink);\r\n","import DuplicantEditorPage from \"./DuplicantEditorPage\";\r\nexport default DuplicantEditorPage;\r\n","import * as React from \"react\";\r\n\r\nimport { RouteComponentProps } from \"react-router\";\r\n\r\nimport useGameObject from \"@/services/oni-save/hooks/useGameObject\";\r\n\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\n\r\nimport DuplicantEditor from \"./components/DuplicantEditor\";\r\nimport DuplicantNotFound from \"./components/DuplicantNotFound\";\r\n\r\nexport interface DuplicantEditorRouteParams {\r\n  gameObjectId: string;\r\n}\r\n\r\nexport interface DuplicantEditorProps\r\n  extends RouteComponentProps<DuplicantEditorRouteParams> { }\r\n\r\ntype Props = DuplicantEditorProps;\r\nconst DuplicantEditorPage: React.FC<Props> = ({\r\n  match: {\r\n    params: { gameObjectId }\r\n  }\r\n}) => {\r\n  const { gameObjectType } = useGameObject(Number(gameObjectId));\r\n  return (\r\n    <React.Fragment>\r\n      <RedirectIfNoSave />\r\n\r\n      {gameObjectType === \"Minion\" && (\r\n        <DuplicantEditor gameObjectId={Number(gameObjectId)} />\r\n      )}\r\n      {gameObjectType !== \"Minion\" && <DuplicantNotFound />}\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default DuplicantEditorPage;\r\n","import { useSelector } from \"react-redux\";\r\nimport { gameObjectTypesByIdSelector } from \"../selectors/game-objects\";\r\n\r\nexport interface UseGameObject {\r\n  gameObjectType: string;\r\n}\r\nexport default function useGameObject(gameObjectId: number): UseGameObject {\r\n  const typesById = useSelector(gameObjectTypesByIdSelector);\r\n  const gameObjectType = typesById[gameObjectId];\r\n  return {\r\n    gameObjectType\r\n  };;\r\n}\r\n","import DuplicantEditor from \"./DuplicantEditor\";\r\nexport default DuplicantEditor;\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation, Trans } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport DuplicantPortrait from \"@/components/DuplicantPortrait\";\r\n\r\nimport DuplicantName from \"./components/DuplicantName\";\r\nimport Traits from \"./components/Traits\";\r\nimport Aptitudes from \"./components/Interests\";\r\nimport Attributes from \"./components/Attributes\";\r\nimport Appearance from \"./components/Appearance\";\r\nimport Skills from \"./components/Skills\";\r\nimport Effects from \"./components/Effects\";\r\nimport Health from \"./components/Health\";\r\n\r\nexport interface DuplicantEditorProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      paddingLeft: theme.spacing(),\r\n      paddingTop: theme.spacing(),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    divider: {\r\n      marginTop: theme.spacing(),\r\n      marginBottom: theme.spacing()\r\n    },\r\n    nameRow: {\r\n      flexGrow: 0,\r\n      flexShrink: 0\r\n    },\r\n    portraitRow: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginBottom: theme.spacing(),\r\n      flexGrow: 0,\r\n      flexShrink: 0\r\n    },\r\n    portraitRowColumn: {\r\n      marginRight: theme.spacing()\r\n    },\r\n    portraitRowTweakables: {\r\n      width: \"100%\"\r\n    },\r\n    row: {\r\n      marginBottom: theme.spacing(),\r\n      flexGrow: 0,\r\n      flexShrink: 0\r\n    },\r\n    tabRow: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      marginLeft: -theme.spacing(),\r\n      height: \"100%\"\r\n    },\r\n    tabContent: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      overflow: \"auto\"\r\n    }\r\n  });\r\n\r\ntype Props = DuplicantEditorProps & WithTranslation & WithStyles<typeof styles>;\r\n\r\nconst DuplicantEditor: React.FC<Props> = ({ classes, gameObjectId, t }) => {\r\n  const [tab, setTab] = React.useState(0);\r\n  return (\r\n    <PageContainer title={t(\"duplicant.verbs.edit_titlecase\")} back>\r\n      <div className={classes.root}>\r\n        <div className={classes.nameRow}>\r\n          <DuplicantName gameObjectId={gameObjectId} />\r\n        </div>\r\n        <Divider className={classes.divider} />\r\n        <div className={classes.portraitRow}>\r\n          <div className={classes.portraitRowColumn}>\r\n            <Paper>\r\n              <DuplicantPortrait gameObjectId={gameObjectId} scale={0.6} />\r\n            </Paper>\r\n          </div>\r\n          <div className={classes.portraitRowTweakables}>\r\n            <div className={classes.row}>\r\n              <Typography variant=\"h6\">\r\n                <Trans i18nKey=\"duplicant_trait.noun_titlecase\">Traits</Trans>\r\n              </Typography>\r\n              <Divider className={classes.divider} />\r\n              <Traits gameObjectId={gameObjectId} />\r\n            </div>\r\n            <div className={classes.row}>\r\n              <Typography variant=\"h6\">\r\n                <Trans i18nKey=\"duplicant_interest.noun_titlecase\">\r\n                  Interests\r\n                </Trans>\r\n              </Typography>\r\n              <Divider className={classes.divider} />\r\n              <Aptitudes gameObjectId={gameObjectId} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={classes.tabRow}>\r\n          <Paper square>\r\n            <Tabs\r\n              textColor=\"secondary\"\r\n              value={tab}\r\n              onChange={(_, value) => setTab(value)}\r\n            >\r\n              <Tab\r\n                label={t(\"duplicant_attribute.noun_titlecase_plural\", {\r\n                  defaultValue: \"Attributes\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_appearance.noun_titlecase\", {\r\n                  defaultValue: \"Appearance\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_health.noun_titlecase\", {\r\n                  defaultValue: \"Health\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_skills.noun_titlecase_plural\", {\r\n                  defaultValue: \"Skills\"\r\n                })}\r\n              />\r\n              <Tab\r\n                label={t(\"duplicant_effect.noun_titlecase\", {\r\n                  defaultValue: \"Effects\"\r\n                })}\r\n              />\r\n            </Tabs>\r\n          </Paper>\r\n          <div className={classes.tabContent}>\r\n            {tab === 0 && <Attributes gameObjectId={gameObjectId} />}\r\n            {tab === 1 && <Appearance gameObjectId={gameObjectId} />}\r\n            {tab === 2 && <Health gameObjectId={gameObjectId} />}\r\n            {tab === 3 && <Skills gameObjectId={gameObjectId} />}\r\n            {tab === 4 && <Effects gameObjectId={gameObjectId} />}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(DuplicantEditor));\r\n","import * as React from \"react\";\r\nimport { MinionIdentityBehavior } from \"oni-save-parser\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nexport interface DuplicantNameProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst DuplicantName: React.FC<DuplicantNameProps> = ({ gameObjectId }) => {\r\n  const { templateData: { name } } = useBehavior(gameObjectId, MinionIdentityBehavior);\r\n  return (\r\n    <Typography variant=\"h5\">{name}</Typography>\r\n  );\r\n}\r\nexport default DuplicantName;\r\n","import Traits from \"./Traits\";\r\nexport default Traits;\r\n","import * as React from \"react\";\r\nimport { AI_TRAIT_IDS, AITraitsBehavior } from \"oni-save-parser\";\r\nimport { difference } from \"lodash\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nimport AddTraitButton from \"./components/AddTraitButton\";\r\n\r\nconst CANDIDATE_TRAITS = AI_TRAIT_IDS.filter(x => x !== \"None\");\r\n\r\nexport interface TraitsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\"\r\n    },\r\n    chip: {\r\n      margin: theme.spacing(0.5)\r\n    }\r\n  });\r\n\r\ntype Props = TraitsProps & WithStyles<typeof styles> & WithTranslation;\r\n\r\nconst Traits: React.FC<Props> = ({ classes, gameObjectId, t }) => {\r\n  const { templateData, onTemplateDataModify } = useBehavior(gameObjectId, AITraitsBehavior);\r\n  const { TraitIds } = templateData;\r\n  const availableTraits = difference(CANDIDATE_TRAITS, TraitIds);\r\n  return (\r\n    <div className={classes.root}>\r\n      {TraitIds.map((trait, i) => (\r\n        <Chip\r\n          key={trait}\r\n          className={classes.chip}\r\n          label={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.NAME`, {\r\n            defaultValue: trait\r\n          })}\r\n          title={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.DESC`, {\r\n            defaultValue: \"\"\r\n          })}\r\n          onDelete={() => {\r\n            const newTraitIds = [...TraitIds];\r\n            newTraitIds.splice(i, 1);\r\n            onTemplateDataModify({\r\n              TraitIds: newTraitIds\r\n            });\r\n          }}\r\n        />\r\n      ))}\r\n      <AddTraitButton\r\n        className={classes.chip}\r\n        availableTraits={availableTraits}\r\n        onAddTrait={trait =>\r\n          onTemplateDataModify({ TraitIds: [...TraitIds, trait] })\r\n        }\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(Traits));\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation, Trans } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport interface AddTraitButtonProps {\r\n  availableTraits: string[];\r\n  className?: string;\r\n  onAddTrait(trait: string): void;\r\n}\r\n\r\ntype Props = AddTraitButtonProps & WithTranslation;\r\n\r\nconst AddTraitButton: React.FC<Props> = ({\r\n  className,\r\n  availableTraits,\r\n  onAddTrait,\r\n  t\r\n}) => {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n  const chipRef = React.useRef<HTMLDivElement | null>(null);\r\n  return (\r\n    <div className={className}>\r\n      <div ref={chipRef}>\r\n        <Chip\r\n          color=\"primary\"\r\n          label={t(`duplicant_trait.verbs.add_titlecase`)}\r\n          clickable\r\n          onClick={() => setIsOpen(true)}\r\n        />\r\n      </div>\r\n      <Menu\r\n        open={isOpen}\r\n        anchorEl={chipRef.current}\r\n        onClose={() => setIsOpen(false)}\r\n      >\r\n        {isOpen &&\r\n          [...availableTraits].sort().map(trait => (\r\n            <MenuItem\r\n              key={trait}\r\n              value={trait}\r\n              title={t(`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.DESC`, {\r\n                defaultValue: \"\"\r\n              })}\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n                onAddTrait(trait);\r\n              }}\r\n            >\r\n              <Trans\r\n                i18nKey={`oni:DUPLICANTS.TRAITS.${trait.toUpperCase()}.NAME`}\r\n              >\r\n                {trait}\r\n              </Trans>\r\n            </MenuItem>\r\n          ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(AddTraitButton);\r\n","import Interests from \"./Interests\";\r\nexport default Interests;\r\n","import * as React from \"react\";\r\nimport {\r\n  MinionSkillGroupNames,\r\n  MinionResumeBehavior,\r\n  getHashedString,\r\n  HashedString\r\n} from \"oni-save-parser\";\r\nimport { findIndex, find, difference } from \"lodash\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nimport AddAptitudeButton from \"./components/AddAptitudeButton\";\r\n\r\nexport interface InterestsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\"\r\n    },\r\n    chip: {\r\n      margin: theme.spacing(0.5)\r\n    }\r\n  });\r\n\r\ntype Props = InterestsProps & WithStyles<typeof styles> & WithTranslation;\r\n\r\nconst Interests: React.FC<Props> = ({ classes, gameObjectId, t }) => {\r\n  const { templateData: { AptitudeBySkillGroup }, onTemplateDataModify } = useBehavior(gameObjectId, MinionResumeBehavior);\r\n\r\n  const availableAptitudes = MinionSkillGroupNames.filter(\r\n    aptitudeName =>\r\n      aptitudeValue(AptitudeBySkillGroup, aptitudeName) === 0\r\n  );\r\n\r\n  const selectedAptitudes = difference(\r\n    MinionSkillGroupNames,\r\n    availableAptitudes\r\n  );\r\n\r\n  function removeAptitude(aptitudeName: string) {\r\n    const hashStr = getHashedString(aptitudeName);\r\n    const index = findIndex(\r\n      AptitudeBySkillGroup,\r\n      x => x[0].hash === hashStr.hash\r\n    );\r\n    if (index === -1) {\r\n      return;\r\n    }\r\n    onTemplateDataModify({\r\n      AptitudeBySkillGroup: [\r\n        ...AptitudeBySkillGroup.slice(0, index),\r\n        ...AptitudeBySkillGroup.slice(index + 1)\r\n      ]\r\n    });\r\n  }\r\n\r\n  function addAptitude(aptitudeName: string) {\r\n    const hashStr = getHashedString(aptitudeName);\r\n    const index = findIndex(\r\n      AptitudeBySkillGroup,\r\n      x => x[0].hash === hashStr.hash\r\n    );\r\n    if (index === -1) {\r\n      onTemplateDataModify({\r\n        AptitudeBySkillGroup: [...AptitudeBySkillGroup, [hashStr, 1]]\r\n      });\r\n    } else {\r\n      onTemplateDataModify({\r\n        AptitudeBySkillGroup: [\r\n          ...AptitudeBySkillGroup.slice(0, index),\r\n          [hashStr, 1],\r\n          ...AptitudeBySkillGroup.slice(index + 1)\r\n        ]\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      {selectedAptitudes.map((aptitudeName, i) => (\r\n        <Chip\r\n          key={i}\r\n          className={classes.chip}\r\n          label={t(`oni:todo-trans.aptitudes.${aptitudeName}`, {\r\n            defaultValue: aptitudeName\r\n          })}\r\n          onDelete={removeAptitude.bind(null, aptitudeName)}\r\n        />\r\n      ))}\r\n      <AddAptitudeButton\r\n        className={classes.chip}\r\n        availableAptitudes={availableAptitudes}\r\n        onAddAptitude={addAptitude}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(Interests));\r\n\r\nfunction aptitudeValue(\r\n  aptitudes: [HashedString, number][],\r\n  aptitudeName: string\r\n): number {\r\n  const hash = getHashedString(aptitudeName).hash;\r\n  const aptitude = find(aptitudes, x => x[0].hash === hash);\r\n  if (!aptitude) {\r\n    return 0;\r\n  }\r\n  return aptitude[1];\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation, Trans } from \"react-i18next\";\r\n\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nexport interface AddAptitudeButtonProps {\r\n  availableAptitudes: string[];\r\n  className?: string;\r\n  onAddAptitude(aptitude: string): void;\r\n}\r\n\r\ntype Props = AddAptitudeButtonProps & WithTranslation;\r\n\r\nconst AddAptitudeButton: React.FC<Props> = ({\r\n  className,\r\n  availableAptitudes,\r\n  onAddAptitude,\r\n  t\r\n}) => {\r\n  const [isOpen, setIsOpen] = React.useState(false);\r\n  const chipRef = React.useRef<HTMLDivElement | null>(null);\r\n  return (\r\n    <div className={className}>\r\n      <div ref={chipRef}>\r\n        <Chip\r\n          color=\"primary\"\r\n          label={t(`duplicant_interest.verbs.add_titlecase`)}\r\n          clickable\r\n          onClick={() => setIsOpen(true)}\r\n        />\r\n      </div>\r\n      <Menu\r\n        open={isOpen}\r\n        anchorEl={chipRef.current}\r\n        onClose={() => setIsOpen(false)}\r\n      >\r\n        {isOpen &&\r\n          [...availableAptitudes].sort().map(trait => (\r\n            <MenuItem\r\n              key={trait}\r\n              value={trait}\r\n              title={t(`oni:DUPLICANTS.APTITUDES.${trait.toUpperCase()}.DESC`, {\r\n                defaultValue: \"\"\r\n              })}\r\n              onClick={() => {\r\n                setIsOpen(false);\r\n                onAddAptitude(trait);\r\n              }}\r\n            >\r\n              <Trans\r\n                i18nKey={`oni:DUPLICANTS.APTITUDES.${trait.toUpperCase()}.NAME`}\r\n              >\r\n                {trait}\r\n              </Trans>\r\n            </MenuItem>\r\n          ))}\r\n      </Menu>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(AddAptitudeButton);\r\n","import Attributes from \"./Attributes\";\r\nexport default Attributes;\r\n","import * as React from \"react\";\r\nimport { AIAttributeLevelsBehavior, AttributeLevel } from \"oni-save-parser\";\r\nimport { findIndex, merge } from \"lodash\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nimport AttributeName from \"./components/AttributeName\";\r\nimport AttributeField from \"./components/AttributeField\";\r\n\r\nconst PRIMARY_ATTRIBUTES = [\r\n  \"Athletics\",\r\n  \"Cooking\",\r\n  \"Digging\",\r\n  \"Caring\",\r\n  \"Ranching\",\r\n  \"Machinery\",\r\n  \"Construction\",\r\n  \"Art\",\r\n  \"Botanist\",\r\n  \"Learning\",\r\n  \"Strength\"\r\n];\r\n\r\nexport interface AttributesProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    header: {\r\n      marginTop: theme.spacing(),\r\n      marginLeft: theme.spacing()\r\n    },\r\n    divider: {\r\n      marginTop: theme.spacing(),\r\n      marginBottom: theme.spacing()\r\n    },\r\n    attributeList: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      flexWrap: \"wrap\",\r\n      height: theme.spacing(20),\r\n      padding: theme.spacing()\r\n    },\r\n    attributeItem: {\r\n      margin: theme.spacing(0.5),\r\n      display: \"flex\",\r\n      flexDirection: \"row\"\r\n    },\r\n    attributeInput: {\r\n      width: 50,\r\n      marginRight: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = AttributesProps & WithStyles<typeof styles>;\r\n\r\nconst Attributes: React.FC<Props> = ({ classes, gameObjectId }) => {\r\n  const { templateData: { saveLoadLevels } } = useBehavior(gameObjectId, AIAttributeLevelsBehavior);\r\n  return (\r\n    <div className={classes.root}>\r\n      <Typography className={classes.header} variant=\"h6\">\r\n        <Trans i18nKey=\"duplicant_attribute.primary_titlecase\">Primary</Trans>\r\n      </Typography>\r\n      <Divider className={classes.divider} />\r\n      <div className={classes.attributeList}>\r\n        {PRIMARY_ATTRIBUTES.map(attributeId => (\r\n          <div key={attributeId} className={classes.attributeItem}>\r\n            <AttributeField\r\n              className={classes.attributeInput}\r\n              gameObjectId={gameObjectId}\r\n              attributeId={attributeId}\r\n            />\r\n            <AttributeName attributeId={attributeId} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <Typography className={classes.header} variant=\"h6\">\r\n        <Trans i18nKey=\"duplicant_attribute.secondary_titlecase\">\r\n          Secondary\r\n          </Trans>\r\n      </Typography>\r\n      <Divider className={classes.divider} />\r\n      <div className={classes.attributeList}>\r\n        {nonPrimaryAttributeIds(saveLoadLevels).map(attributeId => (\r\n          <div key={attributeId} className={classes.attributeItem}>\r\n            <AttributeField\r\n              className={classes.attributeInput}\r\n              gameObjectId={gameObjectId}\r\n              attributeId={attributeId}\r\n            />\r\n            <AttributeName attributeId={attributeId} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(Attributes);\r\n\r\nfunction nonPrimaryAttributeIds(attributes: AttributeLevel[]): string[] {\r\n  return attributes\r\n    .map(x => x.attributeId)\r\n    .filter(x => PRIMARY_ATTRIBUTES.indexOf(x) === -1);\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport interface AttributeNameProps {\r\n  attributeId: string;\r\n}\r\n\r\ntype Props = AttributeNameProps & WithTranslation;\r\nconst AttributeName: React.FC<Props> = ({ attributeId, t }) => (\r\n  <Typography\r\n    component=\"span\"\r\n    variant=\"body1\"\r\n    title={t(`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.DESC`, {\r\n      defaultValue: \"\"\r\n    })}\r\n  >\r\n    {t(`oni:DUPLICANTS.ATTRIBUTES.${attributeId}.NAME`, {\r\n      defaultValue: attributeId\r\n    })}\r\n  </Typography>\r\n);\r\n\r\nexport default withTranslation()(AttributeName);\r\n","import * as React from \"react\";\r\nimport { AIAttributeLevelsBehavior } from \"oni-save-parser\";\r\nimport { findIndex } from \"lodash\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nimport CommitTextField from \"@/components/CommitTextField\";\r\n\r\nexport interface AttributeFieldProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n  attributeId: string;\r\n}\r\n\r\ntype Props = AttributeFieldProps;\r\nconst AttributeField: React.FC<Props> = ({\r\n  className,\r\n  gameObjectId,\r\n  attributeId\r\n}) => {\r\n  const { templateData: { saveLoadLevels }, onTemplateDataModify } = useBehavior(gameObjectId, AIAttributeLevelsBehavior);\r\n\r\n  const attrIndex = findIndex(\r\n    saveLoadLevels,\r\n    x => x.attributeId === attributeId\r\n  );\r\n\r\n  if (attrIndex === -1) {\r\n    return <Typography>Attribute Not Found</Typography>;\r\n  }\r\n\r\n  const attr = saveLoadLevels[attrIndex];\r\n  const { level } = attr;\r\n\r\n  return (\r\n    <CommitTextField\r\n      className={className}\r\n      type=\"number\"\r\n      value={level}\r\n      onCommit={value => {\r\n        const newLevels = [...saveLoadLevels];\r\n        newLevels[attrIndex] = { ...attr, level: Number(value) };\r\n        onTemplateDataModify({\r\n          saveLoadLevels: newLevels\r\n        });\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default AttributeField;\r\n","import * as React from \"react\";\r\n\r\nimport TextField, { TextFieldProps } from \"@material-ui/core/TextField\";\r\n\r\nexport type CommitTextFieldProps = TextFieldProps & {\r\n  onCommit?(value: string): void;\r\n};\r\n\r\ninterface State {\r\n  value: string | null;\r\n}\r\nclass CommitTextField extends React.Component<CommitTextFieldProps, State> {\r\n  constructor(props: CommitTextFieldProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      value: null\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const {\r\n      onCommit,\r\n      onChange,\r\n      onBlur,\r\n      onKeyPress,\r\n      value: prevValue,\r\n      ...props\r\n    } = this.props;\r\n    const { value: editValue } = this.state;\r\n    const displayValue = (editValue == null) ? prevValue : editValue;\r\n    return (\r\n      <TextField\r\n        {...props}\r\n        value={displayValue}\r\n        onChange={this._onChange}\r\n        onBlur={this._onBlur}\r\n        onKeyPress={this._onKeyPress}\r\n      />\r\n    );\r\n  }\r\n\r\n  private _onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const { onChange } = this.props;\r\n    if (onChange) {\r\n      onChange(e);\r\n    }\r\n\r\n    this.setState({ value: e.target.value });\r\n  };\r\n\r\n  private _onKeyPress = (e: React.KeyboardEvent<HTMLDivElement>) => {\r\n    const { onKeyPress } = this.props;\r\n    if (onKeyPress) {\r\n      onKeyPress(e);\r\n    }\r\n\r\n    if (e.key === \"Enter\") {\r\n      this._commit();\r\n    }\r\n  };\r\n\r\n  private _onBlur = (e: React.FocusEvent<HTMLInputElement>) => {\r\n    const { onBlur } = this.props;\r\n    if (onBlur) {\r\n      onBlur(e);\r\n    }\r\n\r\n    this._commit();\r\n  };\r\n\r\n  private _commit() {\r\n    const { value: prevValue, onCommit } = this.props;\r\n    const { value } = this.state;\r\n    if (onCommit && value && value !== prevValue) {\r\n      onCommit(value);\r\n    }\r\n\r\n    this.setState({\r\n      value: null\r\n    });\r\n  }\r\n}\r\n\r\nexport default CommitTextField;\r\n","import Appearance from \"./Appearance\";\r\nexport default Appearance;\r\n","import * as React from \"react\";\r\nimport {\r\n  AccessorizerBehavior,\r\n  getAccessoryOfType,\r\n  Accessory,\r\n  AccessoryType,\r\n  getAccessoryName,\r\n  getIndexOfAccessoryType\r\n} from \"oni-save-parser\";\r\nimport { merge, padStart } from \"lodash\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nimport HeadPortrait from \"./components/HeadPortrait\";\r\nimport Portrait from \"./components/Portrait\";\r\n\r\nexport interface AppearanceProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    tabContent: {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      overflow: \"auto\"\r\n    },\r\n    partList: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\"\r\n    },\r\n    partContainer: {\r\n      margin: theme.spacing(0.5)\r\n    },\r\n    part: {\r\n      cursor: \"pointer\"\r\n    }\r\n  });\r\n\r\ntype Props = AppearanceProps & WithStyles<typeof styles>;\r\n\r\nconst Appearance: React.FC<Props> = ({ classes, gameObjectId }) => {\r\n  const [tab, setTab] = React.useState(0);\r\n  const { templateData: { accessories }, onTemplateDataModify } = useBehavior(gameObjectId, AccessorizerBehavior);\r\n\r\n  const hairOrdinal = getOrdinalOfType(accessories, \"hair\");\r\n  const headOrdinal = getOrdinalOfType(accessories, \"headshape\");\r\n  const eyesOrdinal = getOrdinalOfType(accessories, \"eyes\");\r\n\r\n  function setAccessory(type: AccessoryType, ordinal: number) {\r\n    const index = getIndexOfAccessoryType(accessories, type);\r\n    if (index === -1) {\r\n      return;\r\n    }\r\n    const accessoryMod: Record<number, Accessory> = {\r\n      [index]: Accessory(`${type}_${padStart(String(ordinal), 3, \"0\")}`)\r\n    };\r\n    if (type === \"hair\") {\r\n      const hatHair = getIndexOfAccessoryType(accessories, \"hat_hair\");\r\n      if (hatHair !== -1) {\r\n        accessoryMod[hatHair] = Accessory(\r\n          `hat_hair_${padStart(String(ordinal), 3, \"0\")}`\r\n        );\r\n      }\r\n      const hairAlways = getIndexOfAccessoryType(\r\n        accessories,\r\n        \"hair_always\"\r\n      );\r\n      if (hairAlways !== -1) {\r\n        accessoryMod[hairAlways] = Accessory(\r\n          `hair_always_${padStart(String(ordinal), 3, \"0\")}`\r\n        );\r\n      }\r\n    }\r\n    if (type === \"body\") {\r\n      const arm = getIndexOfAccessoryType(accessories, \"arm\");\r\n      accessoryMod[arm] = Accessory(\r\n        `arm_${padStart(String(ordinal), 3, \"0\")}`\r\n      );\r\n    }\r\n    onTemplateDataModify({\r\n      accessories: merge([], accessories, accessoryMod)\r\n    });\r\n  }\r\n\r\n  function makeSetAccessory(type: AccessoryType, ordinal: number) {\r\n    return (e: React.MouseEvent<HTMLDivElement>) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      setAccessory(type, ordinal);\r\n    };\r\n  }\r\n\r\n  return (\r\n\r\n    <div className={classes.root}>\r\n      <Paper square>\r\n        <Tabs\r\n          textColor=\"secondary\"\r\n          value={tab}\r\n          onChange={(_, value) => setTab(value)}\r\n        >\r\n          <Tab label=\"Hair\" />\r\n          <Tab label=\"Head\" />\r\n          <Tab label=\"Eyes\" />\r\n          <Tab label=\"Body\" />\r\n        </Tabs>\r\n      </Paper>\r\n      <div className={classes.tabContent}>\r\n        {tab === 0 && (\r\n          <div className={classes.partList}>\r\n            {ordinalRange(33).map(ordinal => (\r\n              <HeadPortrait\r\n                key={ordinal}\r\n                className={classes.partContainer}\r\n                hairOrdinal={ordinal}\r\n                headOrdinal={headOrdinal}\r\n                eyesOrdinal={eyesOrdinal}\r\n                clickable\r\n                onClick={makeSetAccessory(\"hair\", ordinal)}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n        {tab === 1 && (\r\n          <div className={classes.partList}>\r\n            {ordinalRange(4).map(ordinal => (\r\n              <HeadPortrait\r\n                key={ordinal}\r\n                className={classes.partContainer}\r\n                hairOrdinal={hairOrdinal}\r\n                headOrdinal={ordinal}\r\n                eyesOrdinal={eyesOrdinal}\r\n                clickable\r\n                onClick={makeSetAccessory(\"headshape\", ordinal)}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n        {tab === 2 && (\r\n          <div className={classes.partList}>\r\n            {ordinalRange(5).map(ordinal => (\r\n              <HeadPortrait\r\n                key={ordinal}\r\n                className={classes.partContainer}\r\n                hairOrdinal={hairOrdinal}\r\n                headOrdinal={headOrdinal}\r\n                eyesOrdinal={ordinal}\r\n                clickable\r\n                onClick={makeSetAccessory(\"eyes\", ordinal)}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n        {tab === 3 && (\r\n          <div className={classes.partList}>\r\n            {ordinalRange(4).map(ordinal => (\r\n              <Portrait\r\n                key={ordinal}\r\n                className={classes.partContainer}\r\n                hairOrdinal={hairOrdinal}\r\n                headOrdinal={headOrdinal}\r\n                eyesOrdinal={eyesOrdinal}\r\n                bodyOrdinal={ordinal}\r\n                clickable\r\n                onClick={makeSetAccessory(\"body\", ordinal)}\r\n              />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default withStyles(styles)(Appearance);\r\n\r\nfunction getOrdinalOfType(\r\n  accessories: Accessory[],\r\n  type: AccessoryType\r\n): number {\r\n  const accessory = getAccessoryOfType(accessories, type);\r\n  if (accessory == null) {\r\n    return 1;\r\n  }\r\n\r\n  return ordinalFromAccessory(accessory.guid.Guid);\r\n}\r\n\r\nfunction ordinalFromAccessory(guid: string) {\r\n  const name = getAccessoryName(guid);\r\n  if (!name) {\r\n    return 1;\r\n  }\r\n  const parts = name.split(\"_\");\r\n  return Number(parts[parts.length - 1]);\r\n}\r\n\r\nfunction ordinalRange(length: number): number[] {\r\n  return Array.from({ length }, (_, i) => i + 1);\r\n}\r\n","import * as React from \"react\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nimport { DuplicantContainer, Hair, Head, Eyes } from \"react-oni-duplicant\";\r\n\r\nimport { createStyles, withStyles, WithStyles } from \"@material-ui/core/styles\";\r\n\r\nexport interface HeadPortraitProps {\r\n  className?: string;\r\n  clickable?: boolean;\r\n  hairOrdinal: number;\r\n  headOrdinal: number;\r\n  eyesOrdinal: number;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst styles = createStyles({\r\n  portraitContainer: {\r\n    position: \"relative\",\r\n    width: 110,\r\n    height: 100\r\n  },\r\n  portrait: {\r\n    position: \"absolute\",\r\n    top: 85,\r\n    left: 56,\r\n    width: 250,\r\n    height: 250,\r\n    transform: \"scale(.4)\",\r\n    transformOrigin: \"top left\"\r\n  },\r\n  clickable: {\r\n    cursor: \"pointer\"\r\n  }\r\n});\r\n\r\ntype Props = HeadPortraitProps & WithStyles<typeof styles>;\r\n\r\nconst HeadPortrait: React.FC<Props> = ({\r\n  className,\r\n  classes,\r\n  hairOrdinal,\r\n  headOrdinal,\r\n  eyesOrdinal,\r\n  clickable,\r\n  onClick\r\n}) => (\r\n  <div\r\n    className={classnames(className, classes.portraitContainer)}\r\n    onClick={onClick}\r\n  >\r\n    <div className={classes.portrait}>\r\n      <DuplicantContainer>\r\n        <Head\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={headOrdinal}\r\n        />\r\n        <Eyes\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={eyesOrdinal}\r\n        />\r\n        <Hair\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={hairOrdinal}\r\n        />\r\n      </DuplicantContainer>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(HeadPortrait);\r\n","import * as React from \"react\";\r\n\r\nimport classnames from \"classnames\";\r\n\r\nimport {\r\n  DuplicantContainer,\r\n  Hair,\r\n  Head,\r\n  Eyes,\r\n  Body\r\n} from \"react-oni-duplicant\";\r\n\r\nimport { createStyles, withStyles, WithStyles } from \"@material-ui/core/styles\";\r\n\r\nexport interface PortraitProps {\r\n  className?: string;\r\n  clickable?: boolean;\r\n  hairOrdinal: number;\r\n  headOrdinal: number;\r\n  eyesOrdinal: number;\r\n  bodyOrdinal: number;\r\n  onClick?(e: React.MouseEvent<HTMLDivElement>): void;\r\n}\r\n\r\nconst styles = createStyles({\r\n  portraitContainer: {\r\n    position: \"relative\",\r\n    width: 110,\r\n    height: 140\r\n  },\r\n  portrait: {\r\n    position: \"absolute\",\r\n    top: 85,\r\n    left: 56,\r\n    width: 250,\r\n    height: 250,\r\n    transform: \"scale(.4)\",\r\n    transformOrigin: \"top left\"\r\n  },\r\n  clickable: {\r\n    cursor: \"pointer\"\r\n  }\r\n});\r\n\r\ntype Props = PortraitProps & WithStyles<typeof styles>;\r\n\r\nconst Portrait: React.FC<Props> = ({\r\n  className,\r\n  classes,\r\n  hairOrdinal,\r\n  headOrdinal,\r\n  eyesOrdinal,\r\n  bodyOrdinal,\r\n  clickable,\r\n  onClick\r\n}) => (\r\n  <div\r\n    className={classnames(className, classes.portraitContainer)}\r\n    onClick={onClick}\r\n  >\r\n    <div className={classes.portrait}>\r\n      <DuplicantContainer>\r\n        <Body\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={bodyOrdinal}\r\n        />\r\n        <Head\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={headOrdinal}\r\n        />\r\n        <Eyes\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={eyesOrdinal}\r\n        />\r\n        <Hair\r\n          className={classnames(clickable && classes.clickable)}\r\n          ordinal={hairOrdinal}\r\n        />\r\n      </DuplicantContainer>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Portrait);\r\n","import Skills from \"./Skills\";\r\nexport default Skills;\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Experience from \"./components/Experience\";\r\nimport Masteries from \"./components/Masteries\";\r\n\r\nexport interface SkillsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = SkillsProps & WithStyles<typeof styles>;\r\n\r\nconst Skills: React.FC<Props> = ({ gameObjectId, classes }) => (\r\n  <div className={classes.root}>\r\n    <Experience gameObjectId={gameObjectId} />\r\n    <Masteries gameObjectId={gameObjectId} />\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Skills);\r\n","import Experience from \"./component\";\r\nimport connectExperience from \"./connector\";\r\nexport default connectExperience(Experience);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nexport interface ExperienceProps {\r\n  experience: number;\r\n  setExperience(experience: number): void;\r\n}\r\n\r\nconst Experience: React.FC<ExperienceProps> = ({\r\n  experience,\r\n  setExperience\r\n}) => {\r\n  const onSetExperience = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setExperience(Number(e.target.value));\r\n    },\r\n    [setExperience]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Typography>\r\n        <Trans i18nKey=\"duplicant_skills.experience_titlecase\">\r\n          Experience\r\n        </Trans>\r\n      </Typography>\r\n      <TextField type=\"number\" value={experience} onChange={onSetExperience} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Experience;\r\n","import { MinionResumeBehavior } from \"oni-save-parser\";\r\nimport { createSelector } from \"reselect\";\r\nimport { Dispatch } from \"redux\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\nimport { getBehaviorSelector } from \"@/services/oni-save/selectors/behaviors\";\r\nimport { modifyBehaviorPath } from \"@/services/oni-save/actions/modify-behavior-path\";\r\n\r\nexport interface ExperienceConnectorProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst experienceSelector = createSelector(\r\n  getBehaviorSelector(MinionResumeBehavior),\r\n  resume => {\r\n    if (!resume) {\r\n      return 0;\r\n    }\r\n    return resume.templateData.totalExperienceGained;\r\n  }\r\n);\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  experience: experienceSelector\r\n});\r\n\r\nfunction mapDispatchToProps(\r\n  dispatch: Dispatch,\r\n  ownProps: ExperienceConnectorProps\r\n) {\r\n  const { gameObjectId } = ownProps;\r\n  return {\r\n    setExperience(experience: number) {\r\n      if (experience < 0) {\r\n        experience = 0;\r\n      }\r\n\r\n      const action = modifyBehaviorPath(\r\n        gameObjectId,\r\n        MinionResumeBehavior,\r\n        [\"templateData\", \"totalExperienceGained\"],\r\n        experience\r\n      );\r\n\r\n      dispatch(action);\r\n    }\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);\r\n","import createCachedSelector, { ParametricSelector } from \"re-reselect\";\r\nimport { has } from \"lodash\";\r\nimport { getBehavior, GameObjectBehavior, BehaviorName } from \"oni-save-parser\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { gameObjectsByIdSelector } from \"./game-objects\";\r\n\r\nexport interface BehaviorSelectorProps {\r\n  gameObjectId: number;\r\n}\r\nconst gameObjectIdSelector = (_: any, props: BehaviorSelectorProps) =>\r\n  props.gameObjectId;\r\nconst behaviorSelectorCache: Record<\r\n  string,\r\n  ParametricSelector<AppState, BehaviorSelectorProps, any>\r\n> = {};\r\nexport function getBehaviorSelector<T extends GameObjectBehavior>(\r\n  behaviorName: BehaviorName<T>\r\n): ParametricSelector<AppState, BehaviorSelectorProps, T | null> {\r\n  if (!has(behaviorSelectorCache, behaviorName)) {\r\n    behaviorSelectorCache[behaviorName] = createCachedSelector(\r\n      gameObjectsByIdSelector,\r\n      gameObjectIdSelector,\r\n      (gameObjectsById, gameObjectId) => {\r\n        const gameObject = gameObjectsById[gameObjectId];\r\n        if (!gameObject) {\r\n          return null;\r\n        }\r\n\r\n        return getBehavior(gameObject, behaviorName);\r\n      }\r\n    )(gameObjectIdSelector);\r\n  }\r\n\r\n  return behaviorSelectorCache[behaviorName];\r\n}\r\n","import * as React from \"react\";\r\nimport { MinionResumeBehavior, MinionSkillNames } from \"oni-save-parser\";\r\nimport { find, findIndex } from \"lodash\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nexport interface MasteriesProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = MasteriesProps;\r\nconst Masteries: React.FC<Props> = ({ gameObjectId }) => {\r\n  const { templateData: { MasteryBySkillID }, onTemplateDataModify } = useBehavior(gameObjectId, MinionResumeBehavior);\r\n\r\n  function onChangeMastery(skillName: string, value: boolean) {\r\n    const index = findIndex(MasteryBySkillID, x => x[0] === skillName);\r\n    if (value) {\r\n      if (index !== -1) {\r\n        onTemplateDataModify({\r\n          MasteryBySkillID: [\r\n            ...MasteryBySkillID.slice(0, index),\r\n            [skillName, true],\r\n            ...MasteryBySkillID.slice(index + 1)\r\n          ]\r\n        });\r\n      } else {\r\n        onTemplateDataModify({\r\n          MasteryBySkillID: [...MasteryBySkillID, [skillName, true]]\r\n        });\r\n      }\r\n    } else if (index !== -1) {\r\n      onTemplateDataModify({\r\n        MasteryBySkillID: [\r\n          ...MasteryBySkillID.slice(0, index),\r\n          ...MasteryBySkillID.slice(index + 1)\r\n        ]\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Table>\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell>\r\n            <Trans i18nKey=\"duplicant_skills.noun_titlecase\">Skill</Trans>\r\n          </TableCell>\r\n          <TableCell>\r\n            <Trans i18nKey=\"duplicant_skills.mastery_titlecase\">\r\n              Mastery\r\n                </Trans>\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {MinionSkillNames.map(skillName => (\r\n          <TableRow key={skillName}>\r\n            <TableCell>{skillName}</TableCell>\r\n            <TableCell>\r\n              <Checkbox\r\n                checked={getMastery(MasteryBySkillID, skillName)}\r\n                onChange={(_, value) => onChangeMastery(skillName, value)}\r\n              />\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </Table>\r\n  );\r\n}\r\nexport default Masteries;\r\n\r\nfunction getMastery(masteries: [string, boolean][], mastery: string): boolean {\r\n  const entry = find(masteries, x => x[0] === mastery);\r\n  if (!entry) {\r\n    return false;\r\n  }\r\n  return entry[1];\r\n}\r\n","import Effects from \"./Effects\";\r\nexport default Effects;\r\n","import * as React from \"react\";\r\nimport { AIEffectsBehavior } from \"oni-save-parser\";\r\nimport { merge } from \"lodash\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nimport CommitTextField from \"@/components/CommitTextField\";\r\n\r\nimport AddEffectButton from \"./components/AddEffectButton\";\r\n\r\nexport interface EffectsProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = EffectsProps;\r\nconst Effects: React.FC<Props> = ({ gameObjectId }) => {\r\n  const { templateData, onTemplateDataModify } = useBehavior(gameObjectId, AIEffectsBehavior);\r\n  return (\r\n    <Table>\r\n      <TableHead>\r\n        <TableRow>\r\n          <TableCell>\r\n            <Trans i18nKey=\"duplicant_effect.noun_titlecase\">Effect</Trans>\r\n          </TableCell>\r\n          <TableCell align=\"right\">\r\n            <Trans i18nKey=\"time_cycles.noun_titlecase\">\r\n              Time (cycles)\r\n                </Trans>\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {templateData.saveLoadEffects.map(({ id, timeRemaining }, i) => (\r\n          <TableRow key={id}>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              <Trans i18nKey={`oni:todo-trans.effects.${id}`}>{id}</Trans>\r\n            </TableCell>\r\n            <TableCell align=\"right\">\r\n              <CommitTextField\r\n                type=\"number\"\r\n                value={timeRemaining / 200}\r\n                onCommit={value =>\r\n                  onTemplateDataModify({\r\n                    saveLoadEffects: merge(\r\n                      [],\r\n                      templateData.saveLoadEffects,\r\n                      {\r\n                        [i]: { id, timeRemaining: Number(value) * 200 }\r\n                      }\r\n                    )\r\n                  })\r\n                }\r\n              />\r\n            </TableCell>\r\n          </TableRow>\r\n        ))}\r\n        <TableRow>\r\n          <TableCell colSpan={2} align=\"right\">\r\n            <AddEffectButton gameObjectId={gameObjectId} />\r\n          </TableCell>\r\n        </TableRow>\r\n      </TableBody>\r\n    </Table>\r\n  );\r\n};\r\n\r\nexport default Effects;\r\n","import * as React from \"react\";\r\nimport { AI_EFFECT_IDS, AIEffectsBehavior } from \"oni-save-parser\";\r\nimport { difference } from \"lodash\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nimport AddEffectDialog from \"./AddEffectDialog\";\r\n\r\nexport interface AddEffectButtonProps {\r\n  gameObjectId: number;\r\n}\r\n\r\ntype Props = AddEffectButtonProps;\r\nconst AddEffectButton: React.FC<Props> = ({ gameObjectId }) => {\r\n  const [isAddingEffect, setIsAddingEffect] = React.useState(false);\r\n  const { templateData, onTemplateDataModify } = useBehavior(gameObjectId, AIEffectsBehavior);\r\n\r\n  const currentEffects = templateData.saveLoadEffects.map(x => x.id);\r\n  const availableEffects = difference(AI_EFFECT_IDS, currentEffects);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Button color=\"primary\" onClick={() => setIsAddingEffect(true)}>\r\n        <Trans i18nKey=\"duplicant_effects.verbs.add_titlecase\">\r\n          Add Effect\r\n              </Trans>\r\n      </Button>\r\n      <AddEffectDialog\r\n        open={isAddingEffect}\r\n        availableEffects={availableEffects}\r\n        onClose={() => setIsAddingEffect(false)}\r\n        onAddEffect={(id, timeRemaining) => {\r\n          setIsAddingEffect(false);\r\n          onTemplateDataModify({\r\n            saveLoadEffects: [\r\n              ...templateData.saveLoadEffects,\r\n              { id, timeRemaining }\r\n            ]\r\n          });\r\n        }}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default AddEffectButton;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans, WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n\r\nexport interface AddEffectDialogProps {\r\n  open: boolean;\r\n  availableEffects: string[];\r\n  onClose(): void;\r\n  onAddEffect(effect: string, time: number): void;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    cycleTime: {\r\n      marginTop: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = AddEffectDialogProps & WithTranslation & WithStyles<typeof styles>;\r\n\r\nconst AddEffectDialog: React.FC<Props> = ({\r\n  classes,\r\n  open,\r\n  availableEffects,\r\n  onClose,\r\n  onAddEffect,\r\n  t\r\n}) => {\r\n  const [selectedEffect, setSelectedEffect] = React.useState(\"\");\r\n  const [timeRemaining, setTimeRemaining] = React.useState(5);\r\n  return (\r\n    <Dialog open={open} aria-labelledby=\"form-dialog-title\">\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        <Trans i18nKey=\"duplicant_effects.verbs.add_titlecase\">\r\n          Add Effect\r\n        </Trans>\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <FormGroup>\r\n          <FormControl>\r\n            <InputLabel htmlFor=\"duplicant-effect\">\r\n              <Trans i18nKey=\"duplicant_effect.noun_titlecase\">Effect</Trans>\r\n            </InputLabel>\r\n            <Select\r\n              value={selectedEffect}\r\n              onChange={e => setSelectedEffect(e.target.value as string)}\r\n              inputProps={{ id: \"duplicant-effect\" }}\r\n            >\r\n              {availableEffects.map(effect => (\r\n                <MenuItem key={effect} value={effect}>\r\n                  <Trans i18nKey={`oni:todo-trans.effects.${effect}`}>\r\n                    {effect}\r\n                  </Trans>\r\n                </MenuItem>\r\n              ))}\r\n            </Select>\r\n          </FormControl>\r\n          <TextField\r\n            className={classes.cycleTime}\r\n            label={t(\"time_cycles.noun_titlecase\")}\r\n            type=\"number\"\r\n            value={timeRemaining}\r\n            onChange={e => setTimeRemaining(Number(e.target.value))}\r\n          />\r\n        </FormGroup>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => onClose()}>\r\n          <Trans i18nKey=\"dialog.verbs.cancel_titlecase\">Cancel</Trans>\r\n        </Button>\r\n        <Button\r\n          disabled={selectedEffect === \"\" || timeRemaining <= 0}\r\n          onClick={() => {\r\n            setSelectedEffect(\"\");\r\n            onAddEffect(selectedEffect, timeRemaining * 200);\r\n          }}\r\n        >\r\n          <Trans i18nKey=\"duplicant_effects.verbs.add_titlecase\">\r\n            Add Effect\r\n          </Trans>\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(AddEffectDialog));\r\n","import Health from \"./Health\";\r\nexport default Health;\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport Value from \"./components/Value\";\r\n\r\nexport interface HealthProps {\r\n  gameObjectId: number;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    header: {\r\n      marginTop: theme.spacing(),\r\n      marginLeft: theme.spacing()\r\n    },\r\n    divider: {\r\n      marginTop: theme.spacing(),\r\n      marginBottom: theme.spacing()\r\n    },\r\n    group: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\",\r\n      padding: theme.spacing()\r\n    },\r\n    value: {\r\n      width: 300,\r\n      marginTop: theme.spacing(),\r\n      marginLeft: theme.spacing(2),\r\n      marginRight: theme.spacing(2)\r\n    }\r\n  });\r\n\r\ntype Props = HealthProps & WithStyles<typeof styles>;\r\n\r\nconst Health: React.FC<Props> = ({ classes, gameObjectId }) => (\r\n  <div className={classes.root}>\r\n    <Typography className={classes.header} variant=\"h6\">\r\n      <Trans>Fitness</Trans>\r\n    </Typography>\r\n    <Divider className={classes.divider} />\r\n    <div className={classes.group}>\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"HitPoints\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Stamina\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Calories\"\r\n        max={4000000}\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Breath\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Bladder\"\r\n      />\r\n    </div>\r\n    <Typography className={classes.header} variant=\"h6\">\r\n      <Trans>Mind</Trans>\r\n    </Typography>\r\n    <Divider className={classes.divider} />\r\n    <div className={classes.group}>\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Stress\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Decor\"\r\n      />\r\n    </div>\r\n    <Typography className={classes.header} variant=\"h6\">\r\n      <Trans>Disease</Trans>\r\n    </Typography>\r\n    <Divider className={classes.divider} />\r\n    <div className={classes.group}>\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"ImmuneLevel\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Toxicity\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"FoodPoisoning\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"ColdBrain\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"HeatRash\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"SlimeLung\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Sunburn\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"PutridOdour\"\r\n      />\r\n      <Value\r\n        className={classes.value}\r\n        gameObjectId={gameObjectId}\r\n        modifier=\"Spores\"\r\n      />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport default withStyles(styles)(Health);\r\n","import * as React from \"react\";\r\nimport { MinionModifiersBehavior } from \"oni-save-parser\";\r\nimport { find, findIndex, merge } from \"lodash\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nimport useBehavior from \"@/services/oni-save/hooks/useBehavior\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    valueLabel: {\r\n      marginBottom: theme.spacing()\r\n    }\r\n  });\r\n\r\nexport interface ValueProps {\r\n  className?: string;\r\n  gameObjectId: number;\r\n  modifier: string;\r\n  max?: number;\r\n}\r\n\r\ntype Props = ValueProps & WithStyles<typeof styles>;\r\n\r\nconst Value: React.FC<Props> = ({\r\n  className,\r\n  classes,\r\n  gameObjectId,\r\n  modifier,\r\n  max\r\n}) => {\r\n  const [transientValue, setTransientValue] = React.useState(-1);\r\n  const { extraData: { amounts }, onExtraDataModify } = useBehavior(gameObjectId, MinionModifiersBehavior);\r\n\r\n  const amount = find(amounts, x => x.name === modifier);\r\n  const value = (amount && amount.value.value) || 0;\r\n\r\n  const setAmount = React.useCallback((_: any, value: number | number[]) => {\r\n    const i = findIndex(amounts, x => x.name === modifier);\r\n    if (i === -1) {\r\n      return;\r\n    }\r\n    onExtraDataModify({\r\n      amounts: merge([], amounts, {\r\n        [i]: { name: modifier, value: { value: value as number } }\r\n      })\r\n    });\r\n  }, [onExtraDataModify, amounts, modifier]);\r\n\r\n  const setTransientAmount = React.useCallback((_: any, value: number | number[]) => {\r\n    setTransientValue(value as number);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Typography className={classes.valueLabel} id={`${modifier}-label`}>\r\n        <Trans i18nKey={`oni:todo-trans.modifiers.${modifier}`}>\r\n          {modifier}\r\n        </Trans>\r\n        {\": \"}\r\n        {String(transientValue !== -1 ? transientValue : value)}\r\n      </Typography>\r\n      <Slider\r\n        aria-labelledby={`${modifier}-label`}\r\n        value={transientValue !== -1 ? transientValue : value}\r\n        min={0}\r\n        max={max || 100}\r\n        onChange={setTransientAmount}\r\n        onChangeCommitted={setAmount}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withStyles(styles)(Value);\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      width: \"100%\",\r\n      height: \"100%\"\r\n    },\r\n    text: {\r\n      marginLeft: \"auto\",\r\n      marginRight: \"auto\",\r\n      marginTop: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = WithTranslation & WithStyles<typeof styles>;\r\n\r\nconst DuplicantNotFound: React.FC<Props> = ({ t, classes }) => (\r\n  <PageContainer title={t(\"duplicant.conditions.missing_titlecase\")} back>\r\n    <div className={classes.root}>\r\n      <Typography className={classes.text} variant=\"h5\">\r\n        {t(\"duplicant.conditions.missing_titlecase\")}\r\n      </Typography>\r\n    </div>\r\n  </PageContainer>\r\n);\r\n\r\nexport default withStyles(styles)(withTranslation()(DuplicantNotFound));\r\n","import GeysersPage from \"./GeysersPage\";\r\nexport default GeysersPage;\r\n","import * as React from \"react\";\r\nimport { GeyserTypeNames } from \"oni-save-parser\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport useGameObjects from \"@/services/oni-save/hooks/useGameObjects\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\nimport GeyserListItem from \"./components/GeyserListItem\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\",\r\n      margin: theme.spacing()\r\n    },\r\n    item: {\r\n      margin: theme.spacing(0.5)\r\n    }\r\n  });\r\n\r\ntype Props = WithStyles<typeof styles> & WithTranslation;\r\n\r\nconst GeysersPage: React.FC<Props> = ({ classes, t }) => {\r\n  const gameObjectIds = useGameObjects(\r\n    GeyserTypeNames.map(x => `GeyserGeneric_${x}`)\r\n  );\r\n  return (\r\n    <PageContainer title={t(\"geyser.noun_titlecase_plural\")}>\r\n      <RedirectIfNoSave />\r\n      <div className={classes.root}>\r\n        {gameObjectIds.map(gameObjectId => (\r\n          <GeyserListItem\r\n            key={gameObjectId}\r\n            className={classes.item}\r\n            gameObjectId={gameObjectId}\r\n          />\r\n        ))}\r\n      </div>\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(GeysersPage));\r\n","import * as React from \"react\";\r\nimport { GeyserType } from \"oni-save-parser\";\r\nimport classnames from \"classnames\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { Theme, makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nimport useGeyser from \"@/services/oni-save/hooks/useGeyser\";\r\n\r\nimport { keysOfType } from \"@/utils\";\r\n\r\nexport interface GeyserListItemProps {\r\n  gameObjectId: number;\r\n  className?: string;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    width: theme.spacing(45),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    padding: theme.spacing(2)\r\n  },\r\n  titleBar: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    marginBottom: theme.spacing()\r\n  },\r\n  titleControls: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    marginLeft: \"auto\"\r\n  },\r\n  sliderSection: {\r\n    marginTop: theme.spacing()\r\n  },\r\n  valueLabel: {\r\n    marginBottom: theme.spacing()\r\n  }\r\n}));\r\n\r\ntype Props = GeyserListItemProps & WithTranslation;\r\n\r\nconst GeyserListItem: React.FC<Props> = ({ className, gameObjectId, t }) => {\r\n  const styles = useStyles();\r\n\r\n  const {\r\n    geyserType,\r\n    emitRate,\r\n    yearLength,\r\n    yearActive,\r\n    emitActive,\r\n    onChangeEmitRate,\r\n    onChangeGeyserType,\r\n    onChangeYearLength,\r\n    onChangeYearActive,\r\n    onChangeEmitActive\r\n  } = useGeyser(gameObjectId);\r\n\r\n  const onGeyserTypeSelected = React.useCallback(\r\n    (e: React.ChangeEvent<{ value: unknown }>) => {\r\n      onChangeGeyserType(e.target.value as string);\r\n    },\r\n    [onChangeGeyserType]\r\n  );\r\n\r\n  const onGeyserRateChanged = React.useCallback(\r\n    (_: any, value: unknown) => {\r\n      const emitRate = (value as number) / 100;\r\n      onChangeEmitRate(emitRate);\r\n    },\r\n    [onChangeEmitRate]\r\n  );\r\n\r\n  const onGeyserYearLengthChanged = React.useCallback(\r\n    (_: any, value: unknown) => {\r\n      const fraction = (value as number) / 100;\r\n      onChangeYearLength(fraction);\r\n    },\r\n    [onChangeYearLength]\r\n  );\r\n\r\n  const onGeyserYearActiveChanged = React.useCallback(\r\n    (_: any, value: unknown) => {\r\n      const fraction = (value as number) / 100;\r\n      onChangeYearActive(fraction);\r\n    },\r\n    [onChangeYearActive]\r\n  );\r\n\r\n  const onGeyserEmissionLengthChanged = React.useCallback(\r\n    (_: any, value: unknown) => {\r\n      const fraction = (value as number) / 100;\r\n      onChangeEmitActive(fraction);\r\n    },\r\n    [onChangeEmitActive]\r\n  );\r\n\r\n  return (\r\n    <Paper className={classnames(className, styles.root)}>\r\n      <div className={styles.titleBar}>\r\n        <Typography variant=\"h6\">{geyserType}</Typography>\r\n        <div className={styles.titleControls} />\r\n      </div>\r\n      <Divider />\r\n      <Select value={geyserType || \"\"} onChange={onGeyserTypeSelected}>\r\n        {keysOfType(GeyserType).map(typeName => (\r\n          <MenuItem key={typeName} value={typeName}>\r\n            {typeName}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      <div className={styles.sliderSection}>\r\n        <Typography className={styles.valueLabel} id=\"lifecycle-label\">\r\n          {t(\"geyser.total_lifecycle_time\")}\r\n        </Typography>\r\n        <Slider\r\n          aria-labelledby=\"lifecycle-label\"\r\n          defaultValue={(yearLength || 0) * 100}\r\n          onChangeCommitted={onGeyserYearLengthChanged}\r\n        />\r\n      </div>\r\n      <div className={styles.sliderSection}>\r\n        <Typography className={styles.valueLabel} id=\"active-label\">\r\n          {t(\"geyser.active_time\")}\r\n        </Typography>\r\n        <Slider\r\n          aria-labelledby=\"active-label\"\r\n          defaultValue={(yearActive || 0) * 100}\r\n          onChangeCommitted={onGeyserYearActiveChanged}\r\n        />\r\n      </div>\r\n      <div className={styles.sliderSection}>\r\n        <Typography className={styles.valueLabel} id=\"emitting-label\">\r\n          {t(\"geyser.emission_length\")}\r\n        </Typography>\r\n        <Slider\r\n          aria-labelledby=\"emitting-label\"\r\n          defaultValue={(emitActive || 0) * 100}\r\n          onChangeCommitted={onGeyserEmissionLengthChanged}\r\n        />\r\n      </div>\r\n      <div className={styles.sliderSection}>\r\n        <Typography className={styles.valueLabel} id=\"rate-label\">\r\n          {t(\"geyser.emission_rate\")}\r\n        </Typography>\r\n        <Slider\r\n          aria-labelledby=\"rate-label\"\r\n          defaultValue={(emitRate || 0) * 100}\r\n          onChangeCommitted={onGeyserRateChanged}\r\n        />\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(GeyserListItem);\r\n","import * as React from \"react\";\r\nimport { GeyserType, GeyserBehavior } from \"oni-save-parser\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { AppState } from \"@/state\";\r\n\r\nimport { geyserConfigSelector } from \"../selectors/geysers\";\r\nimport { modifyBehavior, BehaviorDataTarget } from \"../actions/modify-behavior\";\r\nimport { changeGeyserType } from \"../actions/change-geyser-type\";\r\nimport { changeGeyserParameter } from \"../actions/change-geyser-parameter\";\r\n\r\nexport interface UseGeyser {\r\n  geyserType: string | null;\r\n  emitRate: number | null;\r\n  yearLength: number | null;\r\n  yearActive: number | null;\r\n  emitActive: number | null;\r\n  onChangeEmitRate(rate: number): void;\r\n  onChangeGeyserType(type: string): void;\r\n  onChangeYearLength(fraction: number): void;\r\n  onChangeYearActive(fraction: number): void;\r\n  onChangeEmitActive(fraction: number): void;\r\n}\r\n\r\nexport default function useGeyser(gameObjectId: number): UseGeyser {\r\n  const dispatch = useDispatch();\r\n  const config = useSelector((state: AppState) =>\r\n    geyserConfigSelector(state, gameObjectId)\r\n  );\r\n\r\n  const onChangeEmitRate = React.useCallback(\r\n    (rate: number) => {\r\n      dispatch(\r\n        modifyBehavior(\r\n          gameObjectId,\r\n          GeyserBehavior,\r\n          BehaviorDataTarget.Template,\r\n          {\r\n            configuration: {\r\n              rateRoll: rate\r\n            }\r\n          },\r\n          true\r\n        )\r\n      );\r\n    },\r\n    [dispatch, gameObjectId]\r\n  );\r\n\r\n  const onChangeGeyserType = React.useCallback(\r\n    (type: string) => {\r\n      dispatch(changeGeyserType(gameObjectId, type));\r\n    },\r\n    [dispatch, gameObjectId]\r\n  );\r\n\r\n  const onChangeYearLength = React.useCallback(\r\n    (fraction: number) => {\r\n      dispatch(changeGeyserParameter(gameObjectId, \"yearLengthRoll\", fraction));\r\n    },\r\n    [dispatch, gameObjectId]\r\n  );\r\n\r\n  const onChangeYearActive = React.useCallback(\r\n    (fraction: number) => {\r\n      dispatch(\r\n        changeGeyserParameter(gameObjectId, \"yearPercentRoll\", fraction)\r\n      );\r\n    },\r\n    [dispatch, gameObjectId]\r\n  );\r\n\r\n  const onChangeEmitActive = React.useCallback(\r\n    (fraction: number) => {\r\n      dispatch(\r\n        changeGeyserParameter(gameObjectId, \"iterationPercentRoll\", fraction)\r\n      );\r\n    },\r\n    [dispatch, gameObjectId]\r\n  );\r\n\r\n  return {\r\n    geyserType: config ? GeyserType[config.typeId.hash] : null,\r\n    emitRate: config ? config.rateRoll : null,\r\n    yearLength: config ? config.yearLengthRoll : null,\r\n    yearActive: config ? config.yearPercentRoll : null,\r\n    emitActive: config ? config.iterationPercentRoll : null,\r\n    onChangeEmitRate,\r\n    onChangeGeyserType,\r\n    onChangeYearLength,\r\n    onChangeYearActive,\r\n    onChangeEmitActive\r\n  };\r\n}\r\n","import createCachedSelector from \"re-reselect\";\r\nimport { gameObjectsByIdSelector } from \"./game-objects\";\r\nimport { getBehavior, GeyserBehavior } from \"oni-save-parser\";\r\n\r\nexport const geyserConfigSelector = createCachedSelector(\r\n  gameObjectsByIdSelector,\r\n  (_: any, gameObjectId: number) => gameObjectId,\r\n  (gameObjectsById, gameObjectId) => {\r\n    if (!gameObjectsById || !gameObjectsById[gameObjectId]) {\r\n      return null;\r\n    }\r\n    const gameObject = gameObjectsById[gameObjectId];\r\n\r\n    const geyserBehavior = getBehavior(gameObject, GeyserBehavior);\r\n    if (!geyserBehavior || !geyserBehavior.templateData.configuration) {\r\n      return null;\r\n    }\r\n    return geyserBehavior.templateData.configuration;\r\n  }\r\n)((_: any, gameObjectId: number) => gameObjectId);","import PlanetsPage from \"./PlanetsPage\";\r\nexport default PlanetsPage;","import React from \"react\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\n\r\nimport PlanetList from \"./components/PlanetList\";\r\n\r\nconst PlanetsPage: React.FC = () => (\r\n  <PageContainer title=\"Planets\">\r\n    <RedirectIfNoSave />\r\n    <PlanetList />\r\n  </PageContainer>\r\n);\r\n\r\nexport default PlanetsPage;\r\n","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport usePlanets from \"@/services/oni-save/hooks/usePlanets\";\r\n\r\nimport PlanetListItem from \"./PlanetListItem\";\r\n\r\nexport interface PlanetListProps {\r\n  className?: string;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      flexWrap: \"wrap\",\r\n      margin: theme.spacing()\r\n    },\r\n    item: {\r\n      margin: theme.spacing(0.5)\r\n    }\r\n  });\r\n\r\ntype Props = PlanetListProps & WithStyles<typeof styles>;\r\n\r\nconst PlanetList: React.FC<Props> = ({ className, classes }) => {\r\n  const { planetIds } = usePlanets();\r\n  return (\r\n    <div className={classnames(className, classes.root)}>\r\n      {planetIds.map(id => (\r\n        <PlanetListItem key={id} className={classes.item} planetId={id} />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(PlanetList);\r\n","import { useSelector } from \"react-redux\";\r\nimport { planetIdsSelector } from \"../selectors/space-manager\";\r\n\r\nexport interface UsePlanets {\r\n  planetIds: string[];\r\n}\r\n\r\nexport default function usePlanets() {\r\n  const planetIds = useSelector(planetIdsSelector);\r\n  return {\r\n    planetIds\r\n  };\r\n}","import PlanetListItem from \"./PlanetListItem\";\r\nexport default PlanetListItem;\r\n","import * as React from \"react\";\r\nimport classnames from \"classnames\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport usePlanet from \"@/services/oni-save/hooks/usePlanet\";\r\n\r\nimport RecoverableElement from \"./components/RecoverableElement\";\r\n\r\nexport interface PlanetListItemProps {\r\n  planetId: number;\r\n  className?: string;\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      width: theme.spacing(45),\r\n      display: \"flex\",\r\n      flexDirection: \"column\",\r\n      padding: theme.spacing(2)\r\n    },\r\n    titleBar: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginBottom: theme.spacing()\r\n    },\r\n    titleControls: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\",\r\n      marginLeft: \"auto\"\r\n    },\r\n    divider: {\r\n      marginBottom: theme.spacing()\r\n    },\r\n    contentLayout: {\r\n      display: \"flex\",\r\n      flexDirection: \"row\"\r\n    },\r\n    planetContainer: {\r\n      width: 100,\r\n      height: 100\r\n    },\r\n    planetImg: {\r\n      marginLeft: theme.spacing(),\r\n      marginRight: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = PlanetListItemProps & WithStyles<typeof styles>;\r\n\r\nconst PlanetListItem: React.FC<Props> = ({ classes, className, planetId }) => {\r\n  const { planet } = usePlanet(planetId);\r\n\r\n  if (!planet) {\r\n    return <Typography>No Data</Typography>;\r\n  }\r\n\r\n  const { type } = planet;\r\n\r\n  return (\r\n    <Paper className={classnames(className, classes.root)}>\r\n      <div className={classes.titleBar}>\r\n        <Typography variant=\"h6\">{type}</Typography>\r\n        <div className={classes.titleControls} />\r\n      </div>\r\n      <Divider className={classes.divider} />\r\n      <div className={classes.contentLayout}>\r\n        <div className={classes.planetImg}>\r\n          <svg\r\n            viewBox=\"0 0 70 70\"\r\n            width={70}\r\n            height={70}\r\n            className={classes.planetImg}\r\n          >\r\n            <circle cx={35} cy={35} r={35} fill=\"red\" />\r\n          </svg>\r\n        </div>\r\n        <div>\r\n          {planet.recoverableElements.map((_, index) => (\r\n            <RecoverableElement\r\n              key={index}\r\n              planetId={planetId}\r\n              resourceId={index}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(PlanetListItem);\r\n","import * as React from \"react\";\r\nimport { SimHashes } from \"oni-save-parser\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Slider from \"@material-ui/core/Slider\";\r\n\r\nimport usePlanet from \"@/services/oni-save/hooks/usePlanet\";\r\n\r\nexport interface RecoverableElementProps {\r\n  planetId: number;\r\n  resourceId: number;\r\n}\r\n\r\nexport const RecoverableElement: React.FC<RecoverableElementProps> = ({\r\n  planetId,\r\n  resourceId\r\n}) => {\r\n  const { planet, onModifyPlanet } = usePlanet(planetId);\r\n\r\n  const [transientValue, setTransientValue] = React.useState(-1);\r\n  const setTransientMass = React.useCallback(\r\n    (_: any, value: number | number[]) => {\r\n      setTransientValue(value as number);\r\n    },\r\n    []\r\n  );\r\n  const setMass = React.useCallback((_: any, value: number | number[]) => {\r\n    const newRecoverables = [...planet?.recoverableElements];\r\n    newRecoverables[resourceId] = [newRecoverables[resourceId][0], value as number];\r\n    onModifyPlanet({\r\n      recoverableElements: newRecoverables\r\n    });\r\n    setTransientValue(-1)\r\n  }, [\r\n    planet?.recoverableElements,\r\n    onModifyPlanet,\r\n    planetId\r\n  ]);\r\n\r\n  if (!planet) {\r\n    return null;\r\n  }\r\n\r\n  const resource = planet.recoverableElements[resourceId];\r\n  if (!resource) {\r\n    return null;\r\n  }\r\n  const [hash, mass] = resource;\r\n\r\n  const id = `planet-${planetId}-recoverable-${hash}`;\r\n\r\n  const currentMass = transientValue !== -1 ? transientValue : mass;\r\n  return (\r\n    <div>\r\n      <Typography id={id}>\r\n        {SimHashes[hash]} ({Math.round(currentMass * 100)}% mass)\r\n      </Typography>\r\n      <Slider\r\n        aria-labelledby={id}\r\n        value={currentMass}\r\n        min={0}\r\n        max={1}\r\n        step={0.01}\r\n        onChange={setTransientMass}\r\n        onChangeCommitted={setMass}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecoverableElement;\r\n","import MaterialsPage from \"./MaterialsPage\";\r\nexport default MaterialsPage;\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\nimport MaterialsTable from \"./components/MaterialsTable\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = WithStyles<typeof styles> & WithTranslation;\r\n\r\nconst MaterialsPage: React.FC<Props> = ({ classes, t }) => {\r\n  return (\r\n    <PageContainer title={t(\"material.noun_titlecase\")}>\r\n      <RedirectIfNoSave />\r\n      <MaterialsTable className={classes.root} />\r\n    </PageContainer>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(MaterialsPage));\r\n","import * as React from \"react\";\r\n\r\nimport { WithTranslation, withTranslation } from \"react-i18next\";\r\n\r\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\n\r\nimport { useMaterialList } from \"@/services/oni-save/hooks/useMaterials\";\r\n\r\nimport DeleteLooseButton from \"./DeleteLooseButton\";\r\n\r\nexport interface MaterialsPageProps {\r\n  className?: string;\r\n}\r\n\r\ntype Props = MaterialsPageProps & WithTranslation;\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  searchBox: {\r\n    margin: theme.spacing()\r\n  },\r\n  row: {\r\n    height: \"64px\"\r\n  }\r\n}));\r\n\r\nconst MaterialsTable: React.FC<Props> = ({ className, t }) => {\r\n  const styles = useStyles();\r\n  const materials = useMaterialList();\r\n  const [search, setSearch] = React.useState(\"\");\r\n  const onSearchChange = React.useCallback(\r\n    (e: React.ChangeEvent<HTMLInputElement>) => {\r\n      setSearch(e.target.value.toLowerCase());\r\n    },\r\n    []\r\n  );\r\n\r\n  function formatWeight(weight: number) {\r\n    if (Math.abs(weight) < 1000) {\r\n      const g = Number(weight.toFixed(2));\r\n      return t(\"material.gram\", { count: g });\r\n    }\r\n\r\n    const kg = Number((weight / 1000.0).toFixed(2));\r\n    return t(\"material.kilogram\", { count: kg });\r\n  }\r\n\r\n  const displayMaterials = materials.filter(\r\n    x => search === \"\" || x.name.toLowerCase().indexOf(search) !== -1\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <TextField\r\n        className={styles.searchBox}\r\n        label=\"Search\"\r\n        onChange={onSearchChange}\r\n      />\r\n      <Table className={className} size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>{t(\"material.noun_titlecase\")}</TableCell>\r\n            <TableCell>\r\n              <DeleteLooseButton />\r\n              {t(\"material_loose.noun_titlecase\")}\r\n            </TableCell>\r\n            <TableCell>{t(\"material_storage.noun_titlecase\")}</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {displayMaterials.map(\r\n            ({ name, looseGrams, looseCount, storedGrams, storedCount }) => (\r\n              <TableRow className={styles.row} key={name}>\r\n                <TableCell>{name}</TableCell>\r\n                <TableCell>\r\n                  {looseGrams > 0 && (\r\n                    <>\r\n                      <DeleteLooseButton materialType={name} />\r\n                      {formatWeight(looseGrams)}&nbsp;|&nbsp;\r\n                      {t(\"material_loose.clump_count\", { count: looseCount })}\r\n                    </>\r\n                  )}\r\n                </TableCell>\r\n                <TableCell>\r\n                  {storedGrams > 0 && (\r\n                    <>\r\n                      {formatWeight(storedGrams)}&nbsp;|&nbsp;\r\n                      {t(\"material_storage.container_count\", {\r\n                        count: storedCount\r\n                      })}\r\n                    </>\r\n                  )}\r\n                </TableCell>\r\n              </TableRow>\r\n            )\r\n          )}\r\n        </TableBody>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withTranslation()(MaterialsTable);\r\n","import {\r\n  GameObjectGroup,\r\n  GameObject,\r\n  getBehavior,\r\n  StorageBehavior,\r\n  PrimaryElementBehavior,\r\n  SimHashName\r\n} from \"oni-save-parser\";\r\nimport { createSelector } from \"reselect\";\r\nimport { values, orderBy, flatMap } from \"lodash\";\r\n\r\nimport { MaterialObjectName, MaterialGameObjectNames } from \"../materials\";\r\nimport { gameObjectGroupsSelector } from \"./game-objects\";\r\n\r\nexport interface MaterialListItem {\r\n  name: MaterialObjectName;\r\n  looseGrams: number;\r\n  looseCount: number;\r\n  storedGrams: number;\r\n  storedCount: number;\r\n}\r\n\r\nexport const materialsSelector = createSelector(\r\n  gameObjectGroupsSelector,\r\n  groups => {\r\n    const rowsByMaterial: Record<string, MaterialListItem> = {};\r\n\r\n    if (groups) {\r\n      for (const group of groups) {\r\n        countMaterialGroup(group, rowsByMaterial);\r\n      }\r\n    }\r\n\r\n    const rows = values(rowsByMaterial);\r\n    return orderBy(rows, [\"name\"]);\r\n  }\r\n);\r\n\r\nfunction countMaterialGroup(\r\n  group: GameObjectGroup,\r\n  rowsByMaterial: Record<string, MaterialListItem>\r\n) {\r\n  const loose = isMaterialGameObject(group.name);\r\n  if (loose) {\r\n    countLooseMaterialGroup(group, rowsByMaterial);\r\n  } else {\r\n    countStorageGroup(group, rowsByMaterial);\r\n  }\r\n}\r\n\r\nfunction countLooseMaterialGroup(\r\n  group: GameObjectGroup,\r\n  rowsByMaterial: Record<string, MaterialListItem>\r\n) {\r\n  for (const gameObject of group.gameObjects) {\r\n    addMaterialObject(\r\n      group.name as SimHashName,\r\n      gameObject,\r\n      true,\r\n      rowsByMaterial\r\n    );\r\n  }\r\n}\r\n\r\nfunction countStorageGroup(\r\n  group: GameObjectGroup,\r\n  rowsByMaterial: Record<string, MaterialListItem>\r\n) {\r\n  const storedObjects = flatMap(group.gameObjects, getStoredObjects);\r\n  for (const storedObject of storedObjects) {\r\n    const { type, gameObject } = storedObject;\r\n\r\n    if (!isMaterialGameObject(type)) {\r\n      continue;\r\n    }\r\n\r\n    addMaterialObject(type, gameObject, false, rowsByMaterial);\r\n  }\r\n}\r\n\r\nfunction getStoredObjects(\r\n  gameObject: GameObject\r\n): { type: string; gameObject: GameObject }[] {\r\n  const storage = getBehavior(gameObject, StorageBehavior);\r\n  if (!storage) {\r\n    return [];\r\n  }\r\n\r\n  return storage.extraData.map(({ name, ...gameObject }) => ({\r\n    type: name,\r\n    gameObject\r\n  }));\r\n}\r\n\r\nfunction getMaterialRow(\r\n  name: MaterialObjectName,\r\n  rowsByMaterial: Record<string, MaterialListItem>\r\n) {\r\n  if (!rowsByMaterial[name]) {\r\n    rowsByMaterial[name] = {\r\n      name,\r\n      looseCount: 0,\r\n      looseGrams: 0,\r\n      storedCount: 0,\r\n      storedGrams: 0\r\n    };\r\n  }\r\n  return rowsByMaterial[name];\r\n}\r\n\r\n// This should return `type is SimHashName`, but typescript wont let me\r\n//  make that assurance.\r\nfunction isMaterialGameObject(type: string): type is MaterialObjectName {\r\n  return MaterialGameObjectNames.indexOf(type as any) !== -1;\r\n}\r\n\r\nfunction addMaterialObject(\r\n  name: MaterialObjectName,\r\n  gameObject: GameObject,\r\n  loose: boolean,\r\n  rowsByMaterial: Record<string, MaterialListItem>\r\n) {\r\n  const elementBehavior = getBehavior(gameObject, PrimaryElementBehavior);\r\n  if (!elementBehavior) {\r\n    return;\r\n  }\r\n\r\n  const { Units } = elementBehavior.templateData;\r\n\r\n  // Use custom provided name, as many objects (food, clothing) have the same primary element.\r\n  const row = getMaterialRow(name, rowsByMaterial);\r\n\r\n  if (loose) {\r\n    row.looseCount++;\r\n    row.looseGrams += Units;\r\n  } else {\r\n    row.storedCount++;\r\n    row.storedGrams += Units;\r\n  }\r\n}\r\n","import { SimHashNames } from \"oni-save-parser\";\r\n\r\n// TODO: Seeds, clothing, other sweepables\r\nexport const MaterialGameObjectNames = [...SimHashNames];\r\nexport type MaterialObjectName = ArrayValues<typeof MaterialGameObjectNames>;\r\n","import * as React from \"react\";\r\nimport { SimHashName } from \"oni-save-parser\";\r\n\r\nimport { withTranslation, WithTranslation } from \"react-i18next\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\n\r\nimport { useDeleteMaterials } from \"@/services/oni-save/hooks/useMaterials\";\r\n\r\nimport ConfirmationDialog from \"@/components/ConfirmationDialog\";\r\n\r\nexport interface DeleteLooseButtonProps {\r\n  className?: string;\r\n  materialType?: SimHashName;\r\n}\r\n\r\ntype Props = DeleteLooseButtonProps & WithTranslation;\r\nconst DeleteLooseButton: React.FC<Props> = ({ className, materialType, t }) => {\r\n  const onDeleteMaterial = useDeleteMaterials();\r\n  const onDeleteConfirm = React.useCallback(() => {\r\n    onDeleteMaterial(materialType);\r\n  }, [onDeleteMaterial, materialType]);\r\n\r\n  return (\r\n    <ConfirmationDialog\r\n      title={t(\"material_loose.verbs.delete_name\", {\r\n        name: materialType || t(\"material.all_titlecase\")\r\n      })}\r\n      message={t(\"material_loose.prompts.delete\")}\r\n      onConfirm={onDeleteConfirm}\r\n    >\r\n      {({ onClick }) => (\r\n        <IconButton className={className} onClick={onClick}>\r\n          <DeleteIcon />\r\n        </IconButton>\r\n      )}\r\n    </ConfirmationDialog>\r\n  );\r\n};\r\nexport default withTranslation()(DeleteLooseButton);\r\n","import * as React from \"react\";\r\n\r\nimport { Trans } from \"react-i18next\";\r\n\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport interface ConfirmationDialogProps {\r\n  title: string;\r\n  message: string;\r\n  onConfirm(): void;\r\n  onCancel?(): void;\r\n  children(props: ConfirmationDialogRenderProps): React.ReactChild;\r\n}\r\nexport interface ConfirmationDialogRenderProps {\r\n  onClick(): void;\r\n}\r\n\r\ntype Props = ConfirmationDialogProps;\r\nconst ConfirmationDialog: React.FC<Props> = ({\r\n  title,\r\n  message,\r\n  onConfirm,\r\n  onCancel,\r\n  children\r\n}) => {\r\n  const [isOpen, setOpen] = React.useState(false);\r\n\r\n  const onCancelClick = React.useCallback(() => {\r\n    setOpen(false);\r\n    if (onCancel) {\r\n      onCancel();\r\n    }\r\n  }, [onCancel]);\r\n\r\n  const onConfirmClick = React.useCallback(() => {\r\n    setOpen(false);\r\n    onConfirm();\r\n  }, [onConfirm]);\r\n\r\n  return (\r\n    <>\r\n      {children({ onClick: () => setOpen(true) })}\r\n      <Dialog open={isOpen}>\r\n        {isOpen && (\r\n          <>\r\n            <DialogTitle>{title}</DialogTitle>\r\n            <DialogContent>\r\n              <Typography>{message}</Typography>\r\n            </DialogContent>\r\n            <DialogActions>\r\n              <Button onClick={onCancelClick}>\r\n                <Trans i18nKey=\"dialog.verbs.cancel_titlecase\" />\r\n              </Button>\r\n              <Button onClick={onConfirmClick}>\r\n                <Trans i18nKey=\"dialog.verbs.confirm_titlecase\" />\r\n              </Button>\r\n            </DialogActions>\r\n          </>\r\n        )}\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\nexport default ConfirmationDialog;\r\n","import connectRawEditorPage from \"./connector\";\r\nimport RawEditorPage from \"./RawEditorPage\";\r\nexport default connectRawEditorPage(RawEditorPage);\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { createStructuredSelector } from \"@/state\";\r\nimport { saveGameSelector } from \"@/services/oni-save/selectors/save-game\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  saveGame: saveGameSelector\r\n});\r\n\r\nexport default connect(mapStateToProps);\r\n","import * as React from \"react\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\nimport RedirectIfNoSave from \"@/components/RedirectIfNoSave\";\r\n\r\nimport RawObjectTree from \"./components/RawObjectTree\";\r\nimport BreadcrumbPath from \"./components/BreadcrumbPath\";\r\nimport ObjectEditor from \"./components/ObjectEditor\";\r\n\r\nexport interface RawEditorPageProps {\r\n  saveGame: SaveGame | null;\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n    width: \"100%\",\r\n    height: \"100%\"\r\n  },\r\n  tree: {\r\n    width: \"500px\",\r\n    overflow: \"auto\"\r\n  },\r\n  content: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    margin: theme.spacing()\r\n  }\r\n}));\r\n\r\nconst RawEditorPage: React.FC<RawEditorPageProps> = ({ saveGame }) => {\r\n  const classes = useStyles();\r\n  const [path, setPath] = React.useState([\"header\"]);\r\n  return (\r\n    <PageContainer title=\"Raw Editor\">\r\n      <RedirectIfNoSave />\r\n      <div className={classes.root}>\r\n        {saveGame && (\r\n          <>\r\n            <RawObjectTree\r\n              className={classes.tree}\r\n              saveGame={saveGame}\r\n              onChangePath={setPath}\r\n            />\r\n            <div className={classes.content}>\r\n              <BreadcrumbPath\r\n                path={path}\r\n                saveGame={saveGame}\r\n                onChangePath={setPath}\r\n              />\r\n              <ObjectEditor path={path} saveGame={saveGame} />\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </PageContainer>\r\n  );\r\n};\r\nexport default RawEditorPage;\r\n","import RawObjectTree from \"./RawObjectTree\";\r\nexport default RawObjectTree;\r\n","import * as React from \"react\";\r\nimport { get } from \"lodash\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport TreeView from \"@material-ui/lab/TreeView\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport TreeItem from \"@material-ui/lab/TreeItem\";\r\nimport { getSegmentName } from \"../../editor-data\";\r\n\r\nexport interface RawObjectTreeProps {\r\n  className?: string;\r\n  saveGame: SaveGame;\r\n  onChangePath(path: string[]): void;\r\n}\r\n\r\nconst RawObjectTree: React.FC<RawObjectTreeProps> = ({\r\n  className,\r\n  saveGame,\r\n  onChangePath\r\n}) => {\r\n  return (\r\n    <TreeView\r\n      className={className}\r\n      defaultCollapseIcon={<ExpandMoreIcon />}\r\n      defaultExpandIcon={<ChevronRightIcon />}\r\n    >\r\n      <RawTreeChildren\r\n        saveGame={saveGame}\r\n        path={[]}\r\n        onChangePath={onChangePath}\r\n      />\r\n    </TreeView>\r\n  );\r\n};\r\n\r\nexport default RawObjectTree;\r\n\r\ninterface RawTreeChildrenProps {\r\n  saveGame: SaveGame;\r\n  path: string[];\r\n  onChangePath(path: string[]): void;\r\n}\r\nconst RawTreeChildren: React.FC<RawTreeChildrenProps> = ({\r\n  saveGame,\r\n  path,\r\n  onChangePath\r\n}) => {\r\n  const target = path.length == 0 ? saveGame : get(saveGame, path);\r\n  const childrenKeys = Object.keys(target).filter(key =>\r\n    isObjectKey(target, key)\r\n  );\r\n  const children = childrenKeys.map(key => {\r\n    const childPath = [...path, key];\r\n    return (\r\n      <RawTreeChild\r\n        key={childPath.join(\".\")}\r\n        saveGame={saveGame}\r\n        path={childPath}\r\n        onChangePath={onChangePath}\r\n      />\r\n    );\r\n  });\r\n\r\n  return <>{children}</>;\r\n};\r\n\r\ninterface RawTreeChildProps {\r\n  saveGame: SaveGame;\r\n  path: string[];\r\n  onChangePath(path: string[]): void;\r\n}\r\nconst RawTreeChild: React.FC<RawTreeChildProps> = ({\r\n  saveGame,\r\n  path,\r\n  onChangePath\r\n}) => {\r\n  const onClick = React.useCallback(() => {\r\n    onChangePath(path);\r\n  }, [onChangePath, path]);\r\n\r\n  const segmentName = getSegmentName(saveGame, path);\r\n\r\n  return (\r\n    <TreeItem nodeId={path.join(\".\")} label={segmentName} onClick={onClick}>\r\n      <RawTreeChildren\r\n        saveGame={saveGame}\r\n        path={path}\r\n        onChangePath={onChangePath}\r\n      />\r\n    </TreeItem>\r\n  );\r\n};\r\n\r\nfunction isObjectKey(obj: any, key: string): boolean {\r\n  return obj[key] != null && typeof obj[key] === \"object\";\r\n}\r\n","import BreadcrumbPath from \"./BreadcrumbPath\";\r\nexport default BreadcrumbPath;\r\n","import * as React from \"react\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Breadcrumbs from \"@material-ui/core/Breadcrumbs\";\r\n\r\nimport { getSegmentName } from \"../../editor-data\";\r\n\r\nexport interface BreadcrumbPathProps {\r\n  saveGame: SaveGame;\r\n  path: string[];\r\n  onChangePath(path: string[]): void;\r\n}\r\n\r\nconst BreadcrumbPath: React.FC<BreadcrumbPathProps> = ({\r\n  path,\r\n  saveGame,\r\n  onChangePath\r\n}) => {\r\n  return (\r\n    <Breadcrumbs>\r\n      {path.map((_, i) => {\r\n        const segmentPath = path.slice(0, i + 1);\r\n        return (\r\n          <Typography key={i} color=\"inherit\" onClick={() => onChangePath(segmentPath)}>\r\n            {getSegmentName(saveGame, segmentPath)}\r\n          </Typography>\r\n        );\r\n      })}\r\n    </Breadcrumbs>\r\n  );\r\n};\r\n\r\nexport default BreadcrumbPath;\r\n","import ObjectEditor from \"./ObjectEditor\";\r\nexport default ObjectEditor;\r\n","import * as React from \"react\";\r\nimport { get } from \"lodash\";\r\nimport { SaveGame } from \"oni-save-parser\";\r\n\r\nimport { getSegmentEditor } from \"../../editor-data\";\r\n\r\nimport Editors from \"../FieldEditor\";\r\n\r\nexport interface ObjectEditorProps {\r\n  saveGame: SaveGame;\r\n  path: string[];\r\n}\r\n\r\nconst ObjectEditor: React.FC<ObjectEditorProps> = ({ saveGame, path }) => {\r\n  const target = path.length > 0 ? get(saveGame, path) : saveGame;\r\n  const editors: Record<string, string> = React.useMemo(\r\n    () =>\r\n      Object.keys(target).reduce(\r\n        (obj, key) => {\r\n          const editor = getSegmentEditor(saveGame, [...path, key]);\r\n          if (editor) {\r\n            obj[key] = editor;\r\n          }\r\n          return obj;\r\n        },\r\n        {} as Record<string, string>\r\n      ),\r\n    [target]\r\n  );\r\n\r\n  const editorFields = Object.keys(editors)\r\n    .sort()\r\n    .map(key => {\r\n      const editorType = editors[key];\r\n      if (editorType === \"undefined\") {\r\n        return null;\r\n      }\r\n      const EditorField = Editors[editorType];\r\n      if (!EditorField) {\r\n        return (\r\n          <div key={key}>\r\n            {`${key}: No editor available for type ${editorType}.`}\r\n          </div>\r\n        );\r\n      }\r\n      return (\r\n        <div key={key}>\r\n          <EditorField path={[...path, key]} />\r\n        </div>\r\n      );\r\n    }).filter(x => x != null);\r\n\r\n  return <div>{editorFields}</div>;\r\n};\r\n\r\nexport default ObjectEditor;\r\n","import * as React from \"react\";\r\n\r\nimport TextFieldEditor from \"./components/TextFieldEditor\";\r\nimport NumberFieldEditor from \"./components/NumberFieldEditor\";\r\nimport BooleanFieldEditor from \"./components/BooleanFieldEditor\";\r\n\r\nimport connectEditor from \"./editor-connector\";\r\nimport { EditorProps } from \"./EditorProps\";\r\n\r\nconst Editors: Record<string, React.ComponentType<EditorProps>> = {\r\n  string: connectEditor(TextFieldEditor),\r\n  number: connectEditor(NumberFieldEditor),\r\n  boolean: connectEditor(BooleanFieldEditor)\r\n};\r\n\r\nexport default Editors;\r\n","import * as React from \"react\";\r\nimport { last } from \"lodash\";\r\n\r\nimport CommitTextField from \"@/components/CommitTextField\";\r\n\r\nimport { UnconnectedEditorProps } from \"../EditorProps\";\r\n\r\nconst TextFieldEditor: React.FC<UnconnectedEditorProps> = ({\r\n  path,\r\n  value,\r\n  onValueChanged\r\n}) => {\r\n  const label = last(path)!;\r\n  return (\r\n    <CommitTextField\r\n      label={label}\r\n      value={String(value)}\r\n      onCommit={onValueChanged}\r\n    />\r\n  );\r\n};\r\n\r\nexport default TextFieldEditor;\r\n","import * as React from \"react\";\r\nimport { last } from \"lodash\";\r\n\r\nimport CommitTextField from \"@/components/CommitTextField\";\r\n\r\nimport { UnconnectedEditorProps } from \"../EditorProps\";\r\n\r\nconst NumberFieldEditor: React.FC<UnconnectedEditorProps> = ({\r\n  path,\r\n  value,\r\n  onValueChanged\r\n}) => {\r\n  const label = last(path)!;\r\n  return (\r\n    <CommitTextField\r\n      type=\"number\"\r\n      label={label}\r\n      value={String(value)}\r\n      onCommit={onValueChanged}\r\n    />\r\n  );\r\n};\r\n\r\nexport default NumberFieldEditor;\r\n","import * as React from \"react\";\r\nimport { last } from \"lodash\";\r\n\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\n\r\nimport { UnconnectedEditorProps } from \"../EditorProps\";\r\n\r\nconst BooleanFieldEditor: React.FC<UnconnectedEditorProps> = ({\r\n  path,\r\n  value,\r\n  onValueChanged\r\n}) => {\r\n  const label = last(path)!;\r\n  const onChange = React.useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\r\n    onValueChanged(e.target.checked)\r\n  }, [onValueChanged]);\r\n  return (\r\n    <FormControlLabel\r\n      control={\r\n        <Checkbox\r\n          checked={Boolean(value)}\r\n          onChange={onChange}\r\n          color=\"primary\"\r\n        />\r\n      }\r\n      label={label}\r\n    />\r\n\r\n  );\r\n};\r\n\r\nexport default BooleanFieldEditor;\r\n","import { connect } from \"react-redux\";\r\nimport { Dispatch } from \"redux\";\r\nimport { get } from \"lodash\";\r\n\r\nimport { AppState } from \"@/state\";\r\nimport { saveGameSelector } from \"@/services/oni-save/selectors/save-game\";\r\nimport { modifyRaw } from \"@/services/oni-save/actions/modify-raw\";\r\n\r\nimport { EditorProps } from \"./EditorProps\";\r\n\r\nfunction mapStateToProps(state: AppState, props: EditorProps) {\r\n  const saveGame = saveGameSelector(state);\r\n  const value = get(saveGame, props.path);\r\n  return {\r\n    value\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: Dispatch, props: EditorProps) {\r\n  return {\r\n    onValueChanged: (value: any) => dispatch(modifyRaw(props.path, value))\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);\r\n","import SettingsPage from \"./SettingsPage\";\r\nexport default SettingsPage;\r\n","import * as React from \"react\";\r\n\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles\r\n} from \"@material-ui/core/styles\";\r\n\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport PageContainer from \"@/components/PageContainer\";\r\n\r\nimport Language from \"./components/Language\";\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      padding: theme.spacing()\r\n    }\r\n  });\r\n\r\ntype Props = WithStyles<typeof styles>;\r\n\r\nconst SettingsPage: React.FC<Props> = ({ classes }) => (\r\n  <PageContainer title=\"Settings\" back>\r\n    <div className={classes.root}>\r\n      <div>\r\n        <Typography>Language</Typography>\r\n        <Language />\r\n      </div>\r\n    </div>\r\n  </PageContainer>\r\n);\r\nexport default withStyles(styles)(SettingsPage);\r\n","import Language from \"./component\";\r\nimport connectLanguage from \"./connector\";\r\nexport default connectLanguage(Language);\r\n","import * as React from \"react\";\r\nimport { entries, sortBy } from \"lodash\";\r\n\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nconst languages: Record<string, string> = {\r\n  en: \"English\",\r\n  zh: \"Chinese\",\r\n  ru: \"Russian\",\r\n  cs: \"Czech\",\r\n  es: \"Spanish\"\r\n};\r\n\r\nexport interface LanguageProps {\r\n  currentLanguage: string;\r\n  onChangeLanguage(language: string): void;\r\n}\r\nconst Language: React.FC<LanguageProps> = ({\r\n  currentLanguage,\r\n  onChangeLanguage\r\n}) => {\r\n  const onChange = React.useCallback(\r\n    (e: React.ChangeEvent<{ value: unknown }>) => {\r\n      onChangeLanguage(e.target.value as string);\r\n    },\r\n    [onChangeLanguage]\r\n  );\r\n\r\n  let langEntries = entries(languages);\r\n  langEntries = sortBy(langEntries, x => x[1]);\r\n\r\n  return (\r\n    <Select value={currentLanguage} onChange={onChange}>\r\n      {langEntries.map(([code, title]) => (\r\n        <MenuItem key={code} value={code}>\r\n          {title}\r\n        </MenuItem>\r\n      ))}\r\n    </Select>\r\n  );\r\n};\r\n\r\nexport default Language;\r\n","import { connect } from \"react-redux\";\r\n\r\nimport { currentLanguageSelector } from \"@/services/i18n/selectors/language\";\r\nimport { setLanguage } from \"@/services/i18n/actions/set-language\";\r\nimport { createStructuredSelector } from \"@/state\";\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  currentLanguage: currentLanguageSelector\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  onChangeLanguage: setLanguage\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n);\r\n"],"sourceRoot":""}